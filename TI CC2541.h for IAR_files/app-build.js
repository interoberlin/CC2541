/*! CHANGYAN2 2015-03-30 */
!function(){function isFunction(a){return"[object Function]"===Object.prototype.toString.call(a)}function define(a,b,c){if(modules[a])throw new Error("Module "+a+" has been defined already.");isFunction(b)&&(c=b),modules[a]={factory:c,inited:!1,exports:null}}function run(a){var module,exports,b,c;if(module=modules[a],exports={},b={},!isFunction(module.factory))throw new Error("Module "+a+" has no factory.");c=module.factory.call(void 0,require,exports,b),module.exports=void 0!==c?c:b.hasOwnProperty("exports")?b.exports:exports,module.inited=!0}function require(a){var module;if(module=modules[a],!module)throw new Error("Module "+a+" is not defined.");return module.inited===!1&&run(a),module.exports}var modules={};define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/log/global.js",function(require){var Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js");Backbone.Events.on("CUSTOM_EVT_MAIN_INIT",function(){!function(){var b=$(document);b.delegate("#SOHUCS","mousedown",function(){a.sendLog("CLICK-MAIN_WRAPPER")}),b.delegate("#changyan_floatbar_wrapper","mousedown",function(){a.sendLog("CLICK-FLOAT_BAR")}),b.delegate("#user_page","mousedown",function(){a.sendLog("CLICK-USER_PAGE")})}(),function(){var b=$(document);b.delegate('#changyan_floatbar_wrapper a[node-type="close"]',"mousedown",function(){a.sendLog("CLICK-FLOAT_BAR_CLOSE")})}(),function(){var b=$(document);b.delegate('#SOHUCS span[node-type="privilege-intro"]',"mousedown",function(){a.sendLog("CLICK-PRIVILEGE_BUTTON")}),b.delegate('#SOHUCS li[node-type="rich-sbtn"]',"mousedown",function(){a.sendLog("CLICK-RICH_BUTTON")})}(),function(){var b,c=!1,d=function(){if(!c){var b=$("#SOHUCS"),d=b.offset().top,e=$(document).scrollTop(),f=$(window).height();e+f>d&&(a.sendLog("DISPLAY-MAIN_WRAPPER"),c=!0)}};$(window).bind("scroll",function(){c||(b=window.setTimeout(d,100))}),d()}(),function(){var b=$(document);b.delegate('#changyan_floatbar_wrapper li[node-type="fav-btn"]',"mousedown",function(){a.sendLog("CLICK-FLOAT_FAV")}),b.delegate('#changyan_floatbar_wrapper div[node-type="share-list"] a',"mousedown",function(){a.sendLog("CLICK-FLOAT_SHARE_"+$(this).data("key").toUpperCase())});var c;b.delegate('#changyan_floatbar_wrapper li[node-type="share-btn"]',"mouseover",function(){window.clearTimeout(c),c=window.setTimeout(function(){a.sendLog("HOVER-FLOAT_SHARE")},1e3)})}(),function(){var b=$(document);b.delegate('#SOHUCS a[node-type="powered-by"]',"mousedown",function(){a.sendLog("CLICK-MAIN_WRAPPER_POWERED_BY")}),b.delegate('#user_page a[node-type="powered-by"]',"mousedown",function(){a.sendLog("CLICK-USER_PAGE_POWERED_BY")})}()}),function(){var b,c;Backbone.Events.on("CUSTOM_EVT_FLOAT_BAR_DISPLAY",function(d){c!==!0&&(window.clearTimeout(b),b=window.setTimeout(function(){"none"!==d.css("display")&&(a.sendLog("DISPLAY-FLOAT_BAR"),c=!0)},50))})}(),function(){window.setTimeout(function(){window.SOHUCS;a.sendUserLog("TOPIC_VIEW")},5e3)}(),function(){Backbone.Events.on("CUSTOM_EVT_POST_COMMENT_SUCCESS",function(b){a.sendUserLog("COMMENT_POST_SUCCESS",b.comment_id)})}(),function(){Backbone.Events.on("CUSTOM_EVT_SUPPORT_COMMENT_SUCCESS",function(b){a.sendUserLog("COMMENT_SUPPORT_SUCCESS",b.commentId)}),Backbone.Events.on("CUSTOM_EVT_OPPOSE_COMMENT_SUCCESS",function(b){a.sendUserLog("COMMENT_OPPOSE_SUCCESS",b.commentId)})}(),function(){var b;Backbone.Events.on("CUSTOM_EVT_HOT_WICKET_DISPLAY",function(c,d){b!==!0&&(b=!0,a.sendLog("HOT_WICKET_DISPLAY"),a.sendLog(1===d?"HOT_WICKET_DISPLAY_LEFT":"HOT_WICKET_DISPLAY_RIGHT"),c.delegate(".slidewindow ul li","mousedown",function(){a.sendLog(1===d?"HOT_WIKET_ITEM_CLICK_LEFT":"HOT_WIKET_ITEM_CLICK_RIGHT")}))})}(),function(){Backbone.Events.on("CUSTOM_EVT_HOT_LIST_RENDER",function(){a.sendLog("HOTNEWS_DISPLAY")})}()}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/stable/fav.js",function(require){{var Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js");require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js")}Backbone.Events.on("CUSTOM_EVT_USER_PAGE_RENDER",function(a){a.find("div.cont-tab-dw.cont-tab-bd").removeClass("cont-tab-new "),a.find("div.tab-name-dw.tab-name-bd li").eq(2).hide(),a.find("div.head-number-dw div.number-block-dw li").eq(3).hide(),a.find("div.head-number-dw div.number-block-dw li").eq(4).hide()}),Backbone.Events.on("CUSTOM_EVT_FLOAT_BAR_RENDER",function(a){a.find("div.cont-login-w.cont-login-new").hide(),a.find("div.cont-login-w.cont-login-w-old").show()})}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/stable/stable.js",function(require){require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/stable/fav.js")}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/hot-list/adjust-width.js",function(require,exports,module){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),b={adjustWidth:function(){var b=500,c={windowWidth:0,pageWidth:0,minLeft:0,minRight:0};c.windowWidth=$(window).width();var d=!1;return $("body").children("*:visible").not($("script,style,link")).each(function(){return d?!1:$(this).width()>900&&$(this).width()<$(document).width()&&$(this).height()>b&&2*$(this).offset().left+$(this).width()<=$(document).width()&&$(this).offset().left+10>=c.windowWidth-$(this).offset().left-$(this).outerWidth()?(c.minLeft=$(this).offset().left,c.pageWidth=$(this).outerWidth(),d=!0,!1):void $("body").children("*:visible").children("*:visible").not($("script,style,link")).each(function(){return $(this).width()>900&&$(this).width()<$(document).width()&&$(this).height()>b&&2*$(this).offset().left+$(this).width()<=$(document).width()&&$(this).offset().left+1>=c.windowWidth-$(this).offset().left-$(this).outerWidth()?(c.minLeft=$(this).offset().left,c.pageWidth=$(this).outerWidth(),d=!0,!1):void $("body").children("*:visible").children("*:visible").children("*:visible").not($("script,style,link")).each(function(){return $(this).width()<$(document).width()&&$(this).height()>b&&2*$(this).offset().left+$(this).width()<=$(document).width()&&$(this).offset().left+10>=c.windowWidth-$(this).offset().left-$(this).outerWidth()?(c.minLeft=$(this).offset().left,c.pageWidth=$(this).outerWidth(),d=!0,!1):(c.minLeft=0,void(c.pageWidth=0))})})}),c.minRight=c.minLeft+c.pageWidth,function(){"cyrcLHL8w"===a.dev.get("isv:appid")&&(c.pageWidth=970,c.minLeft=(c.windowWidth-c.pageWidth)/2,c.minRight=c.minLeft+c.pageWidth)}(),c}};module.exports=b}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/hot-list/template.js",function(require,exports,module){module.exports='\n        <div class="slide-container">\n			<div class="slidewindow">\n				<ul></ul>\n			</div>\n			<div class="slideline slide-down slideline-shake">\n				<a hidefocus="true" href="javascript:;"></a>\n			</div>\n		</div>\n    '}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/hot-list/view.js",function(require){var b=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),c=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/util.js"),d=b.dev.get("isv:config");if("beta"===d.isv_type&&"1"===d.hot_topic_wicket){var e=$('<iframe frameborder="0" allowTransparency="true"></iframe>');e.css({border:"0",display:"none",width:"120px",position:"fixed",top:"0","z-index":2147483647}),$("body").append(e);var f=function(){var d=e.get(0).contentWindow,f=d.document;!function(a){var b=a.getElementsByTagName("head")[0]||a.head,c=a.createElement("meta");c.setAttribute("http-equiv","content-type"),c.setAttribute("content","text/html; charset=utf-8"),b.appendChild(c)}(f),function(){c.loadCss(f,"v2.5/src/widget/hot-list/reset.v3.1.1.css"),c.loadCss(f,"v2.5/src/widget/hot-list/hot-list.css")}();var g;!function(){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/hot-list/template.js");g=$(a),$(f).find("body").append(g)}(),function(){!function(){var a=null,b=Math.round(Math.random());$(window).resize(function(){window.clearTimeout(a),a=setTimeout(function(){var a=120,c=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/hot-list/adjust-width.js"),d=c.adjustWidth();d.minLeft>a?(Backbone.Events.trigger("CUSTOM_EVT_HOT_WICKET_DISPLAY",g,b),e.css(1==b?{display:"block",left:(d.minLeft-a)/2+"px"}:{display:"block",right:(d.windowWidth-d.minRight-a)/2+"px"})):e.css({display:"none"})},300)}),$(window).trigger("resize")}(),function(){var a=function(a){var b="";for(var c in a)b+='<li><a hidefocus="true" href="'+a[c].url+'" target="_blank" title="'+a[c].title+'"><img src="'+a[c].img+'" width="100" height="75"><p>'+a[c].title+"</p></a></li>";g.find(".slidewindow ul").append(b)},c={client_id:b.dev.get("isv:appid"),topic_id:b.sohucs("SOHUCS.nodeData.listData.topic_id")};$.ajax({cache:!1,dataType:"jsonp",timeout:3e4,type:"GET",data:c,scriptCharset:"utf-8",url:b.dev.get("isv:uri:api")+"api/labs/hotnews/recommend",success:function(b){0===b.status&&0!==b.data.length?a(b.data):e.hide()},error:function(){e.hide()}})}(),function(){g.delegate(".slideline a","click",function(){$(this).toggle(function(){e.height((g.find(".slidewindow ul li").height()+10)*g.find(".slidewindow ul li").length+10+g.find(".slideline").height()+20),g.find(".slideline").removeClass("slideline-shake"),g.find(".slidewindow").slideDown("slow",function(){g.find(".slideline").addClass("slide-up").removeClass("slide-down").find("a").removeClass("hover")})},function(){g.find(".slidewindow").slideUp(function(){e.height(g.find(".slideline").height()+20),g.find(".slideline").addClass("slide-down").removeClass("slide-up").find("a").removeClass("hover")})}),$(this).trigger("click")})}(),function(){g.delegate(".slideline a","mouseover",function(){$(this).addClass("hover")}).delegate(".slideline a","mouseout",function(){$(this).removeClass("hover")})}(),function(){function b(a){var b=a.match(/[^\x00-\xff]/gi);return a.length+(null==b?0:b.length)}function c(b,c){var d=0,e=0;str_cut=new String,e=b.length;for(var f=0;e>f;f++)if(a=b.charAt(f),d++,escape(a).length>4&&d++,str_cut=str_cut.concat(a),d>=c)return str_cut;return c>d?b:void 0}$(".slidewindow ul li a p").each(function(){var a=$(this),d=a.text();b(d)>28&&$(this).text(c(d,28))}),g.delegate(".slidewindow ul li","mouseover",function(){b($(this).find("p").text())>14&&$(this).find("p").stop(!0,!1).animate({height:"28px"})}).delegate("li","mouseout",function(){$(this).find("p").stop(!0,!1).animate({height:"14px"})})}(),function(){var a,b;window.setTimeout(function(){$(document).bind("scroll",function(){b!==!0&&(window.clearTimeout(a),a=window.setTimeout(function(){var a=$(window).height(),c=$(document).scrollTop(),d=$("#SOHUCS").offset().top;c+a>d&&(g.find(".slideline a").trigger("click"),b=!0)},50))}),$(document).trigger("scroll")},1e3)}()}()};window.setTimeout(f,0)}}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/float-bar/template.js",function(require,exports,module){module.exports={tmpl:'\n            <div id="changyan_floatbar_wrapper">\n                <div id="bottombar-wrap-w" style="bottom:0;">\n                    <div class="close-w"><a node-type="close" href="javascript:;">关闭</a></div>\n                    <div class="wrap-cont-w">\n                        <div class="cont-minwidth-w">\n                            <div class="cont-comment-w">\n                                <span class="comment-text-w">立刻说两句吧！</span>\n                                <a class="comment-link-w" href="javascript:;">查看<i>{{commentNum}}</i>条评论</a>\n                            </div>\n                            <div class="cont-form-w">\n                                <div node-type="post-form" class="form-text-w">\n                                    <span class="btn-load-bf"></span>\n                                    <a class="button-w" href="javascript:void(0)">按钮</a>\n                                    <input type="text" value="{{defaultText}}" class="text-w" />\n                                </div>\n                                <!-- 广告 -->\n                                <!--\n                                <div class="activity-entry-w">\n                                    <div class="entry-text-w">发表评论即可赢取奥迪发表评论即可赢取奥迪</div>\n                                    <div class="entry-img-w"><img src="" width="44" height="32" alt=""/></div>\n                                </div>\n                                -->\n                                <!-- 广告 end -->\n                            </div>\n                        </div>\n                        <!-- login  Begin -->\n                        <div class="cont-login-w cont-login-new">\n                            <div class="user_func">\n                                <ul class="clear func_wrap">\n                                    {{^cy_login}}\n                                    <li node-type="login-btn" class="func_login"><a href="javascript:;">登录</a></li>\n                                    {{/cy_login}}\n                                    {{#cy_login}}\n                                    <li node-type="user-name" class="func_login"><span class="global-substring">{{nickname}}</span></li>\n                                    {{/cy_login}}\n                                    <li node-type="fav-btn" class="func_collect"><a href="javascript:;"><i class="ico"></i>收藏</a></li>\n                                    <li node-type="fav-btn" data-val="faved" class="func_collect" style="display: none;"><span>已收藏</span></li>\n                                    <li node-type="share-btn" class="func_share"><a href="javascript:;"><i class="ico"></i>分享</a></li>\n                                </ul>\n                                <!-- 登录浮窗 Begin -->\n                                <div node-type="login-list" class="func_select login_select" style="display: none;">\n                                    <ul class="clear">\n                                        {{#loginList.renren}}\n                                        <li><a data-key="renren" class="icon-renren-w" href="javascript:;">人人网</a></li>\n                                        {{/loginList.renren}}\n                                        {{#loginList.qq}}\n                                        <li><a data-key="qq" class="icon-qq-w" href="javascript:;">腾讯</a></li>\n                                        {{/loginList.qq}}\n                                        {{#loginList.sina}}\n                                        <li><a data-key="sina" class="icon-sina-w" href="javascript:;">新浪</a></li>\n                                        {{/loginList.sina}}\n                                        {{#loginList.sohu}}\n                                        <li><a data-key="sohu" class="icon-sohu-w" href="javascript:;">搜狐</a></li>\n                                        {{/loginList.sohu}}\n                                    </ul>\n                                    <div class="arrow"></div>\n                                </div>\n                                <!-- 登录浮窗 End   -->\n                                <!-- 分享浮窗 Begin -->\n                                <div node-type="share-list" class="func_select share_select" style="display: none;">\n                                    <ul class="clear">\n                                        <li><a data-key="renren" class="icon-renren-w" href="javascript:;">人人网</a></li>\n                                        <li><a data-key="qzone" class="icon-qzone-w" href="javascript:;">QQ空间</a></li>\n                                        <li><a data-key="weixin" class="icon-weixin-w" href="javascript:;">腾讯微信</a></li>\n                                        <li><a data-key="sina" class="icon-sina-w" href="javascript:;">新浪</a></li>\n                                    </ul>\n                                    <div class="arrow"></div>\n                                </div>\n                                <!-- 分享浮窗 End   -->\n                                <!-- 分享浮窗-二维码 Begin -->\n                                <div node-type="weixin-code" class="two_dimension" style="display: none;">\n                                    <div class="dimension_wrap"><img src="about:blank" width="90" height="90" alt=""/>\n                                        <div class="dimension_close"><a href="javascript:;"></a></div>\n                                    </div>\n                                    <p class="dimension_text">用微信扫描二维码即可分享此网页至好友和朋友圈</p>\n                                </div>\n                                <!-- 分享浮窗-二维码 End   -->\n                            </div>\n                        </div>\n                        <!-- login  End -->\n                        \n                        <!-- login old Begin -->\n                        <div class="cont-login-w cont-login-w-old" style="display: none;">\n                            {{#cy_login}}\n                            <div node-type="user-name" class="login-wrap-w">\n                                <span>{{nickname}}<a class="floatbar_quit" href="javascript:void(0)">[退出]</a></span>\n                            </div>\n                            {{/cy_login}}\n                            {{^cy_login}}\n                            <div class="logout-wrap-w">\n                                <ul node-type="login-list" class="floatbar_platform post-login-w">\n                                    <li class="first-w" ><span>登录：</span></li>\n                                    {{#loginList.renren}}\n                                    <li><a data-key="renren" class="icon-renren-w" href="javascript:;"></a></li>\n                                    {{/loginList.renren}}\n                                    {{#loginList.qq}}\n                                    <li><a data-key="qq" class="icon-qq-w" href="javascript:;"></a></li>\n                                    {{/loginList.qq}}\n                                    {{#loginList.sina}}\n                                    <li><a data-key="sina" class="icon-sina-w" href="javascript:;"></a></li>\n                                    {{/loginList.sina}}\n                                    {{#loginList.sohu}}\n                                    <li><a data-key="sohu" class="icon-sohu-w" href="javascript:;"></a></li>\n                                    {{/loginList.sohu}}\n                                </ul>\n                            </div>\n                            {{/cy_login}}\n                        </div>\n                        <!-- login old End -->\n                        \n                    </div>\n                </div>\n            </div>\n        '}}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/float-bar/view-login.js",function(require,exports){{var $=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js");require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js")}exports.init=function(a){var b=function(){var b,c=function(){window.clearTimeout(b),0!==a.find('div[node-type="login-list"] a').length&&a.find('div[node-type="login-list"]').show()},d=function(){b=window.setTimeout(function(){a.find('div[node-type="login-list"]').hide()},200)};a.on("mouseenter",'li[node-type="login-btn"]',c),a.on("mouseleave",'li[node-type="login-btn"]',d),a.on("mouseenter",'div[node-type="login-list"]',c),a.on("mouseleave",'div[node-type="login-list"]',d),a.on("click",'li[node-type="login-btn"]',function(){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/login-dialog/view.js");a.show()})},c=function(){var b=function(a){var b=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cy-login/cy-login.js");b.login($(a.target).data("key"))},c=function(){SOHUCS.model.titleModel.trigger("EVT_USER_PAGE",{uid:SOHUCS.cboxData.info.user_id,place:0})};a.on("click",'div[node-type="login-list"] a',b),a.on("click",'li[node-type="user-name"] span',c)};b(),c()}}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/cy-share.js",function(require,exports,module){var a=(require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),window.encodeURIComponent),b={"weibo-sohu":{id:"1",name:"搜狐微博",shortName:"搜狐登录",className:"sohu",winWidth:100,winHeight:100,display:"none"},sina:{id:"2",name:"新浪微博",shortName:"微博登录",className:"sina",winWidth:754,winHeight:537,display:"block"},qq:{id:"3",name:"QQ",shortName:"QQ登录",className:"qq",winWidth:800,winHeight:520,display:"block"},"weibo-qq":{id:"4",name:"腾讯微博",shortName:"腾讯登录",className:"qq-weibo",winWidth:640,winHeight:480,display:"none"},163:{id:"5",name:"网易微博",shortName:"网易登录",className:"163",winWidth:960,winHeight:645,display:"none"},renren:{id:"6",name:"人人网",shortName:"人人登录",className:"renren",winWidth:645,winHeight:415,display:"block"},baidu:{id:"7",name:"百度",shortName:"百度登录",className:"baidu",winWidth:532,winHeight:336,display:"none"},douban:{id:"8",name:"豆瓣",shortName:"豆瓣登录",className:"douban",winWidth:532,winHeight:640,display:"none"},kaixin:{id:"9",name:"开心",shortName:"开心登录",className:"kaixin",winWidth:100,winHeight:100,display:"none"},taobao:{id:"10",name:"淘宝",shortName:"淘宝登录",className:"taobao",winWidth:532,winHeight:390,display:"none"},sohu:{id:"11",name:"搜狐",shortName:"搜狐登录",className:"sohu",winWidth:580,winHeight:424,display:"block",hideBind:"true"}},c=function(a,b){var c="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,d="undefined"!=typeof window.screenY?window.screenY:window.screenTop,e="undefined"!=typeof window.outerWidth?window.outerWidth:document.documentElement.clientWidth,f="undefined"!=typeof window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,g=a.winWidth||400,h=a.winHeight||300,i=parseInt(c+(e-g)/2,10),j=parseInt(d+(f-h)/2.5,10);window.open(b,"","alwaysRaised=yes,left="+i+",top="+j+",width="+g+",height="+h+",scrollbars=no,z-look=yes")},d={renren:function(d){var e="http://widget.renren.com/dialog/share?",f=["resourceUrl="+a(d.url),"pic="+a(d.pic),"title="+a(d.title),"description="+a(d.content),"message="];c(b.renren,e+f.join("&"))},qzone:function(d){var e="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?",f=["url="+encodeURI(decodeURIComponent(d.url)),"title="+a(d.title),"pics="+a(d.pic),"summary="+a(d.content)];c(b.qq,e+f.join("&"))},sina:function(d){var e="http://v.t.sina.com.cn/share/share.php?",f=["appkey=3874358783","title="+a(d.content),"url="+a(d.url),"pic="+a(d.pic),"source="+a(d.source),"sourceUrl="+a(d.url),"ralateUid=3066179133"];c(b.sina,e+f.join("&"))}};module.exports=d}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/float-bar/view-share.js",function(require,exports){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js");exports.init=function(b){var c=!1,d=function(){var a,d=function(){window.clearTimeout(a),b.find('div[node-type="share-list"]').show()},e=function(){a=window.setTimeout(function(){c||b.find('div[node-type="share-list"]').hide()},200)};b.on("mouseenter",'li[node-type="share-btn"]',d),b.on("mouseleave",'li[node-type="share-btn"]',e),b.on("mouseenter",'div[node-type="share-list"]',d),b.on("mouseleave",'div[node-type="share-list"]',e)},e=function(){var d=function(){c=!1,b.find('div[node-type="share-list"]').hide(),b.find('div[node-type="weixin-code"]').hide()},e=function(d){var e=$(d.target),f=e.data("key"),g=function(){var c=b.find('div[node-type="weixin-code"] img'),d={width:150,height:150,format:"png",content:encodeURIComponent(window.location.href)};c.data("is-loaded")||(c.data("is-loaded",!0),$.ajax({cache:!1,dataType:"jsonp",timeout:3e4,data:d,url:a.dev.get("isv:uri:api")+"api/tool/qrcode",success:function(a){c.attr("src",a.url)}}))};"weixin"===f&&(c=!0,b.find('div[node-type="weixin-code"]').fadeIn(),g())},f=function(a){a.stopPropagation()};b.on("click",'div[node-type="share-list"]',f),b.on("click",'li[node-type="share-btn"]',f),b.on("click",'div[node-type="weixin-code"]',f),b.on("click",'div[node-type="share-list"] li a',e),b.on("click",'div[node-type="weixin-code"] a',d),$(document).click(d)},f=function(){var a={url:"http://changyan.sohu.com/",title:"畅言 - 专业的社会化评论系统",content:"畅言是一个简单而强大的社会化评论及聚合平台。用户可以直接用自己的社会化网络账户在第三方网站发表评论，增加第三方网站用户活跃度，调动好友参与评论，帮助网站实现社会化网络优化，有效提升网站社会化流量！",pic:"http://changyan.sohu.com/platformstatic/images/footer-b03.gif",source:"搜狐畅言"};$.extend(a,{url:SOHUCS.articleInfo.topicurl,title:decodeURIComponent(SOHUCS.articleInfo.title),content:decodeURIComponent(SOHUCS.articleInfo.title)+"（分享自 @搜狐畅言）"});var c=function(b){var c=$(b.target),d=c.data("key"),e=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/cy-share.js");e[d]&&e[d](a)};b.on("click",'div[node-type="share-list"] a',c)};d(),e(),f()}}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/float-bar/model.js",function(require,exports,module){var Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),a=Backbone.Model.extend({defaults:{commentNum:0,cy_login:!1,nickname:"畅言用户",loginList:{}},initialize:function(){}});module.exports=new a}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/float-bar/view.js",function(require,exports,module){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),b=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/underscore.js"),Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),c=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/mustache.js"),d=(require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js"),require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/float-bar/model.js")),e=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/float-bar/view-share.js"),f=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/float-bar/view-login.js"),g=Backbone.View.extend({template:require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/float-bar/template.js"),events:{"click .comment-link-w":"pinglunHandle",'click a[node-type="close"]':"closeFloatBox",'click li[node-type="fav-btn"]':"fav",'click div[node-type="post-form"] a':"clickPostBtn",'keydown div[node-type="post-form"] input':"textChange",'focus div[node-type="post-form"] input':"textFocus",'blur div[node-type="post-form"] input':"textBlur"},initialize:function(){b.bindAll(this,"render","bindScroll","pinglunHandle","closeFloatBox","fav","clickPostBtn"),this.bindScroll(),this.listenTo(this.model,"change",this.render)},render:function(){var b=this,d=this.model.toJSON(),g=c.to_html(this.template.tmpl,d);this.$el.html(g),Backbone.Events.trigger("CUSTOM_EVT_FLOAT_BAR_RENDER",this.$el),f.init(this.$el),e.init(this.$el),function(){$.ajax({cache:!1,dataType:"jsonp",timeout:3e4,type:"GET",url:a.dev.get("isv:uri:api")+"api/2/user/isfavorite",data:{favorite_url:SOHUCS.articleInfo.topicurl},success:function(a){var c;try{0===a.code&&(c=b.$el.find('li[node-type="fav-btn"]'),c.hide(),c.next().show())}catch(d){}}})}()},bindScroll:function(){var a=this,b=function(){try{var b=$(window).scrollTop(),c=$(window).height(),d=$("#SOHUCS").offset().top,e=$("#SOHUCS").height();b>d+e||d>c+b?$("#changyan_floatbar_wrapper:hidden")&&"hide"!=$("#changyan_floatbar_wrapper").attr("data-status")&&a.$el.show():a.$el.hide(),Backbone.Events.trigger("CUSTOM_EVT_FLOAT_BAR_DISPLAY",a.$el)}catch(f){}};SOHUCS.isipad?($(window).bind("touchmove",function(){b();try{$("#bottombar-wrap-w").hasClass("ipad_input_focus")&&$("#bottombar-wrap-w").removeClass("ipad_input_focus")}catch(a){}}),$(window).scroll(b)):$(window).scroll(b),$(b)},pinglunHandle:function(){var a=$("#SOHUCS").offset().top||0;window.setTimeout(function(){window.scrollTo(0,a)},0)},closeFloatBox:function(a){a.preventDefault(),a.stopPropagation(),$("#changyan_floatbar_wrapper").attr("data-status","hide").hide()},fav:function(b){var c=this,d=$(b.target).closest('li[node-type="fav-btn"]'),e=function(){$.ajax({cache:!1,dataType:"jsonp",timeout:3e4,type:"GET",data:{client_id:SOHUCS.clientid,favorite_title:SOHUCS.articleInfo.title,favorite_url:SOHUCS.articleInfo.topicurl,action_type:1},url:a.dev.get("isv:uri:api")+"api/2/user/favorite",success:function(a){var b=c.$el.find('li[node-type="fav-btn"]');try{if(0===a.code&&(b.hide(),b.next().show(),a.data.isfirst===!0)){if(window.changyan.isFavPrompt===!0)return;SOHUCS.model.titleModel.trigger("EVT_USER_PAGE",{uid:SOHUCS.cboxData.info.user_id,place:2}),window.changyan.isFavPrompt="ready"}}catch(d){}}})},f=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/login-dialog/view.js");return"faved"===d.data("val")?void SOHUCS.model.titleModel.trigger("EVT_USER_PAGE",{uid:SOHUCS.cboxData.info.user_id,place:2}):void f.loginCheck(e)},clickPostBtn:function(){var a=function(a){for(var b=1;5>b;b++)!function(b){window.setTimeout(function(){b%2===0?a.addClass("form-text-e"):a.removeClass("form-text-e")},100*b)}(b)},b=this.$el.find('div[node-type="post-form"]'),c=b.find("input"),d=$.trim(c.val());""===d||d===this.model.get("defaultText")?a(b):Backbone.Events.trigger("CUSTOM_EVT_POST_COMMENT",c,function(){})},textChange:function(a){var b=$(a.target),c=$.trim(b.val());""!==c&&b.closest('div[node-type="post-form"]').removeClass("form-text-e")},textFocus:function(a){var b=$(a.target),c=$.trim(b.val());(""===c||c===this.model.get("defaultText"))&&b.val("")},textBlur:function(a){var b=$(a.target),c=$.trim(b.val());""===c&&b.val(this.model.get("defaultText"))}});module.exports=new g({model:d})}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/sso.js",function(require,exports){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),b=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js");exports.init=function(){SOHUCS.userinfo.cyLogin=function(b){var c=this,d=c.isv_userinfo||{},e={},d=d.user,f=a.dev.get("isv:uri:api")+"api/2/login/isv";e.client_id=SOHUCS.clientid,e.nickname=d.nickname,e.img_url=d.img_url,e.profile_url=d.profile_url,e.isv_user_id=d.user_id,e.sign=d.sign,$.ajax({url:f,type:"get",data:e,dataType:"jsonp",scriptCharset:"utf-8",jsonpCallback:"cyLoginFn",success:function(a){try{if(a&&a.error_code&&10212==a.error_code)return c._plugURL=a.error_msg,void c._plugAction(c._plugURL,function(){c.cyLogin(b)});c.cy_islogin=2,c.cy_userinfo=a,b&&b()}catch(d){}},error:function(){}})},SOHUCS.userinfo.isvLogin=function(a,c){if(this.isSSO){var d=this,e=c||decodeURIComponent(SOHUCS.config.sys.plugins.isvLogin),f=d.cy_userinfo||SOHUCS.userinfoData;cyUserId=f.user_id,requestData={},requestData.cy_user_id=cyUserId,requestData.nickname=encodeURIComponent(f.nickname)||"cnull",requestData.img_url=encodeURIComponent(f.img_url)||"",requestData.profile_url=encodeURIComponent(f.profile_url)||"",requestData.user_id=f.isv_refer_id||"",requestData.sign=encodeURIComponent(f.sign)||"",$.ajax({url:e,type:"get",dataType:"jsonp",data:requestData,jsonpCallback:"isv_login",scriptCharset:"utf-8",success:function(c){try{var d=$.extend({},requestData);if(d.user_id=c.user_id,c.js_src&&c.js_src.length)b.parentExecScript(c.js_src,c.reload_page);else if(1===c.reload_page)return void b.reload();a&&a(d)}catch(e){a&&a(requestData)}},error:function(){a&&a(requestData)}})}},SOHUCS.userinfo.isvLogout=function(a){var c=decodeURIComponent(SOHUCS.config.sys.plugins.isvLogout);$.ajax({url:c,type:"get",dataType:"jsonp",jsonpCallback:"isv_quit",scriptCharset:"utf-8",success:function(c){if(SOHUCS.cy_login=1,SOHUCS.userinfo.isv_islogin=1,c.js_src&&c.js_src.length>0)b.parentExecScript(c.js_src,c.reload_page,a);else{if(1===c.reload_page)return void b.reload();a&&a()}},error:function(){a&&a()}})},SOHUCS.userinfo._plugAction=function(a,b){$.ajax({type:"get",url:a,dataType:"jsonp",jsonp:"cb",jsonpCallback:"cb",scriptCharset:"utf-8",success:function(a){try{2!=a.code&&b&&b()}catch(c){}},error:function(){try{}catch(a){}}})},SOHUCS.userinfo.cyIsvHandle=function(a){var b=this,c=(SOHUCS.model.userinfoModel,SOHUCS.model.userinfoModel),d=SOHUCS.cy_login,e=b.isv_islogin;if(2===d){if(b.cy_userinfo=SOHUCS.model.userinfoModel.toJSON(),2===e)parseInt(b.cy_userinfo.isv_refer_id)!==parseInt(b.isv_userinfo.user.user_id)||b.isv_userinfo.user.img_url!==b.cy_userinfo.img_url?b.cyLogin(function(){c.set({trigger:!c.get("trigger")}),a&&a()
}):c.set({trigger:!c.get("trigger")});else if(1===e){if(2==SOHUCS.config.sys.plugins.ssoType)return void changyan.api.quit(function(){c.set({trigger:!c.get("trigger")}),a&&a()});b.isvLogin(function(){b.data=b.data?b.data:{type:"user",info:b.cy_userinfo},c.set({trigger:!c.get("trigger")}),a&&a()})}}else 2!==e?c.set({trigger:!c.get("trigger")}):SOHUCS.userinfo.cyLogin(function(){SOHUCS.model.userinfoModel.clear({silent:!0}),SOHUCS.model.userinfoModel.fetch({data:{client_id:SOHUCS.clientid},dataType:"jsonp",scriptCharset:"utf-8",jsonpCallback:"userinfoFn"+Math.ceil(1e3*Math.random()),success:function(b,d){try{SOHUCS.cy_login=d.error_code?1:2,c.set({trigger:!c.get("trigger")}),a&&a()}catch(e){}}})})},SOHUCS.userinfo.queryIsvUserInfo=function(a){var b=void 0==SOHUCS.page_config?{}:SOHUCS.page_config;if(b&&b.isv_userinfo)try{var c=b.isv_userinfo();c&&0===c.is_login?SOHUCS.userinfo.isv_islogin=1===c.abort_login?0:1:(SOHUCS.userinfo.isv_islogin=2,SOHUCS.userinfo.isv_userinfo=c),a&&a()}catch(d){throw new Error("isv userinfo API error")}else $.ajax({url:decodeURIComponent(SOHUCS.config.sys.plugins.isvUserInfo),type:"get",jsonpCallback:"queryUserInfoFn",dataType:"jsonp",success:function(b){try{b&&0===b.is_login?SOHUCS.userinfo.isv_islogin=1===b.abort_login?0:1:(SOHUCS.userinfo.isv_islogin=2,SOHUCS.userinfo.isv_userinfo=b),a&&a()}catch(c){throw new Error("isv userinfo API error")}},error:function(){throw new Error("isv userinfo API error")}})}}}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/upage/userPageTemp.js",function(require,exports,module){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js"),b=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/face.js"),c={userPageTemp:'\n            <div class="reset-g windows-define-dg user-msg-wrapper-dw" id="user_page">\n                <div class="wrapper-cont-dw wrapper-cont-bd">\n                    <div class="clear-g cont-head-dw cont-head-bd">\n                        <div class="clear-g head-box-dw">\n                            <div class="box-pic-dw box-pic-bd">\n                                <img width="78" height="78" alt="" src="{{{userImgSub}}}" onerror="SOHUCS.isImgErr(this)">\n                            </div>\n                            <div class="box-msg-dw" title="{{nickname}}">\n                                <strong class="msg-name-dw global-substring">{{nickNameSub}}</strong>\n                                {{#displayUserLevel}}{{{userLevelSub}}}{{/displayUserLevel}}\n                                <!--<span class="msg-address-dw msg-address-bd">{{{fromSub}}}</span>-->\n                            </div>\n                        </div>\n                        <div class="head-number-dw">\n                            <div class="number-close-dw"><a href="javascript:void(0)"></a></div>\n                            <div class="number-block-dw">\n                                <ul class="clear-g">\n                                    <li><strong class="block-sum-dw">{{comment_number}}</strong><span class="block-word-dw">评论</span></li>\n                                    <li class="gap-dw"></li>\n                                    <li><strong class="block-sum-dw">{{reply_number}}</strong><span class="block-word-dw">回复</span></li>\n                                    <li class="gap-dw"></li>\n                                    <li><strong class="block-sum-dw" node-type="fav-count">0</strong><span class="block-word-dw">收藏</span></li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="cont-tab-dw cont-tab-new cont-tab-bd cont-tab-emit-de">\n                        <div class="tab-name-dw tab-name-bd">\n                            <ul class="clear-g">\n                                <li class="name-current-e"><strong>发出的评论</strong></li>\n                                <li><strong>收到的回复</strong></li>\n                                <li><strong>我的收藏</strong></li>\n                            </ul>\n                        </div>\n                        <div class="tab-cont-wrap-dw">\n                            <!-- 发出评论内容  Begin -->\n                            <div class="wrap-area-dw wrap-area-a">\n                                {{#comments}}\n                                <div class="area-emit-dw area-emit-bd">\n                                    <div class="wrap-issue-gw">\n                                        <p class="issue-wrap-gw"><span class="wrap-word-bg">{{{comtentSub}}}</span></p>\n                                    </div>\n                                    <!-- picture show  Begin -->\n                                    {{#commImgSub}}\n                                    <div class="wrap-picture-show-gw wrap-picture-hide-e">\n                                        <div class="picture-box-gw picture-box-bg">\n                                            <div class="box-action-gw box-action-bg">\n                                                <ul class="clear-g">\n                                                    <li class="action-area-gw action-hide-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>收起</a></li>\n                                                    <li><i class="gap-gw gap-bg"></i></li>\n                                                    <li class="action-area-gw action-look-gw"><a href="javascript:void(0)" target="_blank"><i class="area-icon-gw"></i>查看原图</a></li>\n                                                    <li><i class="gap-gw gap-bg"></i></li>\n                                                    <li class="action-area-gw action-left-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>向左转</a></li>\n                                                    <li><i class="gap-gw gap-bg"></i></li>\n                                                    <li class="action-area-gw action-right-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>向右转</a></li>\n                                                </ul>\n                                            </div>\n                                            <div class="box-area-gw">\n                                                <div class="area-image-gw area-image-e" id="{{id}}"></div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    {{/commImgSub}}\n                                    <!-- picture show  End -->\n                                    <div class="msg-time-address-dw msg-time-address-bd">\n                                        <span class="time-bd">{{{repalyTimeSub}}}</span>，<span class="address-bd">来自：{{isv_name}}<a href="{{topic_url}}" target="_blank">“{{topic_title}}”</a></span>\n                                    </div>\n                                </div>\n                                {{/comments}}\n                            </div>\n                            <!-- 发出的评论 内容  End -->\n                            <!-- 收到的回复 内容  Begin -->\n                            <div class="wrap-area-dw wrap-area-b">\n                                <div class="area-get-dw area-get-bd">\n                                    {{#replies}}\n                                    <div class="clear-g block-cont-gw block-cont-bg" cmtid={{comment_id}}>\n                                        <div class="cont-head-gw">\n                                            {{#passport}}\n                                            <div class="head-img-gw">\n                                                <a href="javascript:void(0)"><img src="{{userImgSub}}" onerror="SOHUCS.isImgErr(this)" width="42" height="42" alt=""/></a>\n                                            </div>\n                                            {{/passport}}\n                                        </div>\n                                        <div class="cont-msg-gw">\n                                            <div class="msg-wrap-gw">\n                                                <div class="wrap-user-gw"><span class="user-name-gw">{{nickname}}</span></div>\n                                                <div class="wrap-issue-gw">\n                                                    <p class="issue-wrap-gw"><span class="wrap-word-bg">{{{comtentSub}}}</span></p>\n                                                </div>\n                                                <!-- picture show  Begin -->\n                                                {{#commImgSub}}\n                                                <div class="wrap-picture-show-gw wrap-picture-hide-e">\n                                                    <div class="picture-box-gw picture-box-bg">\n                                                        <div class="box-action-gw box-action-bg">\n                                                            <ul class="clear-g">\n                                                                <li class="action-area-gw action-hide-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>收起</a></li>\n                                                                <li><i class="gap-gw gap-bg"></i></li>\n                                                                <li class="action-area-gw action-look-gw"><a href="javascript:void(0)" target="_blank"><i class="area-icon-gw"></i>查看原图</a></li>\n                                                                <li><i class="gap-gw gap-bg"></i></li>\n                                                                <li class="action-area-gw action-left-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>向左转</a></li>\n                                                                <li><i class="gap-gw gap-bg"></i></li>\n                                                                <li class="action-area-gw action-right-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>向右转</a></li>\n                                                            </ul>\n                                                        </div>\n                                                        <div class="box-area-gw">\n                                                            <div class="area-image-gw area-image-e" id="{{id}}"></div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                {{/commImgSub}}\n                                                <!-- picture show  End -->\n                                                <div class="wrap-reply-from-dw">\n                                                    <p class="reply-dw">回复我的评论<span>“{{{replyContSub}}}”</span></p>\n                                                    <p class="from-dw">来自：{{isv_name}}<span><a href="{{topic_url}}" target="_blank">{{topicTitleSub}}</a></span></p>\n                                                </div>\n                                                <div class="clear-g wrap-action-gw">\n                                                    <div class="action-click-gw">\n                                                        <i class="gap-gw"></i>\n                                                        <span class="click-ding-gw"><a href="javascript:void(0)"><i class="icon-gw icon-ding-bg"></i><em class="icon-name-bg"></em></a></span>\n                                                        {{#showCai}}\n                                                        <i class="gap-gw gap-bg"></i>\n                                                        <span class="click-cai-gw"><a href="javascript:void(0)"><i class="icon-gw icon-cai-bg"></i><em class="icon-name-bg"></em></a></span>\n                                                        {{/showCai}}\n                                                        <i class="gap-gw"></i>\n                                                        <span class="click-reply-gw click-reply-eg"><a href="javascript:void(0)">回复</a></span>\n                                                        <i class="gap-gw"></i>\n                                                    </div>\n                                                </div>\n                                                <div class="wrap-reply-gw">\n                                                    <!-- reply area  Begin -->\n                                                    <!-- reply area  End -->\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    {{/replies}}\n                                </div>\n                            </div>\n                            <!-- 收到的回复 内容  End -->\n                            <!-- 我的收藏  Begin -->\n                            <div class="wrap-area-dw wrap-area-c"></div>\n                            <!-- 我的收藏  End   -->\n                        </div>\n                    </div>\n                    <div class="cont-service-dw cont-service-bd">\n                        <span class="service-cont-dw service-cont-bd"><a node-type="powered-by" href="http://changyan.sohu.com?from=changyan" target="_blank">Powered by 畅言</a></span>\n                    </div>\n                    \n                    <!-- 用户升级提示 Begin -->\n                    {{#displayUserLevel}}{{{levelUpSub}}}{{/displayUserLevel}}\n                    <!-- 用户升级提示 End -->\n                    \n                    <!-- 等级说明  Begin -->\n                    {{{levelText}}}\n                    <!-- 等级说明  End -->\n                    \n                    <!-- 收藏提示  Begin  -->\n                    <div node-type="fav-prompt-wrapper" class="cont-collect-gw" style="display: none;">\n                        <div class="collect-bg-gw"></div>\n                        <div class="collect-btn-gw"><a href="javascript:;"></a></div>\n                    </div>\n                    <!-- 收藏提示  End    -->\n                </div>\n            </div>\n            <div class="cy_screen_cover" style="{{pageSizeSub}}z-index: 13;position: absolute;top:0px;left:0px;display: block;background-color: #fff;opacity:0.01;filter:alpha(opacity=1)"></div>\n        ',commentsTemp:'\n            {{#comments}}\n            <div class="area-emit-dw area-emit-bd">\n                <div class="wrap-issue-gw">\n                    <p class="issue-wrap-gw"><span class="wrap-word-bg">{{{comtentSub}}}</span></p>\n                </div>\n                <!-- picture show  Begin -->\n                {{#commImgSub}}\n                <div class="wrap-picture-show-gw wrap-picture-hide-e">\n                    <div class="picture-box-gw picture-box-bg">\n                        <div class="box-action-gw box-action-bg">\n                            <ul class="clear-g">\n                                <li class="action-area-gw action-hide-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>收起</a></li>\n                                <li><i class="gap-gw gap-bg"></i></li>\n                                <li class="action-area-gw action-look-gw"><a href="javascript:void(0)" target="_blank"><i class="area-icon-gw"></i>查看原图</a></li>\n                                <li><i class="gap-gw gap-bg"></i></li>\n                                <li class="action-area-gw action-left-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>向左转</a></li>\n                                <li><i class="gap-gw gap-bg"></i></li>\n                                <li class="action-area-gw action-right-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>向右转</a></li>\n                            </ul>\n                        </div>\n                        <div class="box-area-gw">\n                            <div class="area-image-gw area-image-e" id="{{id}}"></div>\n                        </div>\n                    </div>\n                </div>\n                {{/commImgSub}}\n                <!-- picture show  End -->\n                <div class="msg-time-address-dw msg-time-address-bd">\n                    <span class="time-bd">{{{repalyTimeSub}}}</span>，<span class="address-bd">来自：{{isv_name}}<a href="{{topic_url}}" target="_blank">“{{topic_title}}”</a></span>\n                </div>\n            </div>\n            {{/comments}}\n        ',repliesTemp:'\n            {{#replies}}\n            <div class="clear-g block-cont-gw block-cont-bg" cmtid={{comment_id}}>\n                <div class="cont-head-gw">\n                    {{#passport}}\n                    <div class="head-img-gw">\n                        <a href="javascript:void(0)"><img src="{{userImgSub}}" onerror="SOHUCS.isImgErr(this)" width="42" height="42" alt=""/></a>\n                    </div>\n                    {{/passport}}\n                </div>\n                <div class="cont-msg-gw">\n                    <div class="msg-wrap-gw">\n                        <div class="wrap-user-gw">\n                            <span class="user-name-gw">{{nickname}}</span>\n                        </div>\n                        <div class="wrap-issue-gw">\n                            <p class="issue-wrap-gw"><span class="wrap-word-bg">{{{comtentSub}}}</span></p>\n                        </div>\n                        <!-- picture show  Begin -->\n                        {{#commImgSub}}\n                        <div class="wrap-picture-show-gw wrap-picture-hide-e">\n                            <div class="picture-box-gw picture-box-bg">\n                                <div class="box-action-gw box-action-bg">\n                                    <ul class="clear-g">\n                                        <li class="action-area-gw action-hide-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>收起</a></li>\n                                        <li><i class="gap-gw gap-bg"></i></li>\n                                        <li class="action-area-gw action-look-gw"><a href="javascript:void(0)" target="_blank"><i class="area-icon-gw"></i>查看原图</a></li>\n                                        <li><i class="gap-gw gap-bg"></i></li>\n                                        <li class="action-area-gw action-left-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>向左转</a></li>\n                                        <li><i class="gap-gw gap-bg"></i></li>\n                                        <li class="action-area-gw action-right-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>向右转</a></li>\n                                    </ul>\n                                </div>\n                                <div class="box-area-gw">\n                                    <div class="area-image-gw area-image-e" id="{{id}}"></div>\n                                </div>\n                            </div>\n                        </div>\n                        {{/commImgSub}}\n                        <!-- picture show  End -->\n                        <div class="wrap-reply-from-dw">\n                            <p class="reply-dw">回复我的评论<span>“{{{replyContSub}}}”</span></p>\n                            <p class="from-dw">来自：{{isv_name}}<span><a href="{{topic_url}}" target="_blank">{{topicTitleSub}}</a></span></p>\n                        </div>\n                        <div class="clear-g wrap-action-gw">\n                            <div class="action-click-gw">\n                                <i class="gap-gw"></i>\n                                <span class="click-ding-gw"><a href="javascript:void(0)"><i class="icon-gw icon-ding-bg"></i><em class="icon-name-bg"></em></a></span>\n                                {{#showCai}}\n                                <i class="gap-gw gap-bg"></i>\n                                <span class="click-cai-gw"><a href="javascript:void(0)"><i class="icon-gw icon-cai-bg"></i><em class="icon-name-bg"></em></a></span>\n                                {{/showCai}}\n                                <i class="gap-gw"></i>\n                                <span class="click-reply-gw click-reply-eg"><a href="javascript:void(0)">回复</a></span>\n                                <i class="gap-gw"></i>\n                            </div>\n                        </div>\n                        <div class="wrap-reply-gw"></div>\n                    </div>\n                </div>\n            </div>\n            {{/replies}}\n        ',favTemp:'\n            {{^list}}\n                <div style="width:100%;height:20px;text-align: center;margin-top: 100px;">您还没有收藏过文章</div>\n            {{/list}}\n            {{#appendList}}\n            <div node-type="fav-item" data-id="{{clientId}}" data-title="{{favoriteTitle}}" data-url="{{favoriteUrl}}" class="collect-lump-dw collect-lump-e">\n                <p class="lump-title-dw global-substring"><a href="{{favoriteUrl}}" title="{{favoriteTitle}}" target="_blank">{{favoriteTitle}}</a></p>\n                <div class="clear-g lump-action-dw">\n                    <div class="action-from-dw">{{date}}，来自：<a href="{{isvUrl}}" target="_blank">{{isvName}}</a></div>\n                    <div class="action-cancel-dw"><span class="cancel-btn-dw"><a node-type="fav-cancel" href="javascript:;">取消收藏</a></span></div>\n                </div>\n            </div>\n            {{/appendList}}\n        ',shareTemp:'\n            <div class="reset-g windows-define-dg share-wrapper-dw">\n                <div class="wrapper-loading-dw wrapper-loading-bd">\n                    <ul class="clear-g">\n                        <li><a href="javascript:void(0)" class="evt-share-sina"><span class="icon-sina-b"></span></a></li>\n                        <li><a href="javascript:void(0)" class="evt-share-qzone"><span class="icon-qzone-b"></span></a></li>\n                        <li><a href="javascript:void(0)" class="evt-share-renren"><span class="icon-renren-b"></span></a></li>\n                    </ul>\n                </div>\n            </div>\n        ',levelText:'\n            <div node-type="level-text" class="cont-level-text-w">\n                <div class="text-head-w clear-g">\n                    <h4 class="head-name-w">等级说明</h4>\n                    <div class="head-link-w"><a node-type="hide-level-text" href="javascript:void(0)">&lt;&lt;返回我的评论</a></div>\n                </div>\n                <ul class="text-title-w clear-g">\n                    <li class="col-1-w">等级</li>\n                    <li class="col-2-w">头衔</li>\n                    <li class="col-3-w">评论数</li>\n                    <li class="col-4-w">特权</li>\n                </ul>\n                {{#user_level}}\n                <ul class="text-kinds-w">\n                    <li class="col-1-w">{{{level}}}</li>\n                    <li class="col-2-w">{{{title}}}</li>\n                    <li class="col-3-w">{{{exp}}}}</li>\n                    <li class="col-4-w">\n                        {{^privilegeDespAsJson.bold}}{{^privilegeDespAsJson.color}}无{{/privilegeDespAsJson.color}}{{/privilegeDespAsJson.bold}}\n                        {{^privilegeDespAsJson.color}}{{#privilegeDespAsJson.bold}}评论加粗{{/privilegeDespAsJson.bold}}{{/privilegeDespAsJson.color}}\n                        {{#privilegeDespAsJson.color}}炫彩评论 + 评论加粗{{/privilegeDespAsJson.color}}\n                    </li>\n                </ul>\n                {{/user_level}}\n            </div>\n        ',formatContent:function(){var c;return(void 0===this.status||0===this.status)&&(c=a.decode(this.content)),1===this.status&&(c="该评论已被删除。"),2===this.status&&(c="该评论正在审核中。"),c=b.ubbToImg(c)},replyContent:function(){var a=this.replied_content||"",c=a.length>20?"…":"",d=a.substring(0,20)+c;return d=b.ubbToImg(d)},fromContent:function(){var a=this.from,b="";return a&&"游客"!=a&&(b="（来自"+a+")"),b},replayTime:function(){var a,b=parseInt(this.create_time),c=new Date,d=c.getTime(),e=new Date(b),f=e.getMonth()+1,g=parseInt(e.getDate()),h=e.getFullYear(),i=e.getHours(),j=e.getMinutes(),k=36e5,l=3e5,m="",n=c.toLocaleDateString(d)==e.toLocaleDateString(b)?!0:!1;return n?c-e>=l&&k>c-e?(a=parseInt((c-e)/1e3/60),m=a+"分钟前"):l>c-e?m="刚刚":c-e>k&&(m="今日"+i+":"+(j>=10?j:"0"+j)):c-e>=l&&k>c-e?(a=parseInt((c-e)/1e3/60),m=a+"分钟前"):l>c-e?m="刚刚":c-e>k&&(m=h+"年"+f+"月"+g+"日 "+i+":"+(j>=10?j:"0"+j)),m},wirteImgId:function(){var a={};if(this.attachments&&this.attachments[0]&&this.attachments[0].url){var b=this.comment_id;return a.id="img"+b+"u",a}},getPageSize:function(){var a="",b=document.documentElement.scrollHeight||document.body.scrollHeight,c=document.documentElement.clientWidth||document.body.clientWidth;return a="height:"+b+"px;width:"+c+"px;"},getUserImg:function(){var b=this.img_url;return b||(b=a.getUserDefaultIcon()),b},getTopicTitle:function(){var a=this.topic_title,b=this.isv_name;return subTitle="“"+a.substring(0,25-b.length)+"…”"},userLevel:function(){var a="",b="",c="user-1-4-gw user-1-gw";return this.userScore&&(c=this.userScore.level<=4?"user-1-4-gw":this.userScore.level<=7?"user-5-7-gw":"user-8-10-gw",this.userScore.levelUp&&this.userScore.levelUp>0&&this.uid==this.currentUid+""&&(b='<i class="level-lead-gw"></i>'),a='<span node-type="show-level-text" level="'+this.userScore.level+'" score="'+this.userScore.score+'" class="user-level-gw '+c+" user-"+this.userScore.level+'-gw" title="等级'+this.userScore.level+'"><i class="lvBg-w">'+this.userScore.title+"</i>"+b+"</span>"),a},levelUp:function(){var a="";if(this.userScore&&this.userScore.levelUp&&this.userScore.levelUp>0&&this.uid==this.currentUid+""){var b="msg-bg-first-gw";this.userScore.levelUp>1&&(b=""),a='<div class="cont-mask-gw"></div>\n                     <div class="cont-message-gw">\n                        <div class="msg-bg-gw '+b+'"></div>\n                        <div class="msg-btn-gw" id="btn-user-level-iknow"><a href="javascript:void(0);"></a></div>\n                     </div>'}return a},nickName:function(){function a(a,b){for(var c=new String,d=0,e=0;e<a.length;e++)if(c=c.concat(a.charAt(e)),d++,a.charCodeAt(e)>255&&d++,d+2>b)return c;return c}for(var b=this.userScore&&this.userScore.title||"",c=this.nickname,d=0,e=0;e<b.length;e++)b.charCodeAt(e)>255?d+=2:d++;return a(c,20-d)}};module.exports=c}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/upage/userPageView.js",function(require,exports,module){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),b=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/underscore.js"),c=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/mustache.js"),d=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/upage/userPageTemp.js"),e=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js"),f=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/cboxModel.js"),g=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/cboxView.js"),h=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/imageUpload.js"),i=null,$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),j={};SOHUCS.config.extend&&SOHUCS.config.extend.frontend&&"scs"!=SOHUCS.config.extend.frontend.path&&(j=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/upage/userPageTemp.js"),b.extend(d,j));var k=Backbone.View.extend({el:"div",events:{},initialize:function(){this.listenTo(this.model,"change:favorites",this.favRender),b.bindAll(this,"favCancel")},bindEvent:function(){var a=this;this.$el.on("click",".number-close-dw a",this.closeTab),this.$el.on("click",'span[node-type="show-level-text"]',this.showLevelText),this.$el.on("click",'a[node-type="hide-level-text"]',this.hideLevelText),this.$el.on("click","#btn-user-level-iknow",this.IKnowHandle),this.$el.on("click",'a[node-type="fav-cancel"]',this.favCancel),this.$el.on("click",'div[node-type="fav-prompt-wrapper"] a',function(){window.changyan.isFavPrompt=!0,a.$el.find('div[node-type="fav-prompt-wrapper"]').hide()}),this.$el.on("mouseover",'div[node-type="fav-item"]',function(a){$(a.target).closest('div[node-type="fav-item"]').find('a[node-type="fav-cancel"]').show()}),this.$el.on("mouseout",'div[node-type="fav-item"]',function(a){$(a.target).closest('div[node-type="fav-item"]').find('a[node-type="fav-cancel"]').hide()})},favRender:function(){var a=this.model.get("favorites");if(a.silent!==!0){var b=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/util.js");b.formatListDateText(a.appendList||[],"date","date");var e=c.to_html(d.favTemp,a),f=$("#user_page").find(".wrap-area-dw").eq(2);a.list.length?f.append($(e)):f.html(e),$("#user_page").find('strong[node-type="fav-count"]').html(a.total)}},favCancel:function(a){a.stopPropagation();var b=$(a.target).closest('div[node-type="fav-item"]'),c=b.data("id"),d=b.data("title"),e=b.data("url");this.model.favDelete(c,d,e,function(){b.remove()})},render:function(){var b=d.userPageTemp,f="",g=this,h={};h.replies=g.model.get("replies"),h.comment_number=g.model.get("comment_number"),h.comments=g.model.get("comments"),h.from=g.model.get("from"),h.img_url=g.model.get("img_url"),h.nickname=g.model.get("nickname"),h.oppose_number=g.model.get("oppose_number"),h.profile_url=g.model.get("profile_url"),h.reply_number=g.model.get("reply_number"),h.support_number=g.model.get("support_number"),h.uid=g.model.get("uid"),h.isv_refer_id=g.model.get("isv_refer_id"),h.userScore=g.model.get("userScore"),h.currentUid=SOHUCS.model.userinfoModel&&SOHUCS.model.userinfoModel.attributes&&SOHUCS.model.userinfoModel.attributes.user_id,h.displayUserLevel="undefined"==typeof SOHUCS.nodeData.configData.data.globalSite.useUserLevel?!1:SOHUCS.nodeData.configData.data.globalSite.useUserLevel,h.showCai=SOHUCS.config.sys.module.list.listAction.opposed?{}:void 0;var i=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/util.js");i.formatListDateText(h.comments||[],"create_time","repalyTimeSub"),i.formatListDateText(h.replies||[],"create_time","repalyTimeSub"),h.commImgSub=d.wirteImgId,h.pageSizeSub=d.getPageSize,h.userImgSub=d.getUserImg,h.topicTitleSub=d.getTopicTitle,h.comtentSub=d.formatContent,h.replyContSub=d.replyContent,h.fromSub=d.fromContent,h.userLevelSub=d.userLevel,h.levelUpSub=d.levelUp,h.nickNameSub=d.nickName,function(){var a=SOHUCS.nodeData&&SOHUCS.nodeData.listData;h.levelText=c.to_html(d.levelText,a)}(),f=c.to_html(b,h),this.$el=$(f),$("body").append(this.$el),Backbone.Events.trigger("CUSTOM_EVT_USER_PAGE_RENDER",this.$el),this.appendImg(h);var j=$("#user_page");g.model.favGetList(1),function(){if(a.dev.get("isv:useIframe")!==!1){var b=new Messager("changyan",parent,"scrollFrame");b.listen(function(a){var c=a.scrollTop-a.frameOffsetHeight,d=$(window).scrollLeft(),e=($(window).height(),$(window).width()),f=c+(a.clientHeight-530)/2,g=d+(e-500)/2;0>c&&(f=0),j.css({top:f,left:g}),b.destrory()}),b.post("I||NEED||parent||scrollTop","scrollParent")}else{var c=$(window).scrollTop(),d=$(window).scrollLeft(),e=$(window).height(),f=$(window).width(),g=c+(e-530)/2,h=d+(f-500)/2;c+10>g&&(g=c+10),j.css({top:g,left:h})}}(),"ready"===window.changyan.isFavPrompt&&g.$el.find('div[node-type="fav-prompt-wrapper"]').show(),"cyro41w6U"===window.SOHUCS.clientid&&j.css("z-index",1e3),g.emptyHandle(j,h),g.tabEvent(j,h),g.scrollLoad(g,j);var k=this.model.get("tabKey");"LEVEL_TEXT"===k?(this.showLevelText(),$("#user_page .tab-name-dw li:eq(0)").trigger("click")):(this.hideLevelText(),k=k||0,$("#user_page .tab-name-dw li:eq("+k+")").trigger("click")),this.bindEvent(),g.pageClickEvent(),e.resetIframeHeight(),e.objectAVoid()},tabEvent:function(a,b){var c=this;if(Backbone.Events.on("EVT_UPAGE_POST_SUCCESS",function(){var a=i.$el.closest(".msg-wrap-gw");i.$el.after('<div class="wrap-reply-gw"></div>'),i.remove(),c.showMessage("回复成功","success",a)}),a.find(".box-area-gw").bind("click",this.openImageHandle),b.replies){a.find(".cont-tab-dw").removeClass("cont-tab-emit-de");
var d=a.find(".tab-name-dw .clear-g li"),e=a.find(".wrap-area-dw");a.on("click",".tab-name-dw .clear-g li",function(){var a=$(this),b=a.index();d.removeClass("name-current-e"),e.hide(),d.eq(b).addClass("name-current-e"),e.eq(b).show()});var f=a.find(".click-ding-gw a"),g=a.find(".click-cai-gw a"),h=a.find(".click-reply-gw a");f.bind("click",this.supportHandle),g.bind("click",this.opposeHandle),h.bind("click",this.replyHandle)}},postTabEvent:function(a){var b=this,c=a.find(".box-area-gw");c.bind("click",this.openImageHandle),Backbone.Events.on("EVT_UPAGE_POST_SUCCESS",function(){var a=i.$el.closest(".msg-wrap-gw");i.$el.after('<div class="wrap-reply-gw"></div>'),i.remove(),b.showMessage("回复成功","success",a)})},repalyTabEvent:function(a,b){if(b.replies){var c=a.find(".tab-name-dw .clear-g li:eq(0)"),d=a.find(".tab-name-dw .clear-g li:eq(1)"),e=a.find(".wrap-area-a"),f=a.find(".wrap-area-b"),g=a.find(".click-ding-gw a"),h=a.find(".click-cai-gw a"),i=a.find(".click-reply-gw a");a.find(".cont-tab-dw").removeClass("cont-tab-emit-de"),c.click(function(){d.removeClass("name-current-e"),c.addClass("name-current-e"),e.show(),f.hide()}),d.click(function(){c.removeClass("name-current-e"),d.addClass("name-current-e"),f.show(),e.hide()}),g.bind("click",this.supportHandle),h.bind("click",this.opposeHandle),i.bind("click",this.replyHandle)}},emptyHandle:function(a,b){b.comments&&!b.comments.length&&a.find(".tab-cont-wrap-dw .wrap-area-a").append('<div style="width:100%;height:20px;text-align: center;margin-top: 100px;">您还没有发出过评论</div>'),b.replies&&!b.replies.length&&a.find(".tab-cont-wrap-dw .wrap-area-b").append('<div style="width:100%;height:20px;text-align: center;margin-top: 100px;">您还没有收到过回复</div>')},scrollLoad:function(b,e){function f(c,d){var f=b.model.get("uid"),h=SOHUCS.clientid,i=a.dev.get("isv:uri:api")+"api/2/user/"+c+"?client_id="+h+"&user_id="+f+"&page_no="+d+"&callback=?";"comments"==c?j=!0:k=!0,$.ajax({url:i,dataType:"jsonp",scriptCharset:"utf-8",success:function(a){a.error_code||g(e,a,c)}})}function g(a,e,f){var g=d[f+"Temp"],l=[];e.repalyTimeSub=d.replayTime,e.commImgSub=d.wirteImgId,e.userImgSub=d.getUserImg,e.topicTitleSub=d.getTopicTitle,e.comtentSub=d.formatContent,e.replyContSub=d.replyContent,e.showCai=SOHUCS.config.sys.module.list.listAction.opposed?{}:void 0;var m=c.to_html(g,e),n="comments"==f?".wrap-area-a":".wrap-area-b .area-get-dw";if(a.find(n).append(m),"comments"==f?j=!1:k=!1,e.comments&&e.comments.length)l=e.comments;else{if(!e.replies||!e.replies.length)return;l=e.replies}l.upage=!0,h.appendImg(l),i(b,a)}function i(a,b){var c=b.find(".click-ding-gw a"),d=b.find(".click-cai-gw a"),e=b.find(".click-reply-gw a"),f=b.find(".box-area-gw");c.unbind("click").bind("click",a.supportHandle),d.unbind("click").bind("click",a.opposeHandle),e.unbind("click").bind("click",a.replyHandle),f.unbind("click").bind("click",a.openImageHandle)}var b=b,j=!1,k=!1,l=0,m=0,n=1,o=1,p=e.find(".wrap-area-dw")[0].clientHeight,q=e.find(".wrap-area-dw")[0].clientHeight;e.find(".wrap-area-a").scrollTop(0).scroll(function(){if(!j){var a=e.find(".wrap-area-a")[0].scrollTop;l||(l=e.find(".wrap-area-a")[0].scrollHeight),a+p>=l&&(n++,f("comments",n),l=0)}}),e.find(".wrap-area-b").scrollTop(0).scroll(function(){if(!k){var a=e.find(".wrap-area-b")[0].scrollTop;m||(m=e.find(".wrap-area-b")[0].scrollHeight),a+q>=m&&(o++,f("replies",o),m=0)}});var r=null,s=e.find(".wrap-area-dw")[0].clientHeight;e.find(".wrap-area-c").scrollTop(0).scroll(function(){window.clearTimeout(r),r=window.setTimeout(function(){var a=e.find(".wrap-area-c")[0].scrollTop;a||(a=e.find(".wrap-area-c")[0].scrollHeight),a+s>=a&&b.model.favLoadMore()},100)})},closeTab:function(){$("#user_page").remove(),$("body").find(".cy_screen_cover").remove(),e.resetIframeHeight(!0)},openImageHandle:function(a){var b=$(a.target);"IMG"===b[0].tagName&&h.toggleLargeImg(a)},supportHandle:function(){var b=$(this),c=b.parents("div[cmtid]").attr("cmtid"),d=e.getTopicID(),f=b.closest(".action-click-gw"),g=b.closest(".action-click-gw").find(".click-cai-gw a");b.css("position","relative").append($("<span>",{css:{font:"bold 18px/34px Arial",color:"#c00",position:"absolute",display:"none",top:-20,left:10},text:"+1",className:"float"})),b.css({color:"#999","text-decoration":"none"}),b.find("> span").css("display","block").animate({top:[-50,"swing"]},300,function(){$(this).fadeOut(300)}),b.unbind("click"),g.unbind("click").css({color:"#999","text-decoration":"none"}),f.find(".click-ding-gw,.click-cai-gw").addClass("click-disable-eg");var h=a.dev.get("isv:uri:api")+"api/2/comment/action",i={action_type:1,comment_id:c,client_id:SOHUCS.clientid,topic_id:d};return $.ajax({url:h,data:i,dataType:"jsonp",scriptCharset:"utf-8",jsonpCallback:"fn",success:function(){Backbone.Events.trigger("CUSTOM_EVT_SUPPORT_COMMENT_SUCCESS",{commentId:c})}}),!1},opposeHandle:function(){var b=$(this),c=b.parents("div[cmtid]").attr("cmtid"),d=e.getTopicID(),f=b.closest(".action-click-gw"),g=b.closest(".action-click-gw").find(".click-ding-gw a");b.css("position","relative").append($("<span>",{css:{font:"bold 18px/34px Arial",color:"#c00",position:"absolute",display:"none",top:-20,left:10},text:"+1",className:"float"})),b.css({color:"#999","text-decoration":"none"}),b.find("> span").css("display","block").animate({top:[-50,"swing"]},300,function(){$(this).fadeOut(300)}),b.unbind("click"),g.unbind("click").css({color:"#999","text-decoration":"none"}),f.find(".click-ding-gw,.click-cai-gw").addClass("click-disable-eg");var h=a.dev.get("isv:uri:api")+"api/2/comment/action",i={action_type:2,comment_id:c,client_id:SOHUCS.clientid,topic_id:d};return $.ajax({url:h,data:i,dataType:"jsonp",scriptCharset:"utf-8",jsonpCallback:"fn",success:function(){Backbone.Events.trigger("CUSTOM_EVT_OPPOSE_COMMENT_SUCCESS",{commentId:c})}}),!1},replyHandle:function(a){{var b,c,a=a||window.event,d=a.target||a.srcElement,e=$(d).closest(".msg-wrap-gw"),h=$(d).closest(".build-msg-gw"),j=h.length>0?h.children(".wrap-reply-gw").get(0):e.children(".wrap-reply-gw").get(0),k=new f,l=SOHUCS.model.userinfoModel;1==parseInt(SOHUCS.config.sys.globalSite.allowUploadImg)?!0:!1}c={type:"user",info:l.toJSON()},i=new g({model:k,el:j}),b=k.updateConfData(c),2===SOHUCS.cy_login&&k.set({mainBox:!1,avatar:b.info.img_url||k.get("avatar"),profile_url:b.info.profile_url,hasPassport:!!b.info.passports.length,cboxDefaultType:"profile",cy_login:!0,showAvatar:!1,_data:k.updateConfData(c),upage:!0,allowImg:!1})},appendImg:function(a){if(a.comments){var b=a.comments.lenght>0?a.comments.concat(a.replies):[];b.upage=!0,h.appendImg(b)}},showMessage:function(a,b,c){var d="",e=c.find(".wrap-reply-gw");"success"==b?d="prompt-succeed-w prompt-succeed-b":"wraning"==b&&(d="prompt-empty-w prompt-empty-b"),successHtml='<div class="cbox-prompt-w"><span class="'+d+'">'+a+"</span></div>",e.append(successHtml),setTimeout(function(){e.find(".cbox-prompt-w").remove()},1e3)},pageClickEvent:function(){var a=this;$("body").click(function(b){var c=b||window.event,d=c.target||c.srcElement,e=$(d).closest("#user_page");0==e.length&&a.closeTab()})},IKnowHandle:function(){$("#user_page .cont-mask-gw").remove(),$("#user_page .cont-message-gw").hide(),$("#user_page .level-lead-gw").remove();var b=SOHUCS.model.userinfoModel&&SOHUCS.model.userinfoModel.attributes&&SOHUCS.model.userinfoModel.attributes.user_id;$.get(a.dev.get("isv:uri:api")+"api/2/user/score/levelup/clean?client_id="+SOHUCS.clientid+"&uid="+b)},showLevelText:function(){var a=$('#user_page div[node-type="level-text"]');"none"===a.css("display")&&a.show()},hideLevelText:function(){var a=$('#user_page div[node-type="level-text"]');"none"!==a.css("display")&&a.hide()}});module.exports=k}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/upage/userPageModel.js",function(require,exports,module){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),b=Backbone.Model.extend({defaults:{favorites:{list:[],appendList:[],pageNo:1,total:0}},initialize:function(){},favGetList:function(b){var c=this;$.ajax({cache:!1,dataType:"jsonp",timeout:3e4,type:"GET",url:a.dev.get("isv:uri:api")+"api/2/user/favorites",data:{client_id:SOHUCS.clientid,page_size:10,page_no:b},success:function(a){var d,e;0===a.code&&a.favorites&&(!function(){var b;for(b=0;b<a.favorites.length;b++)a.favorites[b].favoriteTitle=decodeURIComponent(a.favorites[b].favoriteTitle),a.favorites[b].favoriteUrl=decodeURIComponent(a.favorites[b].favoriteUrl)}(),d=c.get("favorites"),e=$.extend({},d,{list:d.list.concat(a.favorites),appendList:a.favorites,pageNo:b,total:a.totalNum,trigger:!d.trigger}),a.favorites.length&&(e.pageNo=b),c.set("favorites",e))},error:function(){}})},favLoadMore:function(){var a=this.get("favorites");10*a.pageNo<a.total&&this.favGetList(a.pageNo+1)},favDelete:function(b,c,d,e){var f=this;$.ajax({cache:!1,dataType:"jsonp",timeout:3e4,type:"GET",url:a.dev.get("isv:uri:api")+"api/2/user/favorite",data:{client_id:b,favorite_title:c,favorite_url:encodeURIComponent(d),action_type:2},success:function(a){var b,c,g;0===a.code&&(b=f.get("favorites"),$.each(b.list,function(a,b){b.favoriteUrl===d&&(g=a)}),c=$.extend({},b,{list:b.list.slice(0,g).concat(b.list.slice(g+1)),appendList:[],trigger:!b.trigger}),0===c.list.length?c.silent=!1:(c.silent=!0,e&&e()),f.set("favorites",c))},error:function(){}})}});module.exports=b}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/upage/userPageCollection.js",function(require,exports,module){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),b=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/upage/userPageModel.js"),c=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/upage/userPageView.js"),Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),d=Backbone.Collection.extend({model:b}),e=new d;e.getUserData=function(d){function f(){var f=SOHUCS.clientid;return $.ajax({url:a.dev.get("isv:uri:api")+"api/2/user/profile?client_id="+f+"&user_id="+j+"&callback=?",dataType:"jsonp",scriptCharset:"utf-8",success:function(a){if(!a.error_code){a.uid=j,a.pos=k,a.evt=l;var f=new b;f.set(a),f.set("tabKey",d.place);var g=new c({model:f});e.unbind("add",g.render),e.bind("add",g.render,g),e.add(f)}}}),!1}var g=!1,h=e.length,i="",j=d.uid,k=d.pos,l=d.evt;SOHUCS.cboxData&&SOHUCS.cboxData.info&&SOHUCS.cboxData.info.user_id&&(i=SOHUCS.cboxData.info.user_id),0==h?f():e.each(function(a){var b=a.get("uid");if(b==j&&j!=i){a.set("pos",k),a.set("evt",l),a.set("tabKey",d.place),a.add;var e=new c({model:a});e.render(),g=!0}h--,0!=h||g||f()})},module.exports=e}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/title/titleModel.js",function(require,exports,module){var Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),a=Backbone.Model.extend({url:"",defaults:{cy_login:!1,participation_sum:0,outer_cmt_sum:0},events:function(){},initialize:function(){this.set("partNum",SOHUCS.model.listModel.get("participation_sum")),this.set("cmtNum",SOHUCS.model.listModel.get("cmt_sum")),this.set("partHide",this.checkConfig("part")),this.set("cmtHide",this.checkConfig("cmt")),this.set("cyanTitle",this.getCyanTitle())},getCyanTitle:function(){var a=SOHUCS.config.sys._config,b=decodeURIComponent(SOHUCS.nodeData.configData.data.module.cbox.cyanTitle);return a&&a.cyanTitle&&"undefined"!=a.cyanTitle&&(b=decodeURIComponent(a.cyanTitle)),b},checkConfig:function(a){var b=SOHUCS.config.sys._config;return b?"part"==a?!!b.partHide:"cmt"==a?!!b.commentHide:void 0:!1},setData:function(){}});module.exports=a}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/title/titleTemp.js",function(require,exports,module){var a={titleTemp:'{{#data}}\n        <div class="reset-g clear-g section-title-w {{#cy_login}}section-title-loginStyle{{/cy_login}} {{^cy_login}} section-title-logoutStyle{{/cy_login}}">\n            <div class="title-join-w">\n                <div class="join-wrap-w join-wrap-b">{{#jumpPage}}<a href="{{jumpPage}}" target="_parent">{{/jumpPage}}<strong class="wrap-name-w wrap-name-b">{{{cyanTitle}}}</strong>{{{part_cmtSub}}}{{#jumpPage}}</a>{{/jumpPage}}</div>\n            </div>\n            <div class="title-user-w">\n                {{#cy_login}}\n                <div class="clear-g user-wrap-w user-wrap-b"><span class="wrap-name-w wrap-name-b">{{nickname}}</span><span class="wrap-icon-w wrap-icon-b"></span>\n                    <div class="wrap-menu-dw wrap-menu-bd">\n                        <div class="menu-box-dw menu-box-bd">\n                            <a href="javascript:void(0)"><i class="gap-dgw">我的畅言</i></a>\n                            <!--{{#addGold}}<a class="menu-box-bd-gold" href="javascript:void(0)"><i class="gap-dgw">我的金币</i></a>{{/addGold}}-->\n                            <a href="javascript:void(0)" class="menu-box-dw-quit"><i class="gap-dgw gap-bdg">退出</i></a>\n                        </div>\n                    </div>\n                </div>\n                {{/cy_login}}\n                <div node-type="sohu-pact" class="title-link-w"><a href="http://zt.pinglun.sohu.com/s2014/sljyhgy/index.shtml" target="_blank">搜狐“我来说两句”用户公约</a></div>\n            </div>\n        </div>\n        {{/data}}',partCmtSub:function(){var a=this,b="",c=a.partNum?a.partNum:0,d=a.cmtNum?a.cmtNum:0,e=a.partHide,f=a.cmtHide;return b=e||f?e&&!f?'<span class="wrap-join-w wrap-join-b">(<em class="join-strong-gw join-strong-bg">'+d+'</em><span node-type="comments">条评论</span>)</span>':f&&!e?'<span class="wrap-join-w wrap-join-b">(<em class="join-strong-gw join-strong-bg">'+c+'</em><span node-type="involved">人参与</span>)</span>':"":'<span class="wrap-join-w wrap-join-b">(<em class="join-strong-gw join-strong-bg">'+c+'</em><span node-type="involved">人参与</span><i class="gap-b">，</i><em class="join-strong-gw join-strong-bg">'+d+'</em><span node-type="comments">条评论</span>)</span>'}};module.exports=a}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/title/titleView.js",function(require,exports,module){var Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),a=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/underscore.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),b=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/mustache.js"),c=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/title/titleTemp.js"),d=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js"),e=Backbone.View.extend({el:"div#article_info_sohu",template:c,events:{"click .menu-box-dw-quit":"quit","mouseenter .user-wrap-w":"usersetOverHandle","mouseleave .user-wrap-w":"usersetOutHandle","click .menu-box-dw a:eq(0)":"userPageHandle","click .menu-box-bd-gold":"goldHandle"},initialize:function(){this.listenTo(this.model,"change",this.render),a.bindAll(this,"render","userinfoHandle")},userinfoHandle:function(){},goldHandle:function(){$("#comment_sohu .head-gold-w a").trigger("click")},render:function(){var a,c=this.model.toJSON();return c.part_cmtSub=this.template.partCmtSub,a=b.to_html(this.template.titleTemp,{data:c}),this.$el.html(a),d.resetIframeHeight(),"cyqemw6s1"!==SOHUCS.clientid&&$('div[node-type="sohu-pact"]').hide(),Backbone.Events.trigger("CUSTOM_EVT_TITLE_VIEW_RENDER"),this},quit:function(a){a.stopPropagation(),a.preventDefault(),d.cyQuit()},usersetOverHandle:function(a){a.preventDefault(),a.stopPropagation(),$(".user-wrap-w").hasClass("user-wrap-e")||$(".user-wrap-w").addClass("user-wrap-e")},usersetOutHandle:function(a){a.preventDefault(),a.stopPropagation(),$(".user-wrap-w").hasClass("user-wrap-e")&&$(".user-wrap-w").removeClass("user-wrap-e")},userPageHandle:function(a,b){var c=b?1:0,d=$(a.target),e=SOHUCS.cboxData.info.user_id,f=d.closest(".section-title-loginStyle").position();return e&&"0"!=e?(SOHUCS.model.titleModel.trigger("EVT_USER_PAGE",{uid:e,pos:f,place:c}),!1):void 0},_isvLogout:function(){}});module.exports=e}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/list/plugins/listHotNews.js",function(require,exports,module){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),$=(require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/json2.js"),require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js")),b=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/underscore.js"),c=(require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/cookie.js"),require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/mustache.js")),d=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/lang.js"),e=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js"),f={init:function(){var a=SOHUCS.config.sys._config&&SOHUCS.config.sys._config.hideHotNews?!0:!1;!a&&SOHUCS.nodeData.configData.data.globalSite.hotTopicList&&this._getHotNews()},_getHotNews:function(){var b=this,c=a.dev.get("isv:uri:api")+"api/labs/hotnews/c/load",d=e.getClientID(),f=e.getTopicID(),g={client_id:d,topic_id:f};try{$.ajax({url:c,data:g,scriptCharset:"utf-8",dataType:"jsonp",success:function(a){b._renderListHotNews(a)}})}catch(h){}},_renderListHotNews:function(a){if(0!=a.list.length){var d,f,g=this,h=$("#list_hot"),i=g._listHotNewsTemp,j=h.width(),k="";j>=530&&820>=j?(f=(j-50)/2-20,k="style=width:"+f+"px;white-space:nowrap;overflow:hidden;"):j>820?(10==a.list.length&&a.list.pop(),f=(j-50)/3-20,k="style=width:"+f+"px;"):a.list.length>5&&(a.list=a.list.slice(0,5)),a.list.length>0&&""!=k&&(a.list=b.map(a.list,function(a,b){return j>=530&&820>=j?a.style=b%2==0?k+"float:left;":k+"float:right;":j>820&&(a.style=b%3==0?k+"float:left;":b%3==1?k+"float:left;margin-left:30px;":k+"float:right;"),a.index=b,3>b&&(a.showHot=!0),a})),a=b.extend({data:a},{titleSub:g._titleSub}),d=c.to_html(i,a),h.html(d),e.resetIframeHeight(),$(".newslist-conts-w a").click(function(){e.sendLog("CLICK-HOTNEWS_"+$(this).attr("index"))}),Backbone.Events.trigger("CUSTOM_EVT_HOT_LIST_RENDER")}},_listHotNewsTemp:'\n            <div class="reset-g section-newslist-w">\n                <div class="newslist-title-w"><h3 class="title-name-w">热评话题</h3></div>\n                <div class="newslist-conts-w clear-g">\n                    <ul class="conts-col conts-col-1 clear-g">\n                        {{#data}}{{#list}}\n                            <li {{style}}><a index="{{index}}" href="{{url}}" target="_blank" title="{{title}}">{{titleSub}}{{#showHot}}<span class="hot"></span>{{/showHot}}</a></li>\n                        {{/list}}{{/data}}\n                    </ul>\n                </div>\n            </div>',_titleSub:function(){var a,b=$("#SOHUCS"),c=b.width();a=c>=530&&820>=c?(c-50)/2:c>820?(c-50)/3:c||520;var e=this,f=2*Math.floor((a-30-21)/14),g=d.len(e.title),h=g>f?d.left(e.title,f,""):e.title;return h=h.split("_")[0]}};module.exports=f}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/list/pageView.js",function(require,exports,module){var Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),a=function(a){this.current=1,this.total=1,this.targetId=a,this.limit=10,this.callAsyn=[],this.cfg=null};a.prototype={init:function(a){return a&&a.pageCount<2?void(a.targetId&&(document.getElementById(a.targetId).innerHTML="")):(this.current=a.pageIndex,this.total=a.pageCount,this.targetId=a.targetId||this.targetId,this.setHTML(a),void this.bindEvent())},getCurrent:function(){return this.current},callAsynObj:function(a){this.callAsyn.push(a)},resetPartner:function(a){if(this.callAsyn.length)for(var b=0,c=this.callAsyn.length;c>b;b++)this.callAsyn[b].setHTML(a)},bindEvent:function(){var a=this;$("#"+a.targetId).unbind("click").bind("click",function(b){b.preventDefault(),b.stopPropagation();var c=b.target;if("a"==c.nodeName.toLowerCase())switch(c.id){case"nextPage":a.nextClickHandle();break;case"prevPage":a.prevClickHandle();break;default:if($(c).hasClass(".wrap-current-e"))return;a.centerClickHandle($(c).attr("pagenum"))}})},setHTML:function(a){if(!a||!this.targetId)throw new Error("not found targetId item");var b=a.pageCount||1,c=a.pageIndex||1,d=a.limit||7,e=this.targetId,f='<em class="wrap-ellipsis-w wrap-ellipsis-b"><i>...</i></em>',g='<em class="wrap-ellipsis-w wrap-ellipsis-b"><i>...</i></em>',h=1==c?"":'<span class="page-wrap-gw"><a class="wrap-prev-w wrap-prev-b" href="javascript:void(0)" id="prevPage">上一页</a></span>',i=c==b?"":'<span class="page-wrap-gw"><a class="wrap-next-w wrap-next-b" href="javascript:void(0)" id="nextPage">下一页</a></span>',j=[],k=[h],l="",m="",n=0;if(0>c||c>b)throw new Error("arguments error,please check your code");var o=document.getElementById(e);if(b>d?(f=5>c?"":f,g=5>b-c?"":g):f=g="",j='<em class="wrap-ellipsis-w wrap-ellipsis-b"><i>...</i></em>'==f&&'<em class="wrap-ellipsis-w wrap-ellipsis-b"><i>...</i></em>'==g?[c-2,c-1,c,c+1,c+2]:""==f&&'<em class="wrap-ellipsis-w wrap-ellipsis-b"><i>...</i></em>'==g?[2,3,4,5,6]:'<em class="wrap-ellipsis-w wrap-ellipsis-b"><i>...</i></em>'==f&&""==g?[b-5,b-4,b-3,b-2,b-1]:[2,3,4,5,6],k.push('<span class="page-wrap-w page-wrap-b">'),l=1==c?'<a class="wrap-current-e" href="javascript:void(0)">1</a>':'<a href="javascript:void(0)"pagenum="1">1</a>',m=c==b?'<a class="wrap-current-e" href="javascript:void(0)">'+b+"</a>":'<a href="javascript:void(0)" pagenum="'+b+'">'+b+"</a>",k.push(l),k.push(f),1!==b){n=j.length>b-2?b-2:j.length;for(var p=0;n>p;p++)k.push(j[p]!==c?'<a href="javascript:void(0)" pagenum="'+j[p]+'">'+j[p]+"</a>":'<a href="javascript:void(0)" class="wrap-current-e" pagenum="'+j[p]+'">'+j[p]+"</a>");k.push(g),k.push(m)}k.push("</span>"),k.push(i),o.innerHTML='<div class="reset-g section-page-w">'+k.join("")+"</div>"},nextClickHandle:function(){this.current++,this.triggerEvent(this.current),this.cfg={pageIndex:this.current,pageCount:this.total,targetId:this.targetId},this.setHTML(this.cfg),this.resetPartner(this.cfg)},prevClickHandle:function(){this.current--,this.triggerEvent(this.current),this.cfg={pageIndex:this.current,pageCount:this.total,targetId:this.targetId},this.setHTML(this.cfg),this.resetPartner(this.cfg)},centerClickHandle:function(a){a&&(this.current=parseInt(a),this.triggerEvent(this.current),this.cfg={pageIndex:this.current,pageCount:this.total,targetId:this.targetId},this.setHTML(this.cfg),this.resetPartner(this.cfg))},triggerEvent:function(a){var b={current:a};$("#"+this.targetId).trigger("pageClick",[b])}};var b=Backbone.View.extend({gopage:a,initialize:function(){}});module.exports=b}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/list/listFloorTemp.js",function(require,exports,module){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/lang.js"),b=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/face.js"),c=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js"),d={listTemplate:'\n        <div class="reset-g section-list-w">\n            {{#nodeFlag}}\n            {{#showHotList}}\n            <div class="list-block-gw list-hot-w">\n                <div class="block-title-gw">\n                    <ul class="clear-g">\n                        <li><strong class="title-name-gw title-name-bg">热门评论</strong></li>\n                    </ul>\n                </div>\n                {{#hots}}\n                <div class="clear-g block-cont-gw block-cont-bg" datatype="hot" cmtnum="{{comm_num}}" cmtid="{{comment_id}}" >\n                    <div class="cont-head-gw">\n                        <div class="head-img-gw"><a href="javascript:void(0)"><img src="{{userImgSub}}" onerror="SOHUCS.isImgErr(this)" width="42" height="42" alt="" uid="{{#passport}}{{^is_official}}{{user_id}}{{/is_official}}{{/passport}}" /></a></div>\n                    </div>\n                    <div class="cont-msg-gw">\n                        <div class="msg-wrap-gw">\n                            <div class="wrap-user-gw global-clear-spacing">\n                                {{{markerSub}}}<span class="user-time-gw user-time-bg evt-time" data-date="{{create_time}}">{{replayTimeSub}}</span>\n                                <span class="user-name-gw">{{#passport}}{{^is_official}}<a href="javascript:void(0)" title="{{{nickname}}}" uid= {{user_id}}>{{nickNameSub}}</a>{{/is_official}}{{/passport}}{{#passport}}{{#is_official}}{{nickNameSub}}{{/is_official}}{{/passport}}</span>\n                                {{#passport}}{{#is_official}}<span class="user-admin-gw"><i class="admin-icon-gw"></i></span>{{/is_official}}{{/passport}}\n                                {{#displayLocation}}{{#ip_location}}<span class="user-address-gw">[<i>{{ip_location}}</i>网友]</span>{{/ip_location}}{{/displayLocation}}\n                                {{{scoreSub}}}\n                            </div>\n                            {{{floorsSub}}}\n                            {{#hide}}<div class="wrap-hidden-gw wrap-hidden-bg"><a href="javascript:void(0)" class="evt-showmsg">评论已被折叠，查看请点击。</a></div>{{/hide}}\n                            <div class="wrap-issue-gw{{#hide}} wrap-issue-e{{/hide}}">\n                                <p class="issue-wrap-gw{{#passport}}{{#is_official}} issue-admin-gw{{/is_official}}{{/passport}}">\n                                    <span class="wrap-word-bg {{#metadataAsJson.bold}}wrap-bold-w{{/metadataAsJson.bold}}" {{#metadataAsJson.color}}style="background-color: {{{metadataAsJson.color}}};"{{/metadataAsJson.color}}>{{{contentSub}}}</span>\n                                </p>\n                            </div>\n                            {{#commImgSub}}\n                            <div class="wrap-picture-show-gw wrap-picture-hide-e">\n                                <div class="picture-box-gw picture-box-bg">\n                                    <div class="box-action-gw box-action-bg">\n                                        <ul class="clear-g">\n                                            <li class="action-area-gw action-hide-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>收起</a></li>\n                                            <li><i class="gap-gw gap-bg"></i></li>\n                                            <li class="action-area-gw action-look-gw"><a target="_blank" href="javascript:void(0)"><i class="area-icon-gw"></i>查看原图</a></li>\n                                            <li><i class="gap-gw gap-bg"></i></li>\n                                            <li class="action-area-gw action-left-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>向左转</a></li>\n                                            <li><i class="gap-gw gap-bg"></i></li>\n                                            <li class="action-area-gw action-right-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>向右转</a></li>\n                                        </ul>\n                                    </div>\n                                    <div class="box-area-gw">\n                                        <div class="area-image-gw area-image-e" id="{{id}}"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            {{/commImgSub}}\n                            <div class="clear-g wrap-action-gw">\n                                <div class="action-click-gw">\n                                    <i class="gap-gw"></i>\n                                    {{{replayActionSub}}}\n                                </div>\n                                <div class="action-from-gw action-from-bg">{{#from}}来自{{{from}}}{{/from}}</div>\n                            </div>\n                            <div class="wrap-reply-gw"></div>\n                        </div>\n                    </div>\n                </div>\n                {{/hots}}\n            </div>\n            {{/showHotList}}\n            {{/nodeFlag}}\n            {{#showTimeList}}\n            <div class="list-block-gw list-newest-w list-newest-b">\n                <div class="block-title-gw">\n                    <ul class="clear-g">\n                        <li><strong class="title-name-gw title-name-bg">最新评论</strong></li>\n                    </ul>\n                </div>\n                {{#comments}}\n                <div class="clear-g block-cont-gw block-cont-bg{{#highlight}} block-cont-e{{/highlight}}" datatype="time" cmtnum="{{comm_num}}" cmtid="{{comment_id}}" >\n                    <div class="cont-head-gw">\n                        <div class="head-img-gw"><a href="javascript:void(0)"><img src="{{userImgSub}}" onerror="SOHUCS.isImgErr(this)" width="42" height="42" alt="" uid="{{#passport}}{{^is_official}}{{user_id}}{{/is_official}}{{/passport}}" /></a></div>\n                    </div>\n                    <div class="cont-msg-gw">\n                        <div class="msg-wrap-gw">\n                            <div class="wrap-user-gw global-clear-spacing">\n                                {{{markerSub}}}<span class="user-time-gw user-time-bg evt-time" data-date="{{create_time}}">{{replayTimeSub}}</span>\n                                <span class="user-name-gw">{{#passport}}{{^is_official}}<a href="javascript:void(0)" title="{{{nickname}}}" uid= {{user_id}}>{{nickNameSub}}</a>{{/is_official}}{{/passport}}{{#passport}}{{#is_official}}{{nickNameSub}}{{/is_official}}{{/passport}}</span>\n                                {{#passport}}{{#is_official}}<span class="user-admin-gw"><i class="admin-icon-gw"></i></span>{{/is_official}}{{/passport}}\n                                {{#displayLocation}}{{#ip_location}}<span class="user-address-gw">[<i>{{ip_location}}</i>网友]</span>{{/ip_location}}{{/displayLocation}}\n                                {{{scoreSub}}}\n                            </div>\n                            {{{floorsSub}}}\n                            {{#hide}}<div class="wrap-hidden-gw wrap-hidden-bg"><a href="javascript:void(0)" class="evt-showmsg">评论已被折叠，查看请点击。</a></div>{{/hide}}\n                            <div class="wrap-issue-gw{{#hide}} wrap-issue-e{{/hide}}">\n                                <p class="issue-wrap-gw{{#passport}}{{#is_official}} issue-admin-gw{{/is_official}}{{/passport}}">\n                                    <span class="wrap-word-bg {{#metadataAsJson.bold}}wrap-bold-w{{/metadataAsJson.bold}}" {{#metadataAsJson.color}}style="background-color: {{{metadataAsJson.color}}};"{{/metadataAsJson.color}}>{{{contentSub}}}</span>\n                                </p>\n                            </div>\n                            {{#commImgSub}}\n                            <div class="wrap-picture-show-gw wrap-picture-hide-e">\n                                <div class="picture-box-gw picture-box-bg">\n                                    <div class="box-action-gw box-action-bg">\n                                        <ul class="clear-g">\n                                            <li class="action-area-gw action-hide-gw"><a  href="javascript:void(0)"><i class="area-icon-gw"></i>收起</a></li>\n                                            <li><i class="gap-gw gap-bg"></i></li>\n                                            <li class="action-area-gw action-look-gw"><a  href="javascript:void(0)" target="_blank"><i class="area-icon-gw"></i>查看原图</a></li>\n                                            <li><i class="gap-gw gap-bg"></i></li>\n                                            <li class="action-area-gw action-left-gw"><a  href="javascript:void(0)"><i class="area-icon-gw"></i>向左转</a></li>\n                                            <li><i class="gap-gw gap-bg"></i></li>\n                                            <li class="action-area-gw action-right-gw"><a  href="javascript:void(0)"><i class="area-icon-gw"></i>向右转</a></li>\n                                        </ul>\n                                    </div>\n                                    <div class="box-area-gw">\n                                        <div class="area-image-gw area-image-e" id="{{id}}"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            {{/commImgSub}}\n                            <div class="clear-g wrap-action-gw">\n                                <div class="action-click-gw">\n                                    <i class="gap-gw"></i>\n                                    {{{replayActionSub}}}\n                                </div>\n                                <div class="action-from-gw action-from-bg">{{#from}}来自{{{from}}}{{/from}}</div>\n                            </div>\n                            <div class="wrap-reply-gw"></div>\n                        </div>\n                    </div>\n                </div>\n            {{/comments}}\n            </div>\n            {{/showTimeList}}\n        </div>',listFloorTemp:'\n            <!--div class="build-floor-gw"-->\n                <div class="build-msg-gw" cmtid="{{comment_id}}" floornum="{{floorsNum}}">\n                    <div class="wrap-user-gw global-clear-spacing">\n                        <span class="user-time-gw user-time-bg user-floor-gw" data-date="{{create_time}}">{{floorsNum}}</span>\n                        <span class="user-name-gw">{{#passport}}{{^is_official}}<a {{{profileComm}}} title="{{{nickname}}}" uid= {{user_id}}>{{nickNameSub}}</a>{{/is_official}}{{/passport}}{{#passport}}{{#is_official}}{{nickNameSub}}{{/is_official}}{{/passport}}</span>\n                        {{#passport}}{{#is_official}}<span class="user-admin-gw"><i class="admin-icon-gw"></i></span>{{/is_official}}{{/passport}}\n                        {{#displayLocation}}{{#ip_location}}<span class="user-address-gw">[<i>{{ip_location}}</i>网友]</span>{{/ip_location}}{{/displayLocation}}\n                        {{{scoreSub}}}\n                    </div>\n                    <!--div class="wrap-hidden-gw wrap-hidden-bg"><a href="#">评论已被折叠，查看请点击。</a></div-->\n                    <div class="wrap-issue-gw{{#hide}} wrap-issue-e{{/hide}}">\n                        <p class="issue-wrap-gw{{#passport}}{{#is_official}} issue-admin-gw{{/is_official}}{{/passport}}">\n                            <span class="wrap-word-bg {{#metadataAsJson.bold}}wrap-bold-w{{/metadataAsJson.bold}}" {{#metadataAsJson.color}}style="background-color: {{{metadataAsJson.color}}};"{{/metadataAsJson.color}}>{{{contentSub}}}</span>\n                        </p>\n                    </div>\n                    <!-- picture show  Begin -->\n                    {{#commImgSub}}\n                    <div class="wrap-picture-show-gw wrap-picture-hide-e">\n                        <div class="picture-box-gw picture-box-bg">\n                            <div class="box-action-gw box-action-bg">\n                                <ul class="clear-g">\n                                    <li class="action-area-gw action-hide-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>收起</a></li>\n                                    <li><i class="gap-gw gap-bg"></i></li>\n                                    <li class="action-area-gw action-look-gw"><a href="javascript:void(0)" target="_blank"><i class="area-icon-gw"></i>查看原图</a></li>\n                                    <li><i class="gap-gw gap-bg"></i></li>\n                                    <li class="action-area-gw action-left-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>向左转</a></li>\n                                    <li><i class="gap-gw gap-bg"></i></li>\n                                    <li class="action-area-gw action-right-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>向右转</a></li>\n                                </ul>\n                            </div>\n                            <div class="box-area-gw">\n                                <div class="area-image-gw area-image-e" id="{{id}}"></div>\n                            </div>\n                        </div>\n                    </div>\n                    {{/commImgSub}}\n                <!-- picture show  End -->\n                    <div class="clear-g wrap-action-gw evt-active-wrapper" style="visibility: hidden">\n                        <div class="action-click-gw">\n                            <i class="gap-gw"></i>\n                            {{{replayActionSub}}}\n                        </div>\n                        <div class="action-from-gw action-from-bg">{{#from}}来自{{{from}}}{{/from}}</div>\n                    </div>\n                    <div class="wrap-reply-gw">\n                        <!-- reply area  Begin -->\n                        <!-- reply area  End -->\n                    </div>\n                </div>\n            <!--/div-->',itemListTemp:'\n            {{#firstItem}}\n            <div class="reset-g section-list-w">\n                <div class="list-block-gw list-newest-w">\n                    <div class="block-title-gw">\n                        <ul class="clear-g">\n                            <li><strong class="title-name-gw title-name-bg">最新评论</strong></li>\n                        </ul>\n                    </div>\n            {{/firstItem}}\n                    {{#comments}}\n                        <div data-rel="1" class="clear-g block-cont-gw block-cont-bg{{#highlight}} block-cont-e{{/highlight}}" datatype="{{dataType}}" cmtnum="{{comm_num}}" cmtid="{{comment_id}}" >\n                            <div class="cont-head-gw">\n                                <div class="head-img-gw"><a {{{profileComm}}}><img src="{{userImgSub}}" onerror="SOHUCS.isImgErr(this)" width="42" height="42" alt="" uid="{{#passport}}{{^is_official}}{{user_id}}{{/is_official}}{{/passport}}" /></a></div>\n                            </div>\n                            <div class="cont-msg-gw">\n                                <div class="msg-wrap-gw">\n                                    <div class="wrap-user-gw global-clear-spacing">\n                                        {{{markerSub}}}<span class="user-time-gw user-time-bg" data-date="{{create_time}}">{{replayTimeSub}}</span>\n                                        {{{medalSub}}}\n                                        {{#passport.is_official}}\n                                            <span class="user-name-gw" title="{{#passport}}{{{nickname}}}{{/passport}}">{{nickNameSub}}</span>\n                                        {{/passport.is_official}}\n                                        {{^passport.is_official}}\n                                            <span class="user-name-gw" title="{{#passport}}{{{nickname}}}{{/passport}}"><a {{{profileComm}}} uid= {{#passport}} {{user_id}} {{/passport}}>{{nickNameSub}}</a></span>\n                                        {{/passport.is_official}}\n                                        <!-- 管理员、铭牌图标 -->\n                                        {{#passport.is_official}}\n                                            <span class="user-level-gw user-admin-gw"><i>管理员</i></span>\n                                        {{/passport.is_official}}\n                                        {{^passport.is_official}}\n                                            {{#displayUserLevel}}{{{userLevelSub}}}{{/displayUserLevel}}\n                                        {{/passport.is_official}}\n                                        <!-- 管理员、铭牌图标 END -->\n                                        {{#displayLocation}}{{#ip_location}}<span class="user-address-gw">[<i>{{ip_location}}</i>网友]</span>{{/ip_location}}{{/displayLocation}}\n                                        {{{scoreSub}}}\n                                    </div>\n                                    {{{floorsSub}}}\n                                    <!--div class="wrap-hidden-gw wrap-hidden-bg"><a href="#">评论已被折叠，查看请点击。</a></div-->\n                                    <div class="wrap-issue-gw{{#hide}} wrap-issue-e{{/hide}}">\n                                        <p class="issue-wrap-gw{{#passport}}{{#is_official}} issue-admin-gw{{/is_official}}{{/passport}}">\n                                            <span class="wrap-word-bg {{#metadataAsJson.bold}}wrap-bold-w{{/metadataAsJson.bold}}" {{#metadataAsJson.color}}style="background-color: {{{metadataAsJson.color}}};"{{/metadataAsJson.color}}>{{{contentSub}}}</span>\n                                        </p>\n                                    </div>\n                                    {{#commImgSub}}<div class="wrap-picture-show-gw wrap-picture-hide-e">\n                                        <div class="picture-box-gw picture-box-bg">\n                                            <div class="box-action-gw box-action-bg">\n                                                <ul class="clear-g">\n                                                    <li class="action-area-gw action-hide-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>收起</a></li>\n                                                    <li><i class="gap-gw gap-bg"></i></li>\n                                                    <li class="action-area-gw action-look-gw"><a href="javascript:void(0)" target="_blank"><i class="area-icon-gw"></i>查看原图</a></li>\n                                                    <li><i class="gap-gw gap-bg"></i></li>\n                                                    <li class="action-area-gw action-left-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>向左转</a></li>\n                                                    <li><i class="gap-gw gap-bg"></i></li>\n                                                    <li class="action-area-gw action-right-gw"><a href="javascript:void(0)"><i class="area-icon-gw"></i>向右转</a></li>\n                                                </ul>\n                                            </div>\n                                            <div class="box-area-gw">\n                                                <div class="area-image-gw area-image-e" id="{{id}}"></div>\n                                            </div>\n                                        </div>\n                                    </div>{{/commImgSub}}\n                                    <div class="clear-g wrap-action-gw">\n                                        <div class="action-click-gw">\n                                            <i class="gap-gw"></i>\n                                            {{{replayActionSub}}}\n                                        </div>\n                                        <div class="action-from-gw action-from-bg">{{#from}}来自{{{from}}}{{/from}}</div>\n                                    </div>\n                                    <div class="wrap-reply-gw"></div>\n                                </div>\n                            </div>\n                        </div>\n                    {{/comments}}\n            {{#firstItem}}\n                </div>\n            </div>\n            {{/firstItem}}\n            ',shareTemp:'\n            <div class="reset-g windows-define-dg share-wrapper-dw">\n                <div class="wrapper-loading-dw wrapper-loading-bd">\n                <ul class="clear-g">\n                    <li><a href="javascript:void(0)" class="evt-share-sina"><span class="icon-sina-b"></span></a></li>\n                    <li><a href="javascript:void(0)" class="evt-share-qzone"><span class="icon-qzone-b"></span></a></li>\n                    <li><a href="javascript:void(0)" class="evt-share-renren"><span class="icon-renren-b"></span></a></li>\n                </ul>\n                </div>\n            </div>',jumpTemp:'\n        <div class="reset-g section-list-w">\n            <div class="list-more-comment-w">\n                <div class="more-wrap-w more-wrap-b"><a node-type="more-comment" href="{{jumpPage}}" target="_blank">已有<em class="wrap-strong-w wrap-strong-b">{{participation_sum}}</em>人参与，点击查看更多精彩评论&gt;&gt;</a></div>\n            </div>\n        </div>',closeTemp:'\n        <div class="reset-g section-list-w">\n            <div class="list-comment-close-w">\n                <div class="close-wrap-w close-wrap-b">该评论已关闭!</div>\n            </div>\n        </div>',noCommTemp:'\n        <div class="reset-g section-list-w">\n            <div class="list-comment-empty-w">\n                <div class="empty-prompt-w"><span class="prompt-null-w prompt-null-b">还没有评论，快来抢沙发吧！</span></div>\n            </div>\n        </div>',powerByTemp:'\n        <div class="reset-g section-service-w">\n            <div class="service-wrap-w service-wrap-b"><a node-type="powered-by" href="http://changyan.sohu.com?from=changyan" target="_blank">{{PoweredBy}}</a></div>\n        </div>',subTemp:{formatIcon:function(){var a="undefined"!=typeof this.img_url?this.img_url:this.passport&&this.passport.img_url||"",b=null!=a&&""!=a?unescape(a):c.getUserDefaultIcon();
return b},formatNick:function(){var b="undefined"!=typeof this.nickname?this.nickname:this.passport&&this.passport.nickname||"",c=a.len(b);return b=c>30?a.left(b,30,""):b},formatPlatform:function(a){var b=a||this.passport,c=b.platform_id,d="",e="";switch(c){case 1:d="sohu-sohu",e="搜狐";break;case 2:d="sohu-sina",e="新浪";break;case 3:d="sohu-qzone",e="QQ";break;case 4:d="sohu-qq",e="腾讯微博";break;case 5:d="sohu-163",e="网易";break;case 6:d="sohu-renren",e="人人";break;case 7:d="sohu-baidu",e="百度";break;case 8:d="sohu-douban",pltformName="豆瓣";break;case 9:d="sohu-kaixin",e="开心";break;case 10:d="sohu-taobao",e="淘宝";break;case 11:d="sohu-wsohu",e="搜狐";break;default:d=""}return""==d&&""==b.from?'<span class="sohu-null-name"></span>':'<span class="sohu-icon '+d+'" title="'+e+'"></span>'},profileUrl:function(){var a="undefined"!=typeof this.profile_url?this.profile_url:this.passport&&this.passport.profile_url||"",b="boolean"==typeof this.is_official?this.is_official:this.passport&&this.passport.is_official||!1,c=null==a||""==a||b?"href=javascript:void(0)":"href="+a+" target=_blank ";return c},commProfileUrl:function(){var a="undefined"!=typeof this.profile_url?this.profile_url:this.passport&&this.passport.profile_url||"",b="boolean"==typeof this.is_official?this.is_official:this.passport&&this.passport.is_official||!1,a=null==a||""==a||b?'href="javascript:void(0)" commHref="javascript:void(0)"':'href="javascript:void(0)" commHref="'+a+'"';return a},formatContent:function(){var d,e,f,g,h=this.status&&0!=this.status?"该评论已被删除。":c.decode(this.content),i='<a href="javascript:void(0)" class="evt-content-open">显示全部>></a>';h=b.ubbToImg(h),d=a.len(h);try{d>500&&(h=a.left(h,500,"--"),e=h.substr(h.length-1,1),f=new RegExp("<[^>]*?"+e+"$")||"",g=" "===e?/<[^>]*?\s$/:f,g.test(h)&&(h=h.replace(g,"")||""),h=h+"..."+i)}catch(j){}return h},replayActionTemp:function(){if(!this.status||0==this.status){var a=SOHUCS.nodeData.configData.data,b=a.module.list.listAction,c="",d=b.opposed;if(d)var e=this.oppose_count>0?this.oppose_count:"",f='<span class="click-cai-gw"><a href="javascript:void(0)" title="踩" class="evt-opposed"><i class="icon-gw icon-cai-bg"></i><em class="icon-name-bg">'+e+'</em></a></span><i class="gap-gw"></i>';else var f="";var g=this.support_count>0?this.support_count:"",h='<span class="click-ding-gw"><a href="javascript:void(0)" title="顶" class="evt-support"><i class="icon-gw icon-ding-bg"></i><em class="icon-name-bg">'+g+'</em></a></span><i class="gap-gw"></i>',i='<span class="click-reply-gw click-reply-eg"><a href="javascript:void(0)" class="evt-reply">回复</a></span><i class="gap-gw"></i>',j='<span class="click-share-gw click-reply-eg"><a href="javascript:void(0)" class="evt-share">分享</a></span>';return c=h+f+i+j}},replayTime:function(){var a=parseInt(this.create_time),b=new Date,c=b.getTime(),d=new Date(a),e=d.getMonth()+1,f=parseInt(d.getDate()),g=d.getFullYear(),h=d.getHours(),i=d.getMinutes(),j=36e5,k=3e5;try{var l,m="",n=b.toLocaleDateString(c)==d.toLocaleDateString(a)?!0:!1;n?b-d>=k&&j>b-d?(l=parseInt((b-d)/1e3/60),m=l+"分钟前"):k>b-d?m="刚刚":b-d>j&&(m="今日"+h+":"+(i>=10?i:"0"+i)):b-d>=k&&j>b-d?(l=parseInt((b-d)/1e3/60),m=l+"分钟前"):k>b-d?m="刚刚":b-d>j&&(m=g+"年"+e+"月"+f+"日 "+h+":"+(i>=10?i:"0"+i))}catch(o){}return m},foramtLocation:function(){var a=""!=this.passport.from?"来自"+unescape(this.passport.from):"";return a},wirteImgId:function(){var a={};if(this.attachments&&this.attachments[0]&&this.attachments[0].url){var b=this.cmt_id||this.comment_id,c=this.floorsNum?this.floorsNum:"";return a.id=!this.top&&!this.elite||this.cmt_id?this.hot?"img"+b+"h"+c:"img"+b+c:"img"+b+"t"+c,a}},marker:function(){var a=this,b=a.top,c=a.elite,d=b?'<span class="user-top-gw user-top-bg"><i>置顶</i></span>':"",e=c?'<li class="card-tag-elite"></li>':"",f="";return(b||c)&&(f='<div class="card-tag-sohu sohu-clear"><ul>'+d+e+"</ul></div>"),f},medal:function(){if(this.passport&&this.passport.is_official)return"";var a=this,b="",c="",d="",e="",f="";return a.medal&&a.medal.rank&&1==SOHUCS.config.sys.globalSite.allowShowLevel&&(c=a.medal.rank.code,e=a.medal.rank.name,d=parseInt(a.medal.rank.code)<10?"medal-level10"+c:"medal-level1"+c,f=a.medal.rank.medalName,b='<span class="user-medal-w medal-icon '+d+'" title="'+e+" "+f+'"></span>'),b},score:function(){var a,b=this,c=b.score,d="";if(!c)return"";for(var e=1;5>=e;e++)d+=c>=e?'<li><i class="grade-icon-w grade-icon-b grade-icon-e"></i></li>':'<li><i class="grade-icon-w grade-icon-b"></i></li>';return a='<span class="user-grade-gw clear-g"><ul>'+d+"</ul></span>"},floolrNUm:function(){var a=this,b=a.comments.length>0?a.comments.length+1:"";return b},floorsHideTxt:function(){var a='<a href="javascript:void(0)" class="evt-floors-extend">楼高[floorsLen]层，点击查看隐藏楼层</a>';return a},userLevel:function(){var a="";if(this.userScore){var b="user-1-4-gw user-1-gw";b=this.userScore.level<=4?"user-1-4-gw":this.userScore.level<=7?"user-5-7-gw":"user-8-10-gw",a='<span uid="'+this.user_id+'" node-type="privilege-intro" level="'+this.userScore.level+'" score="'+this.userScore.score+'" class="user-level-gw '+b+" user-"+this.userScore.level+'-gw" title="等级'+this.userScore.level+'"><i>'+this.userScore.title+"</i></span>"}return a}}};module.exports=d}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/list/listFloorModel.js",function(require,exports,module){{var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),b=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/underscore.js"),c=Backbone.Model.extend({url:a.dev.get("isv:uri:api")+"api/2/topic/comments",defaults:{topic_id:"",mode:0,comments:[],hots:[],tempData:[],outer_cmt_sum:0,participation_sum:0,page_no:0,page_size:0,inside_floor:3,outside_floor:2,total_page_no:0,cfg:{},nodeFlag:!0},events:function(){},initialize:function(a){var b=this;a.nodeFlag?(SOHUCS.nodeData.listData.nodeFlag=a.nodeFlag,b.data(SOHUCS.nodeData.listData)):this.queryServerData(function(a){b.data(a)})},data:function(a){var c,d,e,f=this;a&&(a.nodeFlag?(c=b.map(a.comments,function(a,b){return a.comm_num=b,a}),d=b.map(a.hots,function(a,c){return a.comm_num=c,a.hot=!0,a.comments.length&&b.map(a.comments,function(a){a.hot=!0}),a}),e=b.map(a.specials,function(a,b){return a.comm_num=b,a}),f.set("specials",e),f.set("mode",a.mode),f.set("cmt_sum",a.topic_id),f.set("comments",c),f.set("tempData",[]),f.set("hots",a.hots),f.set("cmt_sum",a.cmt_sum),f.set("outer_cmt_sum",a.outer_cmt_sum),f.set("participation_sum",a.participation_sum),f.set("total_page_no",a.total_page_no),f.set("nodeFlag",a.nodeFlag)):(f.set("nodeFlag",!1),f.set("page_no",a.pageNo)))},queryServerData:function(a){var c=this,d="undefined"!=typeof SOHUCS.config.sys._config&&""!=SOHUCS.config.sys._config?!0:!1,e=d&&SOHUCS.config.sys._config.pageSize?SOHUCS.config.sys._config.pageSize:"",f=SOHUCS.config.sys.module.list.latestPageNum,g=("undefined"!=typeof e&&""!=e&&"number"==typeof parseInt(e)?e:f,SOHUCS.config.extend&&SOHUCS.config.extend.floorConf&&SOHUCS.config.extend.floorConf.floorIn?SOHUCS.config.extend.floorConf.floorIn:3),h=SOHUCS.config.extend&&SOHUCS.config.extend.floorConf&&SOHUCS.config.extend.floorConf.floorOut?SOHUCS.config.extend.floorConf.floorOut:2,i={client_id:SOHUCS.clientid,topic_id:SOHUCS.nodeData.listData.topic_id,page_size:a.pageSize,page_no:a.pageNo,style:"floor",inside_floor:g,outside_floor:h,order_by:SOHUCS.config.sys&&SOHUCS.config.sys._config&&SOHUCS.config.sys._config.order_by};this.fetch({type:"get",data:i,jsonpCallback:"fn",dataType:"jsonp",scriptCharset:"utf-8",success:function(d,e){var f=b.map(e.comments,function(a,b){return a.comm_num=b,a});c.set({comments:f}),c.data(a)},error:function(){}})},update:function(){}});Backbone.Collection.extend({model:c})}module.exports=c}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/list/list.js",function(require,exports,module){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/json2.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),b=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/cookie.js"),c=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js"),d={doScroll:function(b){window.callParent&&callParent(a.stringify({doScroll:!0,diff:b})),SOHUCS.config.sys.iframe||$("#SOHUCS").trigger("actionEvent.doScroll",b)},topJumpUrl:function(b){window.callParent&&callParent(a.stringify({parentJumpUrl:b})),SOHUCS.config.sys.iframe||$("#SOHUCS").trigger("actionEvent.doJumpUrl",b)},getPublicJsonData:function(){var b=SOHUCS.nodeData.listData,c=b.cmt_sum,d=b.participation_sum;window.callParent&&callParent(a.stringify({topicCount:c,partiCount:d})),SOHUCS.config.sys.iframe||$("#SOHUCS").trigger("dataEvent.jsonData",{topicCount:c,partiCount:d})},domTopicID:function(){var a=$("#list_sohu"),b=c.getTopicID();a.attr("topicid",b)},activityStart:function(){var a=SOHUCS.nodeData.listData.activity_info.activityJsUri||"";""!=a&&$.ajax({type:"GET",url:a,dataType:"script",scriptCharset:"utf-8",success:function(){}})},isToday:function(){var a,c=new Date,d=c.getTime(),e=parseInt(b.cookie("cyan_activity"))||"",f=new Date(e);return a=c.toLocaleDateString(d)==f.toLocaleDateString(e)?!0:!1,a?!0:!1}};module.exports=d}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/list/listFloorView.js",function(require,exports,module){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),b=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/underscore.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),c=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/mustache.js"),d=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/json2.js"),e=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js"),f=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/face.js"),g=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/list/list.js"),h=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/list/listFloorModel.js"),i=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/list/listFloorTemp.js"),j={},k=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/list/pageView.js"),l=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/imageUpload.js"),m=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/cboxModel.js"),n=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/cboxView.js"),o=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/list/plugins/listHotNews.js");if(SOHUCS.config.extend&&SOHUCS.config.extend.frontend&&"scs"!=SOHUCS.config.extend.frontend.path){var p=SOHUCS.config.extend.frontend.file,q=b.indexOf(p,"listExtendTemp")>-1?!0:!1;q&&(j=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/list/listFloorTemp.js"),j.subTemp&&(b.extend(i.subTemp,j.subTemp),delete j.subTemp),b.extend(i,j))}var r=SOHUCS.config.sys._config&&SOHUCS.config.sys._config.pageSize?SOHUCS.config.sys._config.pageSize:SOHUCS.config.sys.module.list.latestPageNum,s={page_size:r,page_no:0,nodeFlag:!0},t=new h(s),u=new m,v={};SOHUCS.model.listModel=t;var w={},x=Backbone.View.extend({el:"div#list_sohu",events:{"click a.evt-support":"supportHandle","click a.evt-opposed":"opposedHandle","click a.evt-reply":"replyHandle",mouseover:"activeShowHandle","mouseover .build-middle-floor-dw":"activeShowHandle","mouseover a.evt-share":"shareHandle","click .share-wrapper-dw a":"shardPlatFrom","click .evt-floors-extend":"floorsExtendHandle","click .evt-showmsg":"showMsgdHandle","click .head-img-gw img":"userPageHandle","click .user-name-gw a":"userPageHandle","click .user-username-gw a":"userPageHandle","click .head-name-gw a":"userPageHandle","click .area-image-gw img":"openImageHandle","click .evt-content-open":"contentOpenHandle",'click span[node-type="privilege-intro"]':"showPrivilegeIntro"},initialize:function(){var a=this;b.bindAll(this,"render","supportHandle","opposedHandle","replyHandle","shareHandle"),a.eventsExtend&&a.eventsExtend()},render:function(a){var d,e,f,g=a?a.newData:!1,h=g?"new":"time",j=this.model.get("hots"),k=this.model.get("comments"),l=this.model.get("tempData"),m=this.model.get("nodeFlag"),n=!g&&m?i.listTemplate:i.itemListTemp,o=0==k.length&&1==l.length?!0:!1,p=k.length>0?!0:!1,q=j&&j.length>0?!0:!1,r=SOHUCS.config.sys._config&&SOHUCS.config.sys._config.hideSubList?!0:!1,s=r?"":this.subListHtml,t=i.subTemp.genderSub?i.subTemp.genderSub:"",u=i.subTemp.IPSub?i.subTemp.IPSub:"",v=SOHUCS.config.sys._config&&SOHUCS.config.sys._config.showScore?!0:!1,w=v?i.subTemp.score:"",x=i.subTemp.fromTxt?i.subTemp.fromTxt:"",y="undefined"==typeof SOHUCS.nodeData.configData.data.globalSite.displayLocation||1==SOHUCS.nodeData.configData.data.globalSite.displayLocation?!0:!1,z="undefined"==typeof SOHUCS.nodeData.configData.data.globalSite.useUserLevel?!1:SOHUCS.nodeData.configData.data.globalSite.useUserLevel,A=i.subTemp.indexNum?i.subTemp.indexNum:"",B={replayTimeSub:i.subTemp.replayTime,replayActionSub:i.subTemp.replayActionTemp,contentSub:i.subTemp.formatContent,nickNameSub:i.subTemp.formatNick,userImgSub:i.subTemp.formatIcon,userLevelSub:i.subTemp.userLevel,profileSub:i.subTemp.profileUrl,profileComm:i.subTemp.commProfileUrl,commImgSub:i.subTemp.wirteImgId,floorsSub:s,markerSub:i.subTemp.marker,medalSub:i.subTemp.medal,showTimeList:p,showHotList:q,firstItem:o,dataType:h,genderSub:t,scoreSub:w,displayLocation:y,displayUserLevel:z,floorNum:i.subTemp.floolrNUm,indexNum:A,IPSub:u,fromTxtSub:x};return g?(f=b.last(l),e=b.extend({comments:f},B),d=c.to_html(n,e)):(e=b.extend({hots:j,comments:k,nodeFlag:m},B),d=m?SOHUCS.nodeData.listHtml:c.to_html(n,e)),d},subListHtml:function(){var a=this,b=a.comments,d=i.listFloorTemp,e="",f="",g=a.floor_count||b.length,h=!1,j=0;if(!(b&&g>0))return"";b=b.reverse();var k=i.subTemp.formatContent,l=i.subTemp.replayActionTemp,m=i.subTemp.replayTime,n=i.subTemp.formatNick,o=i.subTemp.profileUrl,p=i.subTemp.commProfileUrl,q=i.subTemp.wirteImgId,r=i.subTemp.medal,s=i.subTemp.genderSub?i.subTemp.genderSub:"",t=i.subTemp.score,u="",v=i.subTemp.floorConf?i.subTemp.floorConf:{floorLen:6,floorIn:3,floorOut:2},w=i.subTemp.floorsHideTxt?i.subTemp.floorsHideTxt():"";return w=""!=w?w.replace("[floorsLen]",g):w,$.each(b,function(i){b[i].contentSub=k,b[i].replayActionSub=l,b[i].replayTimeSub=m,b[i].cmt_id=a.comment_id,b[i].nickNameSub=n,b[i].profileSub=o,b[i].profileComm=p,b[i].commImgSub=q,b[i].medalSub=r,b[i].genderSub=s,b[i].scoreSub=t,u=b[i].highlight?" block-cont-e":"",g<v.floorLen?(j++,b[i].floorsNum=i+1,f=c.to_html(d,b[i]),i==g-1&&(f=f.replace("build-msg-gw","build-msg-gw borderbot")),e='<div class="build-floor-gw'+u+'">'+e+f+"</div>"):i<v.floorIn?(j++,b[i].floorsNum=i+1,e='<div class="build-floor-gw'+u+'">'+e+c.to_html(d,b[i])+"</div>"):i>=b.length-v.floorOut&&(j++,b[i].floorsNum=j+g-(v.floorIn+v.floorOut),i!=b.length-v.floorOut||h||(e=e+'<div class="bulid-middle-hide-floor-dw bulid-middle-hide-floor-bd">'+w+"</div>",h=!0),f=c.to_html(d,b[i]),i==g-1&&(f=f.replace("build-msg-gw","build-msg-gw borderbot")),e='<div class="build-floor-gw'+u+'">'+e+f+"</div>")}),e='<div class="wrap-build-gw">'+e+"</div>"},supportHandle:function(b){var b=b||window.event,c=b.target||b.srcElement,d=$(c).parent(),f=d.parents("div[cmtid]").attr("cmtid"),g=e.getTopicID(),h=d.closest(".action-click-gw").find("a.evt-opposed"),i=d.find("em"),j=d.closest(".action-click-gw"),k=""==i.html()?0:parseInt(i.html());d.css("position","relative").append($("<span>",{css:{font:"bold 18px/34px Arial",color:"#EE542A",position:"absolute",display:"none",top:-20,left:10},text:"+1",className:"float"})),i.html(k+1),d.css({color:"#999","text-decoration":"none"}),d.find("> span").css("display","block").animate({top:[-50,"swing"]},300,function(){$(this).fadeOut(300),d.css({position:"static"})}),d.click(function(){return!1}),h.click(function(){return!1}).css({color:"#999","text-decoration":"none"}),j.find(".click-ding-gw,.click-cai-gw").addClass("click-disable-eg");var l=a.dev.get("isv:uri:api")+"api/2/comment/action",m={action_type:1,comment_id:f,client_id:SOHUCS.clientid,topic_id:g};return $.ajax({url:l,data:m,dataType:"jsonp",jsonpCallback:"fn",success:function(){Backbone.Events.trigger("CUSTOM_EVT_SUPPORT_COMMENT_SUCCESS",{commentId:f})}}),!1},opposedHandle:function(b){var b=b||window.event,c=b.target||b.srcElement,d=$(c).parent(),f=d.parents("div[cmtid]").attr("cmtid"),g=e.getTopicID(),h=d.closest(".action-click-gw").find("a.evt-support"),i=d.find("em"),j=d.closest(".action-click-gw"),k=""==i.html()?0:parseInt(i.html());d.css("position","relative").append($("<span>",{css:{font:"bold 18px/34px Arial",color:"#EE542A",position:"absolute",display:"none",top:-20,left:10},text:"+1",className:"float"})),i.html(k+1),d.css({color:"#999","text-decoration":"none","position:":"static"}),d.find("> span").css("display","block").animate({top:[-50,"swing"]},300,function(){$(this).fadeOut(300),d.css({position:"static"})}),d.click(function(){return!1}),h.click(function(){return!1}).css({color:"#999","text-decoration":"none"}),j.find(".click-ding-gw,.click-cai-gw").addClass("click-disable-eg");var l=a.dev.get("isv:uri:api")+"api/2/comment/action",m={action_type:2,comment_id:f,client_id:SOHUCS.clientid,topic_id:g};return $.ajax({url:l,data:m,dataType:"jsonp",jsonpCallback:"fn",success:function(){Backbone.Events.trigger("CUSTOM_EVT_OPPOSE_COMMENT_SUCCESS",{commentId:f})}}),!1},userPageHandle:function(a){var b=void 0==SOHUCS.page_config?{}:SOHUCS.page_config;if(1==b.showIsvUserPage)return c=a.target||a.srcElement,d=$(c),"IMG"==c.nodeName?(d.parent("a").attr("href",d.parent("a").attr("commHref")),"javascript:void(0)"!=d.parent("a").attr("commHref")&&d.parent("a").attr("target","_blank")):(d.attr("href",d.attr("commHref")),"javascript:void(0)"!=d.attr("commHref")&&d.attr("target","target","_blank")),!0;var a=a||window.event,c=a.target||a.srcElement,d=$(c),e=d.attr("uid"),f="IMG"==c.nodeName?d.parent("a").attr("href"):d.attr("href"),g=d.offset();if(e&&"0"!=e&&"javascript:void(0)"==f)return SOHUCS.model.titleModel.trigger("EVT_USER_PAGE",{uid:e,pos:g,evt:c}),!1},replyHandle:function(a){var b,c=this,a=a||window.event,d=a.target||a.srcElement,e=$(d).closest(".msg-wrap-gw"),f=$(d).closest(".build-msg-gw"),g=v;if(f.length>0?(0==f.children(".wrap-reply-gw").length&&f.append('<div class="wrap-reply-gw"></div>'),b=f.children(".wrap-reply-gw").get(0)):(0==e.children(".wrap-reply-gw").length&&e.append('<div class="wrap-reply-gw"></div>'),b=e.children(".wrap-reply-gw").get(0)),g&&g.$el){g.$el.remove("wrap-reply-gw");try{$("#list_sohu .cy_swfupload").remove()}catch(h){}if(g.remove(),this.resetHeight(!0),g.el==b)return}return g=new n({model:u,el:b}),v=g,this.creatReplyBox(),SOHUCS.model.userinfoModel.on("EVT_CHANGE",function(){c.creatReplyBox()}),this.resetHeight(!0),!1},resetHeight:function(a){e.resetIframeHeight(a)},creatReplyBox:function(){var a,b,c=SOHUCS.model.userinfoModel,d=1==parseInt(SOHUCS.config.sys.globalSite.allowUploadImg)?!0:!1;b={type:"user",info:c.toJSON()},a=u.updateConfData(b),1===SOHUCS.cy_login?u.set({cboxDefaultType:"reply",mainBox:!1,_data:a,cy_login:!1,showAvatar:!1,showPlatform:!1,replyTrigger:!u.get("replyTrigger"),allowImg:d}):2===SOHUCS.cy_login&&u.set({cboxDefaultType:"reply",mainBox:!1,avatar:a.info.img_url||u.get("avatar"),profile_url:a.info.profile_url,hasPassport:!!a.info.passports.length,cy_login:!0,showAvatar:!1,showPlatform:!1,_data:a,replyTrigger:!u.get("replyTrigger"),allowImg:d})},openImageHandle:function(a){l.toggleLargeImg(a)},shareHandle:function(a){var b,c,a=a||window.event,d=a.target||a.srcElement,e=$(d).parent(),f={};if(f.top=e.position().top-40,f.left=e.position().left-85,c=e.find(".share-wrapper-dw"),c.length>0)c.show(),c.css({top:f.top,_top:f.top-5,left:f.left});else{var g=$(i.shareTemp);g.css({top:f.top,_top:f.top-5,left:f.left}),e.append(g),c=e.find(".share-wrapper-dw")}e.mouseleave(function(){b=setTimeout(function(){c.hide()},500)}),c.mouseenter(function(){clearTimeout(b)}),c.mouseleave(function(){$(this).hide()})},currentFloorObj:{},activeShowHandle:function(a){var a=a||window.event,b=a.target||a.srcElement,c=$(b).is(".build-floor-gw,.build-middle-floor-dw")?$(b):$(b).closest(".build-floor-gw,.build-middle-floor-dw"),d=c.children(".build-msg-gw"),e=d.find(".evt-active-wrapper");this.currentFloorObj.length>0&&this.currentFloorObj!=c&&(this.currentFloorObj.removeClass("block-cont-hover-e"),this.currentFloorObj.children(".build-msg-gw").find(".evt-active-wrapper").css({visibility:"hidden"})),c.addClass("block-cont-hover-e"),e.css({visibility:"visible"}),this.currentFloorObj=c,c.mouseleave(function(){0==c.closest(".build-floor-gw,.build-middle-floor-dw").length&&(c.removeClass("block-cont-hover-e"),e.css({visibility:"hidden"}))})},shardPlatFrom:function(b){var c,d,f,g,h,b=b||window.event,i=b.target||b.srcElement,j="SPAN"==i.tagName?$(i).parent():$(i),k=j.closest(".block-cont-gw,.build-msg-gw"),l=k.attr("cmtid"),m=j.attr("class"),n=e.getClientID(),o=e.getTopicID(),p=e.getTopicUrl(),q=encodeURIComponent(e.getTopicTitle()),r=e.getTopicMeta(),s="",t="http://img.itc.cn/comment/"+o+"_"+l+"_png";switch(m){case"evt-share-sina":c=2;break;case"evt-share-qzone":c=3;break;case"evt-share-renren":c=6}switch(h={client_id:n,topic_id:o,comment_id:l,platform_id:c},$.ajax({url:a.dev.get("isv:uri:api")+"api/2/comment/share",data:h,dataType:"jsonp",jsonpCallback:"fn",success:function(){}}),m){case"evt-share-sina":f=610,g=480,d="appkey=3874358783&url="+p+"&title="+q+"&pic="+t,s="http://service.weibo.com/share/share.php?"+d;break;case"evt-share-qzone":f=610,g=480,d="site=畅言评论&url="+p+"&title="+q+"&summary="+r+"&pics="+t,s="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?"+d;break;case"evt-share-renren":f=610,g=580,d="resourceUrl="+p+"&title="+q+"&description="+r+"&pic="+t+"&charset=utf-8",s="http://widget.renren.com/dialog/share?"+d}window.open(s,null,"height="+g+",width="+f+",status=yes,toolbar=no,menubar=no,location=no")},floorsExtendHandle:function(a){function b(a){if(d=a.comments[0].comments,!(d&&d.length>0))return!1;h=d.length;var b=i.subTemp.formatContent,f=i.subTemp.replayActionTemp,j=i.subTemp.replayTime,k=i.subTemp.formatNick,m=i.subTemp.profileUrl,q=i.subTemp.commProfileUrl,r=i.subTemp.wirteImgId,s=i.subTemp.medal;$.each(d,function(a){d[a].floorsNum=a+1,d[a].contentSub=b,d[a].replayActionSub=f,d[a].replayTimeSub=j,d[a].nickNameSub=k,d[a].profileSub=m,d[a].profileComm=q,d[a].commImgSub=r,d[a].medalSub=s,a>=p.floorIn&&a<d.length-p.floorOut&&(o=o+'<div class="build-middle-floor-dw build-middle-floor-bd">'+c.to_html(n,d[a])+"</div>")}),$(g).after(o),$(g).remove(),l.appendImg(a.comments),e.resetIframeHeight()}var d,f=a.target,g=$(f).parent(),h=0,j=$(f).closest(".block-cont-gw"),k=(j.attr("datatype"),j.attr("cmtnum")),k=""!=k?parseInt(k):-1,m=j.attr("cmtid"),n=i.listFloorTemp,o="",h=0,p=i.subTemp.floorConf?i.subTemp.floorConf:{floorLen:6,floorIn:3,floorOut:2};return this._getFloorData(m,b),!1},_getFloorData:function(b,c){var d=a.dev.get("isv:uri:api")+"api/2/comment/floor",f=e.getClientID(),g=e.getTopicID(),h={comment_id:b,client_id:f,topic_id:g};return $.ajax({url:d,data:h,dataType:"jsonp",scriptCharset:"utf-8",jsonpCallback:"fn",success:function(a){a.comments[0].floor_count=a.comments[0].comments.length,a.comments[0].comments.reverse(),c&&c(a),SOHUCS.extendData=SOHUCS.extendData||{},SOHUCS.extendData[b]=a.comments[0]}}),!1},showMsgdHandle:function(a){var a=a||window.event,b=a.target||a.srcElement,c=$(b).parent(),d=c.next();c.remove(),d.show()},contentOpenHandle:function(a){function b(a){var b={};if(a&&0!=a.length)return $.each(a,function(c){a[c].comment_id==q&&(b=a[c])}),!b.content&&SOHUCS.extendData&&SOHUCS.extendData[m]&&(b=SOHUCS.extendData[m].comments[r-1]),b}var c,d,g,a=a||window.event,h=a.target||a.srcElement,i=$(h).closest(".wrap-word-bg"),j=$(h).closest(".block-cont-gw"),k=j.length,l=j.length>0?j.attr("cmtnum"):"",m=k>0?j.attr("cmtid"):"",n=j.attr("datatype"),o=$(h).closest(".build-msg-gw"),p=o.length,q=p>0?o.attr("cmtid"):"",r=o.length>0?o.attr("floornum"):"";switch(n){case"":c=[];break;case"hot":c=t.get("hots")[l];break;case"time":c=t.get("comments")[l];break;case"new":c=t.get("tempData")[l];break;case"vip":c=t.get("specials")[l]}k>0&&p>0?d=b(c.comments):k>0&&(d=c),d.content&&(g=f.ubbToImg(e.decode(d.content)),i.html(g))},showPrivilegeIntro:function(a){a&&a.stopPropagation();var b=$(a.target),c=$(a.target).closest('span[node-type="privilege-intro"]').attr("uid"),d=b.closest(".section-title-loginStyle").position();c&&"0"!=c&&SOHUCS.model.titleModel.trigger("EVT_USER_PAGE",{uid:c,pos:d,place:"LEVEL_TEXT"})}}),y=Backbone.View.extend({el:$("#SOHUCS"),model:t,floorTemplate:i,events:{},initialize:function(){this.listenTo(t,"change:page_no",this.addItem),this.appendImg(),this.listPlugs(),this.powerBy();{var a=new x({model:t});new z}w=a,this.replayTimeHandler(),o.init(),g.getPublicJsonData(),g.domTopicID(),e.UVMonitorCookie(),SOHUCS.model.listModel.trigger("EVT_LIST_RENDER"),e.objectAVoid(),this.funExtend&&this.funExtend(),this.resetHeight(),SOHUCS.model.listModel.trigger("EVT_LIST_FIRST_RENDER"),Backbone.Events.trigger("CUSTOM_EVT_LIST_VIEW_RENDER")},resetHeight:function(){e.resetIframeHeight()},render:function(){},addItem:function(){var a,b=SOHUCS.config.sys._config&&SOHUCS.config.sys._config.hideList?!0:!1,c=SOHUCS.nodeData.listData.hideList?!0:!1,d=b||c,f=SOHUCS.nodeData.listData.outer_cmt_sum,g=$("#list_sohu"),h=w;return d||0==f?void e.resetIframeHeight(!0):(""==g.html()?g.append(h.render()):($("#list_sohu .cy_swfupload").remove(),a=h.render(),g.find(".list-hot-w,.list-vip-w,.list-newest-w .block-cont-gw").remove(),g.find(".list-newest-w").append(a)),SOHUCS.model.listModel.trigger("EVT_LIST_RENDER"),this.appendImg(),e.objectAVoid(),e.resetIframeHeight(!0),void Backbone.Events.trigger("CUSTOM_EVT_LIST_VIEW_RENDER"))},appendImg:function(){var a;l.firstLoad?(a=t.get("comments"),t.get("hots").length>0&&(a=a.concat(t.get("hots"))),t.get("specials").length>0&&(a=a.concat(t.get("specials"))),l.firstLoad=!1):a=t.get("comments"),l.appendImg(a)},addList:function(){},firstPageRender:!0,pageRender:function(){if(!(SOHUCS.nodeData.listData.error_code&&SOHUCS.nodeData.listData.error_code>0)){var a=this,b="page_sohu",c={pageIndex:1,pageCount:SOHUCS.nodeData.listData.total_page_no},d=new k,e=new d.gopage(b);e.init(c);var f=$("#"+b);f.bind("pageClick",function(b,c){a.pageHandler(f,c.current),g.doScroll()})}},pageHandler:function(a,b){var c={pageNo:b,pageSize:r,nodeFlag:!1};t.queryServerData(c)},jumpPage:function(){if(!($(".list-more-comment-w").length>0)){var a,b=$("#more_list_sohu"),d=i.jumpTemp,e=SOHUCS.config.sys._config.varName,f=SOHUCS.config.sys._config.jumpUrl.replace(/\[.+\]/g,e),g=this.model.get("participation_sum"),h={jumpPage:f,participation_sum:g};a=c.to_html(d,h),b.append(a)}},closeList:function(){if(!($(".list-more-comment-w").length>0)){var a=$("#list_sohu"),b=i.closeTemp;a.append(b)}},noCommList:function(){if(!($(".list-comment-empty-w").length>0)){var a=$("#list_sohu"),b=i.noCommTemp;a.append(b)}},listPlugs:function(){var a=this,b=SOHUCS.config.sys._config,c=b&&SOHUCS.config.sys._config.jumpUrl?!0:!1,d=SOHUCS.config.sys._config&&SOHUCS.config.sys._config.hideList?!0:!1,f=SOHUCS.nodeData.listData.hideList?!0:!1,g=d||f,h=b&&parseInt(SOHUCS.config.sys._config.pageSize)>=0?parseInt(SOHUCS.config.sys._config.pageSize):-1,i=SOHUCS.nodeData.listData.cmt_sum,j=(SOHUCS.nodeData.listData.comments.length,SOHUCS.nodeData.listData.hots.length,3==SOHUCS.nodeData.listData.mode||5==SOHUCS.nodeData.listData.mode);j?this.closeList():0==i?this.noCommList():c||g||j||0==h||!this.firstPageRender?c?this.jumpPage():g&&!c&&this.closeList():(this.pageRender(),"cyr45LmB4"===SOHUCS.clientid&&!function(){var b=SOHUCS&&SOHUCS.nodeData&&SOHUCS.nodeData.listData&&SOHUCS.nodeData.listData.topic_id,c=SOHUCS&&SOHUCS.clientid,d="http://bbs.gmw.cn/",e="http://bbs.gmw.cn/thread-{tid}-1-1.html",f="http://changyan.sohu.com/admin/jump?topic_id="+b+"&client_id="+c+"&default_url="+d+"&bbs_url="+e;SOHUCS.config.sys=SOHUCS.config.sys||{},SOHUCS.config.sys._config=SOHUCS.config.sys._config||{},SOHUCS.config.sys._config.jumpUrl="javascript:;",a.jumpPage(),$('#more_list_sohu a[node-type="more-comment"]').attr("href",f)}(),("cyrlcqflH"===SOHUCS.clientid||"cyrlLPAR1"===SOHUCS.clientid||"cyruG23LC"===SOHUCS.clientid)&&!function(){SOHUCS.config.sys=SOHUCS.config.sys||{},SOHUCS.config.sys._config=SOHUCS.config.sys._config||{},SOHUCS.config.sys._config.jumpUrl="javascript:;",$("#more_list_sohu").delegate('a[node-type="more-comment"]',"click",function(a){a.preventDefault(),$("#list_sohu .block-cont-gw.block-cont-bg").show(),$("#page_sohu").show(),$("#more_list_sohu").children().remove()}),$("#list_sohu .list-newest-w .block-cont-gw.block-cont-bg").hide(),$("#page_sohu").hide(),a.jumpPage()}(),"cyrpRIpG5"===SOHUCS.clientid&&!function(){SOHUCS.config.sys=SOHUCS.config.sys||{},SOHUCS.config.sys._config=SOHUCS.config.sys._config||{},SOHUCS.config.sys._config.jumpUrl="javascript:;",$("#list_sohu .list-newest-w .block-cont-gw.block-cont-bg").hide(),$("#page_sohu").hide(),a.jumpPage();var b=SOHUCS&&SOHUCS.nodeData&&SOHUCS.nodeData.listData&&SOHUCS.nodeData.listData.topic_id,c=SOHUCS&&SOHUCS.clientid,d="http://bbs.hebnews.cn/",e="http://bbs.hebnews.cn/thread-{tid}-1-1.html",f="http://changyan.sohu.com/admin/jump?topic_id="+b+"&client_id="+c+"&default_url="+d+"&bbs_url="+e;$('#more_list_sohu a[node-type="more-comment"]').attr("href",f)}(),"cyr6z55Tg"===SOHUCS.clientid&&!function(){SOHUCS.config.sys=SOHUCS.config.sys||{},SOHUCS.config.sys._config=SOHUCS.config.sys._config||{},SOHUCS.config.sys._config.jumpUrl="javascript:;",$("#list_sohu .list-newest-w .block-cont-gw.block-cont-bg").hide(),$("#page_sohu").hide(),a.jumpPage();var b=SOHUCS&&SOHUCS.nodeData&&SOHUCS.nodeData.listData&&SOHUCS.nodeData.listData.topic_id,c=SOHUCS&&SOHUCS.clientid,d="http://bbs.online.sh.cn/",e="http://bbs.online.sh.cn/thread-{tid}-1-1.html",f="http://changyan.sohu.com/admin/jump?topic_id="+b+"&client_id="+c+"&default_url="+d+"&bbs_url="+e;$('#more_list_sohu a[node-type="more-comment"]').attr("href",f)}()),e.resetIframeHeight()},powerBy:function(){var a=$("#powerby_sohu"),b=i.powerByTemp,d="",e="",f=SOHUCS.config.sys.globalSite.poweredBy||"1",g=decodeURIComponent(SOHUCS.config.sys.globalSite.webName);switch(f){case"1":e=g+"正在使用畅言";break;case"2":e="畅言";break;case"3":e="Powered by 畅言";break;case"4":e="评论框由畅言提供";break;default:e=g+"正在使用畅言"}d=c.to_html(b,{PoweredBy:e}),a.append(d)},replayTimeHandler:function(){function a(a){var b,c=parseInt(a),d=new Date,e=d.getTime(),f=new Date(c),g=f.getMonth()+1,h=parseInt(f.getDate()),i=f.getFullYear(),j=f.getHours(),k=f.getMinutes(),l=36e5,m=3e5,n="",o=d.toLocaleDateString(e)==f.toLocaleDateString(c)?!0:!1;return o?d-f>=m&&l>d-f?(b=parseInt((d-f)/1e3/60),n=b+"分钟前"):m>d-f?n="刚刚":d-f>l&&(n="今日"+j+":"+(k>=10?k:"0"+k)):d-f>=m&&l>d-f?(b=parseInt((d-f)/1e3/60),n=b+"分钟前"):m>d-f?n="刚刚":d-f>l&&(n=i+"年"+g+"月"+h+"日 "+j+":"+(k>=10?k:"0"+k)),n}var b="",c="",d="",e={},f="",g={},h=$("#list_sohu").find("span.evt-time,i.evt-time,"),e=[];h.each(function(){switch(g=$(this).parents("div[cmtid]"),b=g.attr("cmtid"),d=g.attr("datatype"),c=g.attr("cmtnum"),d){case"":e=[];break;case"hot":e=t.get("hots")[c];break;case"time":e=t.get("comments")[c];break;case"new":e=t.get("tempData")[c];break;case"vip":e=t.get("specials")[c]}f=a(e.create_time),$(this).html(f).data("date",e.create_time)})}}),z=Backbone.View.extend({el:"div#list_sohu",imageUpload:l,events:{},initialize:function(){var a,b,c,d,f,h=this,i=SOHUCS.config.sys._config,j=i&&SOHUCS.config.sys._config.jumpUrl?!0:!1,k=i&&parseInt(SOHUCS.config.sys._config.pageSize)>=0?parseInt(SOHUCS.config.sys._config.pageSize):-1,m=i&&SOHUCS.config.sys._config.varName?SOHUCS.config.sys._config.varName:"",j=i&&SOHUCS.config.sys._config.jumpUrl?SOHUCS.config.sys._config.jumpUrl.replace(/\[.+\]/g,m):"",n=i&&SOHUCS.config.sys._config.newCommNoScroll?SOHUCS.config.sys._config.newCommNoScroll:!1;Backbone.Events.on("CUSTOM_EVT_POST_COMMENT_SUCCESS",function(i){var m=$("#comment_sohu").height(),o=$(".list-hot-w").length>0?$(".list-hot-w").height():0,p=parseInt(m)+parseInt(o)+50,q=SOHUCS.nodeData.listData.activity_info&&"ok"==SOHUCS.nodeData.listData.activity_info.result?!0:!1,r=g.isToday(),s=w;
if(a=t.get("comments"),b=t.get("tempData"),h.newCommData(i),d=s.render({newData:!0}),c=0==$("#list_sohu .list-newest-w .block-cont-gw ").length?!0:!1,c?(f=$("#list_sohu"),f.html(d)):(f=$("#list_sohu .list-newest-w .block-cont-gw").first(),f.before(d)),l.appendImg(b),h.removeCbox(),SOHUCS.model.listModel.trigger("EVT_LIST_RENDER"),e.resetIframeHeight(!0),q&&!r){var u=$("#SOHUCS").offset().top||0;window.scrollTo(0,u),setTimeout(function(){g.activityStart()},500)}else{if(!(0!=k&&!j||SOHUCS.page_config.submit_no_jump&&1==SOHUCS.page_config.submit_no_jump))return void g.topJumpUrl(j);n||g.doScroll(p)}})},render:function(){},newCommData:function(a){var b,c,d,e,f=(new Date).getTime(),g=a.dataType,h=""!=a.cmtNum?parseInt(a.cmtNum):-1,j=i.subTemp.floorConf?i.subTemp.floorConf:{floorLen:6,floorIn:3,floorOut:2},k=""!=a.floorNum?parseInt(a.floorNum):-1,l=0,m=a.comment_id,n=a.reply_id||"",o=a.reply_cmtid||"",p=[{url:a.attachment_urls||""}],q=a.cmt_score,r=this.userInfo(),s={metadataAsJson:a.metadataAsJson,content:a.content,attachments:p,create_time:f,comment_id:a.comment_id,support_count:0,oppose_count:0,from:"",new_data:!0,status:0,passport:{passport_id:0,user_id:r.user_id,platform_id:r.platform_id,from:"",nickname:r.nickname,img_url:r.img_url,profile_url:r.profile_url,isv_refer_id:r.isv_refer_id||null,isv_refer_metadata:r.isv_refer_metadata||null},comments:[],comm_num:0,score:q,userScore:SOHUCS.model.userinfoModel.attributes&&SOHUCS.model.userinfoModel.attributes.userScore};switch(g){case"":c=[];break;case"hot":c=t.get("hots");break;case"time":c=t.get("comments");break;case"new":c=t.get("tempData")}if(""==n)b=t.get("tempData"),s.comm_num=b.length,b.push(s);else{if(b=t.get("tempData"),s.comm_num=b.length,0>k)d=c[h].comments,d.length>0?(d.push(c[h]),d=d.reverse(),s.comments=d):s.comments.push(c[h]),s.floor_count=c[h].floor_count+1;else{if(e=SOHUCS.extendData&&SOHUCS.extendData[o]||c[h],d=e.comments,l=k<j.floorLen?k:k-(e.floor_count-j.floorLen),SOHUCS.extendData&&SOHUCS.extendData[o]){if(d=d.slice(0,k),k>j.floorLen){var u=d.slice(0,j.floorIn),v=j.floorIn+k-j.floorLen,x=d.slice(v,v+(1==j.floorOut?j.floorOut+1:2*j.floorOut-1));d=u.concat(x)}}else d=d.slice(0,l);s.comments=d.reverse(),s.floor_count=k}b.push(s)}t.set("tempData",b),SOHUCS.extendData&&SOHUCS.extendData[m]||w._getFloorData(m)},userInfo:function(){var a=SOHUCS.model.userinfoModel,b=SOHUCS.userinfo&&SOHUCS.userinfo.isv_userinfo?SOHUCS.userinfo.isv_userinfo:null,c={user_id:a.get("user_id")||0,platform_id:a.get("platform_id"),from:a.get("from"),nickname:a.get("nickname"),img_url:a.get("img_url"),profile_url:a.get("profile_url"),isv_refer_id:a.get("isv_refer_id")};return null!=b&&b.user.metadata&&(c.isv_refer_metadata=d.stringify(b.user.metadata)),c},removeCbox:function(){var a=v;if(a&&a.$el){a.$el.after('<div class="wrap-reply-gw"></div>');try{$("#list_sohu .cy_swfupload").remove()}catch(b){}a.remove()}}});module.exports={ListView:y}}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/login-dialog/template.js",function(require,exports,module){var a=(require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js"));module.exports='\n        <div class="wrapper-cont-dw wrapper-cont-bd">\n            <div node-type="login-list" class="cont-login-dw">\n                <ul class="clear-g">\n                    {{#isSSOFromLogoData}}\n                    <li>\n                        <div class="login-wrap-w login-wrap-b login-wrap-other-w">\n                            <a data-key="sso" data-action-type="{{ssoButtonActionType}}" href="javascript:;">\n                                <span class="wrap-icon-w" style="background:url({{isvLogoUrl}})"></span>\n                                <span class="wrap-name-w wrap-name-b">登录</span>\n                            </a>\n                        </div>\n                    </li>\n                    {{/isSSOFromLogoData}}\n                    {{#data.list}}\n                        <li style="display:{{display}}">\n                            <div class="login-wrap-w login-wrap-b">\n                                <a data-type="btn" title="{{name}}" data-key="{{className}}">\n                                    <span class="wrap-icon-w icon30-{{className}}-b"></span><span class="wrap-name-w wrap-name-b">{{shortName}}</span>\n                                </a>\n                            </div>\n                        </li>\n                    {{/data.list}}\n                 </ul>\n            </div>\n            {{#anonymous}}\n            <div class="cont-visitor-dw cont-visitor-bd" style="_margin-bottom:5px;">\n                <div class="visitor-title-dw">\n                    <span class="title-name-dw title-name-bd">也可以使用'+(a.isSohuStyle()?"快速发表":"游客")+'登录</span>\n                </div>\n                <div class="clear-g visitor-form-dw">\n                    <span class="form-name-dw form-name-bd">昵称</span>\n                    <div class="clear-g form-action-dw">\n                        <input type="text" class="action-text-dfw action-text-bdf" value="" name="">\n                    </div>\n                </div>\n                <div class="clear-g cont-verify-dw">\n                    <span class="verify-name-dw verify-name-bd">验证码</span>\n                    <div class="clear-g verify-action-dw">\n                        <input type="text" size="4" maxlength="4" class="verify_container action-text-dfw action-text-bdf" value="" name="">\n                        <span class="action-img-dw"><img width="100" style="width:100px" height="25" alt="" src="http://changyan.itc.cn/v2/asset/scs/imgs/vcode.jpg"></span>\n                        <span class="action-link-dw action-link-bd">\n                            <a href="javascript:void(0)" node-type="change">换一换</a>\n                        </span>\n                    </div>\n                </div>\n                <div class="cont-prompt-dw"><span class="prompt-word-bd"><!--昵称不能超过20字符--></span></div>\n                <div class="cont-btn-dw">\n                    <a href="javascript:void(0)"><button class="btn-dfw btn-bdf" node-type="button"></button></a>\n                </div>\n            </div>\n            {{/anonymous}}\n        </div>\n    '}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/sso.js",function(require,exports,module){var $=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),$$dataCenter=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/data-center.js"),doWinLogin=function(a,b){if(void 0===window.changyan.childWindow){var c="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,d="undefined"!=typeof window.screenY?window.screenY:window.screenTop,e="undefined"!=typeof window.outerWidth?window.outerWidth:document.documentElement.clientWidth,f="undefined"!=typeof window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,g=754,h=537,i=parseInt(c+(e-g)/2,10),j=parseInt(d+(f-h)/2.5,10);window.changyan.childWindow=window.open(a,"","alwaysRaised=yes,left="+i+",top="+j+",width="+g+",height="+h+",scrollbars=no,z-look=yes");var k,l=function(){window.clearInterval(k),window.changyan.childWindow=void 0,SOHUCS.reset(b)};k=window.setInterval(function(){if(window.XMLHttpRequest)try{if(window.changyan.childWindow.closed===!1)return;l()}catch(a){l()}else!function(){var a,b="";try{for(a in window.changyan.childWindow)b+=a}catch(c){}b.length<10&&l()}()},500)}},doDialogLogin=function(code,fn){eval(code)},ret={isvGetUserinfo:function(a){SOHUCS.userinfo.queryIsvUserInfo(a)},isvLogin:function(){},isvLogout:function(){},doIcoLogin:function(a){var b=$$dataCenter.get("isv:config")||{};"1"===b.sso_button_action_type&&b.sso_button_action&&doWinLogin(b.sso_button_action,a),"2"===b.sso_button_action_type&&b.sso_button_action&&doDialogLogin(b.sso_button_action,a)}};module.exports=ret}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cy-login/cy-login.js",function(require,exports,module){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),Backbone=(require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js")),b={map:{"weibo-sohu":{id:"1",name:"搜狐微博",shortName:"搜狐登录",className:"sohu",winWidth:100,winHeight:100,display:"none"},sina:{id:"2",name:"新浪微博",shortName:"微博登录",className:"sina",winWidth:754,winHeight:537,display:"block"},qq:{id:"3",name:"QQ",shortName:"QQ登录",className:"qq",winWidth:800,winHeight:520,display:"block"},"weibo-qq":{id:"4",name:"腾讯微博",shortName:"腾讯登录",className:"qq-weibo",winWidth:640,winHeight:480,display:"none"},163:{id:"5",name:"网易微博",shortName:"网易登录",className:"163",winWidth:960,winHeight:645,display:"none"},renren:{id:"6",name:"人人网",shortName:"人人登录",className:"renren",winWidth:645,winHeight:415,display:"block"},baidu:{id:"7",name:"百度",shortName:"百度登录",className:"baidu",winWidth:532,winHeight:336,display:"none"},douban:{id:"8",name:"豆瓣",shortName:"豆瓣登录",className:"douban",winWidth:532,winHeight:640,display:"none"},kaixin:{id:"9",name:"开心",shortName:"开心登录",className:"kaixin",winWidth:100,winHeight:100,display:"none"},taobao:{id:"10",name:"淘宝",shortName:"淘宝登录",className:"taobao",winWidth:532,winHeight:390,display:"none"},sohu:{id:"11",name:"搜狐",shortName:"搜狐登录",className:"sohu",winWidth:580,winHeight:424,display:"block",hideBind:"true"}},clickHandle:function(a,b){if(void 0===window.changyan.childWindow){var c="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,d="undefined"!=typeof window.screenY?window.screenY:window.screenTop,e="undefined"!=typeof window.outerWidth?window.outerWidth:document.documentElement.clientWidth,f="undefined"!=typeof window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,g=a.width||400,h=a.height||300,i=parseInt(c+(e-g)/2,10),j=parseInt(d+(f-h)/2.5,10);window.changyan.childWindow=window.open(a.url,"","alwaysRaised=yes,left="+i+",top="+j+",width="+g+",height="+h+",scrollbars=no,z-look=yes");var k,l=function(){window.clearInterval(k),window.changyan.childWindow=void 0,Backbone.Events.trigger("CUSTOM_EVT_LOGIN_UPDATE",b)};k=window.setInterval(function(){if(window.XMLHttpRequest)try{if(window.changyan.childWindow.closed===!1)return;l()}catch(a){l()}else!function(){var a,b="";try{for(a in window.changyan.childWindow)b+=a}catch(c){}b.length<10&&l()}()},500)}},login:function(b,c){var d;if("sso"===b)return d=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/sso.js"),void d.doIcoLogin(c);var e=a.dev.get("isv:uri:api")+"api/2/login/passport?client_id="+SOHUCS.clientid+"&platform_id="+this.map[b].id;this.clickHandle({url:e,width:this.map[b].winWidth,height:this.map[b].winHeight},c)}};module.exports=b}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/login-dialog/view.js",function(require,exports,module){var $=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),a=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/underscore.js"),Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),b=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/mustache.js"),c=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cy-login/cy-login.js"),d=Backbone.View.extend({el:"#changyan_dialog_wrapper",template:require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/login-dialog/template.js"),events:{},initialize:function(){var b=this;a.bindAll(this,"render"),this.model.set({isSSOFromLogoData:SOHUCS.model.cboxModel.get("isSSOFromLogoData"),data:SOHUCS.model.cboxModel.get("_data"),anonymous:SOHUCS.model.cboxModel.get("anonymous")}),$(document).on("click",'#changyan_dialog_wrapper a[node-type="change"]',function(a){$(a.target).parents(".verify-action-dw").find(".action-img-dw>img").attr("src","http://plus.sohu.com/a/spassport/vcode?"+Math.floor(1e3*Math.random()))}),$(document).on("click",'#changyan_dialog_wrapper button[node-type="button"]',function(a){var c=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/lang.js"),d=a.target,e="http://plus.sohu.com/a/spassport/register/quick0",f=$("#changyan_dialog_wrapper"),g=$("#changyan_dialog_wrapper").find(".action-text-bdf"),h=f.find(".action-text-bdf").val()||"",i=/^[a-zA-Z]{4}$/gi,j=$(d).parents("#changyan_dialog_wrapper").find(".verify-action-dw>.action-link-dw>a"),k=$(d).parents("#changyan_dialog_wrapper").find(".verify-action-dw .verify_container"),l=f.find(".prompt-word-bd");return""==k.val()?(l.html("请输入验证码！"),void k.get(0).focus()):k.size()&&i.test(k.val())?""==c.trim(h)?(l.html("昵称不能为空！"),void g.get(0).focus()):c.len(c.trim(h))>20?void l.html("昵称长度不能大于20字符！"):(data={_input_encode:"UTF-8",nick:h,sign:$(".action-text-dfw").data("sign")||"",vcode:k.val()},void $.ajax({url:e,type:"get",dataType:"jsonp",data:data,jsonpCallback:"loginDialogfn",jsonp:"cb",scriptCharset:"utf-8",success:function(a){try{if(3==a.code)return l.html("验证码输入错误！"),j.get(0).click(),void k.get(0).focus();if(6===a.code)return;if(10203==a.error_code)return l.html("昵称含有敏感字符"),void g.get(0).focus();b.close(),Backbone.Events.trigger("CUSTOM_EVT_LOGIN_UPDATE",b.loginCallback)}catch(c){}}})):(l.html("验证码输入错误！"),void k.get(0).focus())}),$(document).on("click",'#changyan_dialog_wrapper div[node-type="login-list"] a',function(){c.login($(this).data("key"),b.loginCallback),b.close()})},render:function(){var a=function(a){var b=function(a){if(a){var b=Math.floor(1e3*Math.random()),c="http://plus.sohu.com/a/spassport/vcode";$(a).attr("src",c+"?"+b)}},c=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js"),d=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/widgets/dialog.js");d.initDialog($);var e={id:"changyan_dialog_wrapper",idClass:"adsfas",title:"登录",position:["center","center"],close:!0,modal:!0,beforeClose:function(){$(this).remove(),c.resetIframeHeight(!0)},contentInner:{innerHTML:a,klass:"klass",handle:function(){}},width:400,height:"auto",dialogClass:"reset-g windows-define-dg user-login-wrapper-dw"};window.setTimeout(function(){c.randomNickname(function(a){$(".action-text-dfw").eq(0).val(a.nickname||""),$(".action-text-dfw").eq(0).data("sign",a.sign)})},0),$("#"+e.id).get(0)||$("body").append('<div id="changyan_dialog_wrapper"></div>'),$("#changyan_dialog_wrapper").dialog(e),c.resetIframeHeight(420),b($("#changyan_dialog_wrapper").find(".verify-action-dw>.action-img-dw>img").get(0))},c=this.model.toJSON(),d=b.to_html(this.template,c);a(d),Backbone.Events.trigger("CUSTOM_EVT_LOGIN_DIALOG_RENDER")},show:function(a){this.loginCallback=a,this.render()},close:function(){$("#changyan_dialog_wrapper").dialog("close")},loginCheck:function(a){var b;2===SOHUCS.cy_login?a&&a():(b=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/data-center.js"),"2"===b.get("isv:config:sso_type")?c.login("sso",a):this.show(a))}});module.exports=new d({model:new Backbone.Model})}),define("D:/Www/sohu/cyf/v2.5/tmp-build/lib/util/swf.upload.js",function(require,exports,module){function FileProgress(a,b){if(this.fileProgressID=a.id,this.opacity=100,this.height=0,this.fileProgressWrapper=document.getElementById(this.fileProgressID),this.fileProgressWrapper)this.fileProgressElement=this.fileProgressWrapper.firstChild,this.reset();else{this.fileProgressWrapper=document.createElement("div"),this.fileProgressWrapper.className="progressWrapper",this.fileProgressWrapper.id=this.fileProgressID,this.fileProgressElement=document.createElement("div"),this.fileProgressElement.className="progressContainer";var c=document.createElement("a");c.className="progressCancel",c.href="#",c.style.visibility="hidden",c.appendChild(document.createTextNode(" "));var d=document.createElement("div");d.className="progressName",d.appendChild(document.createTextNode(a.name));var e=document.createElement("div");e.className="progressBarInProgress";var f=document.createElement("div");f.className="progressBarStatus",f.innerHTML="&nbsp;",this.fileProgressElement.appendChild(c),this.fileProgressElement.appendChild(d),this.fileProgressElement.appendChild(f),this.fileProgressElement.appendChild(e),this.fileProgressWrapper.appendChild(this.fileProgressElement),document.getElementById(b).appendChild(this.fileProgressWrapper)}this.height=this.fileProgressWrapper.offsetHeight,this.setTimer(null)}function swfUploadPreLoad(){var a=this,b=function(){var b=document.getElementById("divLoadingContent");b&&(b.style.display="");var c=function(){b&&(b.style.display="none"),document.getElementById("divLongLoading")&&(document.getElementById("divLongLoading").style.display="")};this.customSettings.loadingTimeout=setTimeout(function(){c.call(a)},15e3)};this.customSettings.loadingTimeout=setTimeout(function(){b.call(a)},1e3)}function swfUploadLoaded(){var a=this;clearTimeout(this.customSettings.loadingTimeout),document.getElementById("divLoadingContent")&&(document.getElementById("divLoadingContent").style.display="none"),document.getElementById("divLongLoading")&&(document.getElementById("divLongLoading").style.display="none"),document.getElementById("divAlternateContent")&&(document.getElementById("divAlternateContent").style.display="none"),document.getElementById("btnCancel")&&(document.getElementById("btnCancel").onclick=function(){a.cancelQueue()})}function swfUploadLoadFailed(){clearTimeout(this.customSettings.loadingTimeout),document.getElementById("divLoadingContent")&&(document.getElementById("divLoadingContent").style.display="none"),document.getElementById("divLongLoading")&&(document.getElementById("divLongLoading").style.display="none"),document.getElementById("divAlternateContent")&&(document.getElementById("divAlternateContent").style.display="")}function fileQueued(a){try{var b=new FileProgress(a,this.customSettings.progressTarget);b.setStatus("Pending..."),b.toggleCancel(!0,this)}catch(c){this.debug(c)}}function fileQueueError(a,b,c){try{if(b===SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED)return void alert("You have attempted to queue too many files.\n"+(0===c?"You have reached the upload limit.":"You may select "+(c>1?"up to "+c+" files.":"one file.")));var d=new FileProgress(a,this.customSettings.progressTarget);switch(d.setError(),d.toggleCancel(!1),b){case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:d.setStatus("File is too big."),this.debug("Error Code: File too big, File name: "+a.name+", File size: "+a.size+", Message: "+c);break;case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:d.setStatus("Cannot upload Zero Byte files."),this.debug("Error Code: Zero byte file, File name: "+a.name+", File size: "+a.size+", Message: "+c);break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:d.setStatus("Invalid File Type."),this.debug("Error Code: Invalid File Type, File name: "+a.name+", File size: "+a.size+", Message: "+c);break;default:null!==a&&d.setStatus("Unhandled Error"),this.debug("Error Code: "+b+", File name: "+a.name+", File size: "+a.size+", Message: "+c)}}catch(e){this.debug(e)}}function fileDialogComplete(a){try{this.startUpload()}catch(b){this.debug(b)}}function uploadStart(a){try{var b=new FileProgress(a,this.customSettings.progressTarget);b.setStatus("Uploading..."),b.toggleCancel(!0,this)}catch(c){}return!0}function uploadProgress(a,b,c){try{var d=Math.ceil(b/c*100),e=new FileProgress(a,this.customSettings.progressTarget);e.setProgress(d),e.setStatus("Uploading...")}catch(f){this.debug(f)}}function uploadSuccess(a){try{var b=new FileProgress(a,this.customSettings.progressTarget);b.setComplete(),b.setStatus("Complete."),b.toggleCancel(!1)}catch(c){this.debug(c)}}function uploadError(a,b,c){try{var d=new FileProgress(a,this.customSettings.progressTarget);switch(d.setError(),d.toggleCancel(!1),b){case SWFUpload.UPLOAD_ERROR.HTTP_ERROR:d.setStatus("Upload Error: "+c),this.debug("Error Code: HTTP Error, File name: "+a.name+", Message: "+c);break;case SWFUpload.UPLOAD_ERROR.UPLOAD_FAILED:d.setStatus("Upload Failed."),this.debug("Error Code: Upload Failed, File name: "+a.name+", File size: "+a.size+", Message: "+c);break;case SWFUpload.UPLOAD_ERROR.IO_ERROR:d.setStatus("Server (IO) Error"),this.debug("Error Code: IO Error, File name: "+a.name+", Message: "+c);break;case SWFUpload.UPLOAD_ERROR.SECURITY_ERROR:d.setStatus("Security Error"),this.debug("Error Code: Security Error, File name: "+a.name+", Message: "+c);break;case SWFUpload.UPLOAD_ERROR.UPLOAD_LIMIT_EXCEEDED:d.setStatus("Upload limit exceeded."),this.debug("Error Code: Upload Limit Exceeded, File name: "+a.name+", File size: "+a.size+", Message: "+c);break;case SWFUpload.UPLOAD_ERROR.FILE_VALIDATION_FAILED:d.setStatus("Failed Validation.  Upload skipped."),this.debug("Error Code: File Validation Failed, File name: "+a.name+", File size: "+a.size+", Message: "+c);break;case SWFUpload.UPLOAD_ERROR.FILE_CANCELLED:0===this.getStats().files_queued&&(document.getElementById(this.customSettings.cancelButtonId).disabled=!0),d.setStatus("Cancelled"),d.setCancelled();break;case SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED:d.setStatus("Stopped");break;default:d.setStatus("Unhandled Error: "+b),this.debug("Error Code: "+b+", File name: "+a.name+", File size: "+a.size+", Message: "+c)}}catch(e){this.debug(e)}}function uploadComplete(){0===this.getStats().files_queued}function queueComplete(){}var SWFUpload;void 0==SWFUpload&&(SWFUpload=function(a){this.initSWFUpload(a)}),SWFUpload.prototype.initSWFUpload=function(a){try{this.customSettings={},this.settings=a,this.eventQueue=[],this.movieName="CY_SWFUpload_"+SWFUpload.movieCount++,this.movieElement=null,SWFUpload.instances[this.movieName]=this,this.initSettings(),this.loadFlash(),this.displayDebugInfo()}catch(b){throw delete SWFUpload.instances[this.movieName],b}},SWFUpload.instances={},SWFUpload.movieCount=0,SWFUpload.version="2.2.0 2009-03-25",SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130},SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290},SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5},SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120},SWFUpload.CURSOR={ARROW:-1,HAND:-2},SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"},SWFUpload.completeURL=function(a){if("string"!=typeof a||a.match(/^https?:\/\//i)||a.match(/^\//))return a;var b=(window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),window.location.pathname.lastIndexOf("/"));return path=0>=b?"/":window.location.pathname.substr(0,b)+"/",path+a},SWFUpload.prototype.initSettings=function(){this.ensureDefault=function(a,b){this.settings[a]=void 0==this.settings[a]?b:this.settings[a]},this.ensureDefault("upload_url",""),this.ensureDefault("preserve_relative_urls",!1),this.ensureDefault("file_post_name","file"),this.ensureDefault("post_params",{}),this.ensureDefault("use_query_string",!1),this.ensureDefault("requeue_on_error",!1),this.ensureDefault("http_success",[]),this.ensureDefault("assume_success_timeout",0),this.ensureDefault("file_types","*.*"),this.ensureDefault("file_types_description","All Files"),this.ensureDefault("file_size_limit",0),this.ensureDefault("file_upload_limit",0),this.ensureDefault("file_queue_limit",0),this.ensureDefault("flash_url","swfupload.swf"),this.ensureDefault("prevent_swf_caching",!0),this.ensureDefault("button_image_url",""),this.ensureDefault("button_width",1),this.ensureDefault("button_height",1),this.ensureDefault("button_text",""),this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;"),this.ensureDefault("button_text_top_padding",0),this.ensureDefault("button_text_left_padding",0),this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES),this.ensureDefault("button_disabled",!1),this.ensureDefault("button_placeholder_id",""),this.ensureDefault("button_placeholder",null),this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW),this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW),this.ensureDefault("debug",!1),this.settings.debug_enabled=this.settings.debug,this.settings.return_upload_start_handler=this.returnUploadStart,this.ensureDefault("swfupload_loaded_handler",null),this.ensureDefault("file_dialog_start_handler",null),this.ensureDefault("file_queued_handler",null),this.ensureDefault("file_queue_error_handler",null),this.ensureDefault("file_dialog_complete_handler",null),this.ensureDefault("upload_start_handler",null),this.ensureDefault("upload_progress_handler",null),this.ensureDefault("upload_error_handler",null),this.ensureDefault("upload_success_handler",null),this.ensureDefault("upload_complete_handler",null),this.ensureDefault("debug_handler",this.debugMessage),this.ensureDefault("custom_settings",{}),this.customSettings=this.settings.custom_settings,this.settings.prevent_swf_caching&&(this.settings.flash_url=this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime()),this.settings.preserve_relative_urls||(this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url)),delete this.ensureDefault},SWFUpload.prototype.loadFlash=function(){var a,b;if(null!==document.getElementById(this.movieName))throw"ID "+this.movieName+" is already in use. The Flash Object could not be added";if(a=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder,void 0==a)throw"Could not find the placeholder element: "+this.settings.button_placeholder_id;b=document.createElement("div"),b.innerHTML=this.getFlashHTML(),a.parentNode.replaceChild(b.firstChild,a),void 0==window[this.movieName]&&(window[this.movieName]=this.getMovieElement())},SWFUpload.prototype.getFlashHTML=function(){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.settings.flash_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="cy_swfupload" style="width:40px;height:39px">','<param name="wmode" value="',this.settings.button_window_mode,'" />','<param name="movie" value="',this.settings.flash_url,'" />','<param name="quality" value="high" />','<param name="menu" value="false" />','<param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")},SWFUpload.prototype.getFlashVars=function(){var a=this.buildParamString(),b=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(b),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",encodeURIComponent(a),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")},SWFUpload.prototype.getMovieElement=function(){if(void 0==this.movieElement&&(this.movieElement=document.getElementById(this.movieName)),null===this.movieElement)throw"Could not find Flash element";return this.movieElement},SWFUpload.prototype.buildParamString=function(){var a=this.settings.post_params,b=[];if("object"==typeof a)for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c.toString())+"="+encodeURIComponent(a[c].toString()));return b.join("&amp;")},SWFUpload.prototype.destroy=function(){try{this.cancelUpload(null,!1);var a=null;if(a=this.getMovieElement(),a&&"unknown"==typeof a.CallFunction){for(var b in a)try{"function"==typeof a[b]&&(a[b]=null)}catch(c){}try{a.parentNode.removeChild(a)}catch(d){}}return window[this.movieName]=null,SWFUpload.instances[this.movieName]=null,delete SWFUpload.instances[this.movieName],this.movieElement=null,this.settings=null,this.customSettings=null,this.eventQueue=null,this.movieName=null,!0}catch(e){return!1}},SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\n","Version: ",SWFUpload.version,"\n","Movie Name: ",this.movieName,"\n","Settings:\n","	","upload_url:               ",this.settings.upload_url,"\n","	","flash_url:                ",this.settings.flash_url,"\n","	","use_query_string:         ",this.settings.use_query_string.toString(),"\n","	","requeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n","	","http_success:             ",this.settings.http_success.join(", "),"\n","	","assume_success_timeout:   ",this.settings.assume_success_timeout,"\n","	","file_post_name:           ",this.settings.file_post_name,"\n","	","post_params:              ",this.settings.post_params.toString(),"\n","	","file_types:               ",this.settings.file_types,"\n","	","file_types_description:   ",this.settings.file_types_description,"\n","	","file_size_limit:          ",this.settings.file_size_limit,"\n","	","file_upload_limit:        ",this.settings.file_upload_limit,"\n","	","file_queue_limit:         ",this.settings.file_queue_limit,"\n","	","debug:                    ",this.settings.debug.toString(),"\n","	","prevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n","	","button_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n","	","button_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n","	","button_image_url:         ",this.settings.button_image_url.toString(),"\n","	","button_width:             ",this.settings.button_width.toString(),"\n","	","button_height:            ",this.settings.button_height.toString(),"\n","	","button_text:              ",this.settings.button_text.toString(),"\n","	","button_text_style:        ",this.settings.button_text_style.toString(),"\n","	","button_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n","	","button_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n","	","button_action:            ",this.settings.button_action.toString(),"\n","	","button_disabled:          ",this.settings.button_disabled.toString(),"\n","	","custom_settings:          ",this.settings.custom_settings.toString(),"\n","Event Handlers:\n","	","swfupload_loaded_handler assigned:  ",("function"==typeof this.settings.swfupload_loaded_handler).toString(),"\n","	","file_dialog_start_handler assigned: ",("function"==typeof this.settings.file_dialog_start_handler).toString(),"\n","	","file_queued_handler assigned:       ",("function"==typeof this.settings.file_queued_handler).toString(),"\n","	","file_queue_error_handler assigned:  ",("function"==typeof this.settings.file_queue_error_handler).toString(),"\n","	","upload_start_handler assigned:      ",("function"==typeof this.settings.upload_start_handler).toString(),"\n","	","upload_progress_handler assigned:   ",("function"==typeof this.settings.upload_progress_handler).toString(),"\n","	","upload_error_handler assigned:      ",("function"==typeof this.settings.upload_error_handler).toString(),"\n","	","upload_success_handler assigned:    ",("function"==typeof this.settings.upload_success_handler).toString(),"\n","	","upload_complete_handler assigned:   ",("function"==typeof this.settings.upload_complete_handler).toString(),"\n","	","debug_handler assigned:             ",("function"==typeof this.settings.debug_handler).toString(),"\n"].join(""))
},SWFUpload.prototype.addSetting=function(a,b,c){return this.settings[a]=void 0==b?c:b},SWFUpload.prototype.getSetting=function(a){return void 0!=this.settings[a]?this.settings[a]:""},SWFUpload.prototype.callFlash=function(functionName,argumentArray){argumentArray=argumentArray||[];var movieElement=this.getMovieElement(),returnValue,returnString;try{returnString=movieElement.CallFunction('<invoke name="'+functionName+'" returntype="javascript">'+__flash__argumentsToXML(argumentArray,0)+"</invoke>"),returnValue=eval(returnString)}catch(ex){throw"Call to "+functionName+" failed"}return void 0!=returnValue&&"object"==typeof returnValue.post&&(returnValue=this.unescapeFilePostParams(returnValue)),returnValue},SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")},SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")},SWFUpload.prototype.startUpload=function(a){this.callFlash("StartUpload",[a])},SWFUpload.prototype.cancelUpload=function(a,b){b!==!1&&(b=!0),this.callFlash("CancelUpload",[a,b])},SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")},SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")},SWFUpload.prototype.setStats=function(a){this.callFlash("SetStats",[a])},SWFUpload.prototype.getFile=function(a){return"number"==typeof a?this.callFlash("GetFileByIndex",[a]):this.callFlash("GetFile",[a])},SWFUpload.prototype.addFileParam=function(a,b,c){return this.callFlash("AddFileParam",[a,b,c])},SWFUpload.prototype.removeFileParam=function(a,b){this.callFlash("RemoveFileParam",[a,b])},SWFUpload.prototype.setUploadURL=function(a){this.settings.upload_url=a.toString(),this.callFlash("SetUploadURL",[a])},SWFUpload.prototype.setPostParams=function(a){this.settings.post_params=a,this.callFlash("SetPostParams",[a])},SWFUpload.prototype.addPostParam=function(a,b){this.settings.post_params[a]=b,this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.removePostParam=function(a){delete this.settings.post_params[a],this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.setFileTypes=function(a,b){this.settings.file_types=a,this.settings.file_types_description=b,this.callFlash("SetFileTypes",[a,b])},SWFUpload.prototype.setFileSizeLimit=function(a){this.settings.file_size_limit=a,this.callFlash("SetFileSizeLimit",[a])},SWFUpload.prototype.setFileUploadLimit=function(a){this.settings.file_upload_limit=a,this.callFlash("SetFileUploadLimit",[a])},SWFUpload.prototype.setFileQueueLimit=function(a){this.settings.file_queue_limit=a,this.callFlash("SetFileQueueLimit",[a])},SWFUpload.prototype.setFilePostName=function(a){this.settings.file_post_name=a,this.callFlash("SetFilePostName",[a])},SWFUpload.prototype.setUseQueryString=function(a){this.settings.use_query_string=a,this.callFlash("SetUseQueryString",[a])},SWFUpload.prototype.setRequeueOnError=function(a){this.settings.requeue_on_error=a,this.callFlash("SetRequeueOnError",[a])},SWFUpload.prototype.setHTTPSuccess=function(a){"string"==typeof a&&(a=a.replace(" ","").split(",")),this.settings.http_success=a,this.callFlash("SetHTTPSuccess",[a])},SWFUpload.prototype.setAssumeSuccessTimeout=function(a){this.settings.assume_success_timeout=a,this.callFlash("SetAssumeSuccessTimeout",[a])},SWFUpload.prototype.setDebugEnabled=function(a){this.settings.debug_enabled=a,this.callFlash("SetDebugEnabled",[a])},SWFUpload.prototype.setButtonImageURL=function(a){void 0==a&&(a=""),this.settings.button_image_url=a,this.callFlash("SetButtonImageURL",[a])},SWFUpload.prototype.setButtonDimensions=function(a,b){this.settings.button_width=a,this.settings.button_height=b;var c=this.getMovieElement();void 0!=c&&(c.style.width=a+"px",c.style.height=b+"px"),this.callFlash("SetButtonDimensions",[a,b])},SWFUpload.prototype.setButtonText=function(a){this.settings.button_text=a,this.callFlash("SetButtonText",[a])},SWFUpload.prototype.setButtonTextPadding=function(a,b){this.settings.button_text_top_padding=b,this.settings.button_text_left_padding=a,this.callFlash("SetButtonTextPadding",[a,b])},SWFUpload.prototype.setButtonTextStyle=function(a){this.settings.button_text_style=a,this.callFlash("SetButtonTextStyle",[a])},SWFUpload.prototype.setButtonDisabled=function(a){this.settings.button_disabled=a,this.callFlash("SetButtonDisabled",[a])},SWFUpload.prototype.setButtonAction=function(a){this.settings.button_action=a,this.callFlash("SetButtonAction",[a])},SWFUpload.prototype.setButtonCursor=function(a){this.settings.button_cursor=a,this.callFlash("SetButtonCursor",[a])},SWFUpload.prototype.queueEvent=function(a,b){void 0==b?b=[]:b instanceof Array||(b=[b]);var c=this;if("function"==typeof this.settings[a])this.eventQueue.push(function(){this.settings[a].apply(this,b)}),setTimeout(function(){c.executeNextEvent()},0);else if(null!==this.settings[a])throw"Event handler "+a+" is unknown or is not a function"},SWFUpload.prototype.executeNextEvent=function(){var a=this.eventQueue?this.eventQueue.shift():null;"function"==typeof a&&a.apply(this)},SWFUpload.prototype.unescapeFilePostParams=function(a){var b,c=/[$]([0-9a-f]{4})/i,d={};if(void 0!=a){for(var e in a.post)if(a.post.hasOwnProperty(e)){b=e;for(var f;null!==(f=c.exec(b));)b=b.replace(f[0],String.fromCharCode(parseInt("0x"+f[1],16)));d[b]=a.post[e]}a.post=d}return a},SWFUpload.prototype.testExternalInterface=function(){try{return this.callFlash("TestExternalInterface")}catch(a){return!1}},SWFUpload.prototype.flashReady=function(){var a=this.getMovieElement();return a?(this.cleanUp(a),void this.queueEvent("swfupload_loaded_handler")):void this.debug("Flash called back ready but the flash movie can't be found.")},SWFUpload.prototype.cleanUp=function(a){try{if(this.movieElement&&"unknown"==typeof a.CallFunction){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(var b in a)try{"function"==typeof a[b]&&(a[b]=null)}catch(c){}}}catch(d){}window.__flash__removeCallback=function(a,b){try{a&&(a[b]=null)}catch(c){}}},SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")},SWFUpload.prototype.fileQueued=function(a){a=this.unescapeFilePostParams(a),this.queueEvent("file_queued_handler",a)},SWFUpload.prototype.fileQueueError=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("file_queue_error_handler",[a,b,c])},SWFUpload.prototype.fileDialogComplete=function(a,b,c){this.queueEvent("file_dialog_complete_handler",[a,b,c])},SWFUpload.prototype.uploadStart=function(a){a=this.unescapeFilePostParams(a),this.queueEvent("return_upload_start_handler",a)},SWFUpload.prototype.returnUploadStart=function(a){var b;if("function"==typeof this.settings.upload_start_handler)a=this.unescapeFilePostParams(a),b=this.settings.upload_start_handler.call(this,a);else if(void 0!=this.settings.upload_start_handler)throw"upload_start_handler must be a function";void 0===b&&(b=!0),b=!!b,this.callFlash("ReturnUploadStart",[b])},SWFUpload.prototype.uploadProgress=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("upload_progress_handler",[a,b,c])},SWFUpload.prototype.uploadError=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("upload_error_handler",[a,b,c])},SWFUpload.prototype.uploadSuccess=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("upload_success_handler",[a,b,c])},SWFUpload.prototype.uploadComplete=function(a){a=this.unescapeFilePostParams(a),this.queueEvent("upload_complete_handler",a)},SWFUpload.prototype.debug=function(a){this.queueEvent("debug_handler",a)},SWFUpload.prototype.debugMessage=function(a){if(this.settings.debug){var b,c=[];if("object"==typeof a&&"string"==typeof a.name&&"string"==typeof a.message){for(var d in a)a.hasOwnProperty(d)&&c.push(d+": "+a[d]);b=c.join("\n")||"",c=b.split("\n"),b="EXCEPTION: "+c.join("\nEXCEPTION: "),SWFUpload.Console.writeLine(b)}else SWFUpload.Console.writeLine(a)}},SWFUpload.Console={},SWFUpload.Console.writeLine=function(a){var b,c;try{b=document.getElementById("SWFUpload_Console"),b||(c=document.createElement("form"),document.getElementsByTagName("body")[0].appendChild(c),b=document.createElement("textarea"),b.id="SWFUpload_Console",b.style.fontFamily="monospace",b.setAttribute("wrap","off"),b.wrap="off",b.style.overflow="auto",b.style.width="700px",b.style.height="350px",b.style.margin="5px",c.appendChild(b)),b.value+=a+"\n",b.scrollTop=b.scrollHeight-b.clientHeight}catch(d){alert("Exception: "+d.name+" Message: "+d.message)}};var swfobject=function(){function a(){if(!R){try{var a=K.getElementsByTagName("body")[0].appendChild(q("span"));a.parentNode.removeChild(a)}catch(b){return}R=!0;for(var c=N.length,d=0;c>d;d++)N[d]()}}function b(a){R?a():N[N.length]=a}function c(a){if(typeof J.addEventListener!=C)J.addEventListener("load",a,!1);else if(typeof K.addEventListener!=C)K.addEventListener("load",a,!1);else if(typeof J.attachEvent!=C)r(J,"onload",a);else if("function"==typeof J.onload){var b=J.onload;J.onload=function(){b(),a()}}else J.onload=a}function d(){M?e():f()}function e(){var a=K.getElementsByTagName("body")[0],b=q(D);b.setAttribute("type",G);var c=a.appendChild(b);if(c){var d=0;!function(){if(typeof c.GetVariable!=C){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),U.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>d)return d++,void setTimeout(arguments.callee,10);a.removeChild(b),c=null,f()}()}else f()}function f(){var a=O.length;if(a>0)for(var b=0;a>b;b++){var c=O[b].id,d=O[b].callbackFn,e={success:!1,id:c};if(U.pv[0]>0){var f=p(c);if(f)if(!s(O[b].swfVersion)||U.wk&&U.wk<312)if(O[b].expressInstall&&h()){var k={};k.data=O[b].expressInstall,k.width=f.getAttribute("width")||"0",k.height=f.getAttribute("height")||"0",f.getAttribute("class")&&(k.styleclass=f.getAttribute("class")),f.getAttribute("align")&&(k.align=f.getAttribute("align"));for(var l={},m=f.getElementsByTagName("param"),n=m.length,o=0;n>o;o++)"movie"!=m[o].getAttribute("name").toLowerCase()&&(l[m[o].getAttribute("name")]=m[o].getAttribute("value"));i(k,l,c,d)}else j(f),d&&d(e);else u(c,!0),d&&(e.success=!0,e.ref=g(c),d(e))}else if(u(c,!0),d){var q=g(c);q&&typeof q.SetVariable!=C&&(e.success=!0,e.ref=q),d(e)}}}function g(a){var b=null,c=p(a);if(c&&"OBJECT"==c.nodeName)if(typeof c.SetVariable!=C)b=c;else{var d=c.getElementsByTagName(D)[0];d&&(b=d)}return b}function h(){return!S&&s("6.0.65")&&(U.win||U.mac)&&!(U.wk&&U.wk<312)}function i(a,b,c,d){S=!0,y=d||null,z={success:!1,id:c};var e=p(c);if(e){"OBJECT"==e.nodeName?(w=k(e),x=null):(w=e,x=c),a.id=H,(typeof a.width==C||!/%$/.test(a.width)&&parseInt(a.width,10)<310)&&(a.width="310"),(typeof a.height==C||!/%$/.test(a.height)&&parseInt(a.height,10)<137)&&(a.height="137"),K.title=K.title.slice(0,47)+" - Flash Player Installation";var f=U.ie&&U.win?"ActiveX":"PlugIn",g="MMredirectURL="+J.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+K.title;if(typeof b.flashvars!=C?b.flashvars+="&"+g:b.flashvars=g,U.ie&&U.win&&4!=e.readyState){var h=q("div");c+="SWFObjectNew",h.setAttribute("id",c),e.parentNode.insertBefore(h,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}l(a,b,c)}}function j(a){if(U.ie&&U.win&&4!=a.readyState){var b=q("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(k(a),b),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(k(a),a)}function k(a){var b=q("div");if(U.win&&U.ie)b.innerHTML=a.innerHTML;else{var c=a.getElementsByTagName(D)[0];if(c){var d=c.childNodes;if(d)for(var e=d.length,f=0;e>f;f++)1==d[f].nodeType&&"PARAM"==d[f].nodeName||8==d[f].nodeType||b.appendChild(d[f].cloneNode(!0))}}return b}function l(a,b,c){var d,e=p(c);if(U.wk&&U.wk<312)return d;if(e)if(typeof a.id==C&&(a.id=c),U.ie&&U.win){var f="";for(var g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+g+'="'+a[g]+'"'));var h="";for(var i in b)b[i]!=Object.prototype[i]&&(h+='<param name="'+i+'" value="'+b[i]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>",P[P.length]=a.id,d=p(a.id)}else{var j=q(D);j.setAttribute("type",G);for(var k in a)a[k]!=Object.prototype[k]&&("styleclass"==k.toLowerCase()?j.setAttribute("class",a[k]):"classid"!=k.toLowerCase()&&j.setAttribute(k,a[k]));for(var l in b)b[l]!=Object.prototype[l]&&"movie"!=l.toLowerCase()&&m(j,l,b[l]);e.parentNode.replaceChild(j,e),d=j}return d}function m(a,b,c){var d=q("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function n(a){var b=p(a);b&&"OBJECT"==b.nodeName&&(U.ie&&U.win?(b.style.display="none",function(){4==b.readyState?o(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function o(a){var b=p(a);if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}function p(a){var b=null;try{b=K.getElementById(a)}catch(c){}return b}function q(a){return K.createElement(a)}function r(a,b,c){a.attachEvent(b,c),Q[Q.length]=[a,b,c]}function s(a){var b=U.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function t(a,b,c,d){if(!U.ie||!U.mac){var e=K.getElementsByTagName("head")[0];if(e){var f=c&&"string"==typeof c?c:"screen";if(d&&(A=null,B=null),!A||B!=f){var g=q("style");g.setAttribute("type","text/css"),g.setAttribute("media",f),A=e.appendChild(g),U.ie&&U.win&&typeof K.styleSheets!=C&&K.styleSheets.length>0&&(A=K.styleSheets[K.styleSheets.length-1]),B=f}U.ie&&U.win?A&&typeof A.addRule==D&&A.addRule(a,b):A&&typeof K.createTextNode!=C&&A.appendChild(K.createTextNode(a+" {"+b+"}"))}}}function u(a,b){if(T){var c=b?"visible":"hidden";R&&p(a)?p(a).style.visibility=c:t("#"+a,"visibility:"+c)}}function v(a){var b=/[\\\"<>\.;]/,c=null!=b.exec(a);return c&&typeof encodeURIComponent!=C?encodeURIComponent(a):a}{var w,x,y,z,A,B,C="undefined",D="object",E="Shockwave Flash",F="ShockwaveFlash.ShockwaveFlash",G="application/x-shockwave-flash",H="SWFObjectExprInst",I="onreadystatechange",J=window,K=document,L=navigator,M=!1,N=[d],O=[],P=[],Q=[],R=!1,S=!1,T=!0,U=function(){var a=typeof K.getElementById!=C&&typeof K.getElementsByTagName!=C&&typeof K.createElement!=C,b=L.userAgent.toLowerCase(),c=L.platform.toLowerCase(),d=/win/.test(c?c:b),e=/mac/.test(c?c:b),f=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!1,h=[0,0,0],i=null;if(typeof L.plugins!=C&&typeof L.plugins[E]==D)i=L.plugins[E].description,!i||typeof L.mimeTypes!=C&&L.mimeTypes[G]&&!L.mimeTypes[G].enabledPlugin||(M=!0,g=!1,i=i.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),h[0]=parseInt(i.replace(/^(.*)\..*$/,"$1"),10),h[1]=parseInt(i.replace(/^.*\.(.*)\s.*$/,"$1"),10),h[2]=/[a-zA-Z]/.test(i)?parseInt(i.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof J.ActiveXObject!=C)try{var j=new ActiveXObject(F);j&&(i=j.GetVariable("$version"),i&&(g=!0,i=i.split(" ")[1].split(","),h=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]))}catch(k){}return{w3:a,pv:h,wk:f,ie:g,win:d,mac:e}}();!function(){U.w3&&((typeof K.readyState!=C&&"complete"==K.readyState||typeof K.readyState==C&&(K.getElementsByTagName("body")[0]||K.body))&&a(),R||(typeof K.addEventListener!=C&&K.addEventListener("DOMContentLoaded",a,!1),U.ie&&U.win&&(K.attachEvent(I,function(){"complete"==K.readyState&&(K.detachEvent(I,arguments.callee),a())}),J==top&&!function(){if(!R){try{K.documentElement.doScroll("left")}catch(b){return void setTimeout(arguments.callee,0)}a()}}()),U.wk&&!function(){return R?void 0:/loaded|complete/.test(K.readyState)?void a():void setTimeout(arguments.callee,0)}(),c(a)))}(),function(){U.ie&&U.win&&window.attachEvent("onunload",function(){for(var a=Q.length,b=0;a>b;b++)Q[b][0].detachEvent(Q[b][1],Q[b][2]);for(var c=P.length,d=0;c>d;d++)n(P[d]);for(var e in U)U[e]=null;U=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})}()}return{registerObject:function(a,b,c,d){if(U.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,O[O.length]=e,u(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){return U.w3?g(a):void 0},embedSWF:function(a,c,d,e,f,g,j,k,m,n){var o={success:!1,id:c};U.w3&&!(U.wk&&U.wk<312)&&a&&c&&d&&e&&f?(u(c,!1),b(function(){d+="",e+="";var b={};if(m&&typeof m===D)for(var p in m)b[p]=m[p];b.data=a,b.width=d,b.height=e;var q={};if(k&&typeof k===D)for(var r in k)q[r]=k[r];if(j&&typeof j===D)for(var t in j)typeof q.flashvars!=C?q.flashvars+="&"+t+"="+j[t]:q.flashvars=t+"="+j[t];if(s(f)){var v=l(b,q,c);b.id==c&&u(c,!0),o.success=!0,o.ref=v}else{if(g&&h())return b.data=g,void i(b,q,c,n);u(c,!0)}n&&n(o)})):n&&n(o)},switchOffAutoHideShow:function(){T=!1},ua:U,getFlashPlayerVersion:function(){return{major:U.pv[0],minor:U.pv[1],release:U.pv[2]}},hasFlashPlayerVersion:s,createSWF:function(a,b,c){return U.w3?l(a,b,c):void 0},showExpressInstall:function(a,b,c,d){U.w3&&h()&&i(a,b,c,d)},removeSWF:function(a){U.w3&&n(a)},createCSS:function(a,b,c,d){U.w3&&t(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:c,getQueryParamValue:function(a){var b=K.location.search||K.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return v(b);for(var c=b.split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return v(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(S){var a=p(H);a&&w&&(a.parentNode.replaceChild(w,a),x&&(u(x,!0),U.ie&&U.win&&(w.style.display="block")),y&&y(z)),S=!1}}}}(),SWFUpload;"function"==typeof SWFUpload&&(SWFUpload.onload=function(){},swfobject.addDomLoadEvent(function(){"function"==typeof SWFUpload.onload&&SWFUpload.onload.call(window)}),SWFUpload.prototype.initSettings=function(a){return function(){"function"==typeof a&&a.call(this),this.ensureDefault=function(a,b){this.settings[a]=void 0==this.settings[a]?b:this.settings[a]},this.ensureDefault("minimum_flash_version","9.0.28"),this.ensureDefault("swfupload_pre_load_handler",null),this.ensureDefault("swfupload_load_failed_handler",null),delete this.ensureDefault}}(SWFUpload.prototype.initSettings),SWFUpload.prototype.loadFlash=function(a){return function(){var b=swfobject.hasFlashPlayerVersion(this.settings.minimum_flash_version);b?(this.queueEvent("swfupload_pre_load_handler"),"function"==typeof a&&a.call(this)):this.queueEvent("swfupload_load_failed_handler")}}(SWFUpload.prototype.loadFlash),SWFUpload.prototype.displayDebugInfo=function(a){return function(){"function"==typeof a&&a.call(this),this.debug(["SWFUpload.SWFObject Plugin settings:","\n","	","minimum_flash_version:                      ",this.settings.minimum_flash_version,"\n","	","swfupload_pre_load_handler assigned:     ",("function"==typeof this.settings.swfupload_pre_load_handler).toString(),"\n","	","swfupload_load_failed_handler assigned:     ",("function"==typeof this.settings.swfupload_load_failed_handler).toString(),"\n"].join(""))}}(SWFUpload.prototype.displayDebugInfo));var SWFUpload;"function"==typeof SWFUpload&&(SWFUpload.queue={},SWFUpload.prototype.initSettings=function(a){return function(){"function"==typeof a&&a.call(this),this.queueSettings={},this.queueSettings.queue_cancelled_flag=!1,this.queueSettings.queue_upload_count=0,this.queueSettings.user_upload_complete_handler=this.settings.upload_complete_handler,this.queueSettings.user_upload_start_handler=this.settings.upload_start_handler,this.settings.upload_complete_handler=SWFUpload.queue.uploadCompleteHandler,this.settings.upload_start_handler=SWFUpload.queue.uploadStartHandler,this.settings.queue_complete_handler=this.settings.queue_complete_handler||null}}(SWFUpload.prototype.initSettings),SWFUpload.prototype.startUpload=function(a){this.queueSettings.queue_cancelled_flag=!1,this.callFlash("StartUpload",[a])},SWFUpload.prototype.cancelQueue=function(){this.queueSettings.queue_cancelled_flag=!0,this.stopUpload();for(var a=this.getStats();a.files_queued>0;)this.cancelUpload(),a=this.getStats()},SWFUpload.queue.uploadStartHandler=function(a){var b;return"function"==typeof this.queueSettings.user_upload_start_handler&&(b=this.queueSettings.user_upload_start_handler.call(this,a)),b=b===!1?!1:!0,this.queueSettings.queue_cancelled_flag=!b,b},SWFUpload.queue.uploadCompleteHandler=function(a){var b,c=this.queueSettings.user_upload_complete_handler;if(a.filestatus===SWFUpload.FILE_STATUS.COMPLETE&&this.queueSettings.queue_upload_count++,b="function"==typeof c?c.call(this,a)===!1?!1:!0:a.filestatus===SWFUpload.FILE_STATUS.QUEUED?!1:!0){var d=this.getStats();d.files_queued>0&&this.queueSettings.queue_cancelled_flag===!1?this.startUpload():this.queueSettings.queue_cancelled_flag===!1?(this.queueEvent("queue_complete_handler",[this.queueSettings.queue_upload_count]),this.queueSettings.queue_upload_count=0):(this.queueSettings.queue_cancelled_flag=!1,this.queueSettings.queue_upload_count=0)}}),FileProgress.prototype.setTimer=function(a){this.fileProgressElement.FP_TIMER=a},FileProgress.prototype.getTimer=function(){return this.fileProgressElement.FP_TIMER||null},FileProgress.prototype.reset=function(){this.fileProgressElement.className="progressContainer",this.fileProgressElement.childNodes[2].innerHTML="&nbsp;",this.fileProgressElement.childNodes[2].className="progressBarStatus",this.fileProgressElement.childNodes[3].className="progressBarInProgress",this.fileProgressElement.childNodes[3].style.width="0%",this.appear()},FileProgress.prototype.setProgress=function(a){this.fileProgressElement.className="progressContainer green",this.fileProgressElement.childNodes[3].className="progressBarInProgress",this.fileProgressElement.childNodes[3].style.width=a+"%",this.appear()},FileProgress.prototype.setComplete=function(){this.fileProgressElement.className="progressContainer blue",this.fileProgressElement.childNodes[3].className="progressBarComplete",this.fileProgressElement.childNodes[3].style.width="";var a=this;this.setTimer(setTimeout(function(){a.disappear()},1e4))},FileProgress.prototype.setError=function(){this.fileProgressElement.className="progressContainer red",this.fileProgressElement.childNodes[3].className="progressBarError",this.fileProgressElement.childNodes[3].style.width="";var a=this;this.setTimer(setTimeout(function(){a.disappear()},5e3))},FileProgress.prototype.setCancelled=function(){this.fileProgressElement.className="progressContainer",this.fileProgressElement.childNodes[3].className="progressBarError",this.fileProgressElement.childNodes[3].style.width="";var a=this;this.setTimer(setTimeout(function(){a.disappear()},2e3))},FileProgress.prototype.setStatus=function(a){this.fileProgressElement.childNodes[2].innerHTML=a},FileProgress.prototype.toggleCancel=function(a,b){if(this.fileProgressElement.childNodes[0].style.visibility=a?"visible":"hidden",b){var c=this.fileProgressID;this.fileProgressElement.childNodes[0].onclick=function(){return b.cancelUpload(c),!1}}},FileProgress.prototype.appear=function(){if(null!==this.getTimer()&&(clearTimeout(this.getTimer()),this.setTimer(null)),this.fileProgressWrapper.filters)try{this.fileProgressWrapper.filters.item("DXImageTransform.Microsoft.Alpha").opacity=100}catch(a){this.fileProgressWrapper.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"}else this.fileProgressWrapper.style.opacity=1;this.fileProgressWrapper.style.height="",this.height=this.fileProgressWrapper.offsetHeight,this.opacity=100,this.fileProgressWrapper.style.display=""},FileProgress.prototype.disappear=function(){var a=15,b=4,c=30;if(this.opacity>0)if(this.opacity-=a,this.opacity<0&&(this.opacity=0),this.fileProgressWrapper.filters)try{this.fileProgressWrapper.filters.item("DXImageTransform.Microsoft.Alpha").opacity=this.opacity}catch(d){this.fileProgressWrapper.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+this.opacity+")"}else this.fileProgressWrapper.style.opacity=this.opacity/100;if(this.height>0&&(this.height-=b,this.height<0&&(this.height=0),this.fileProgressWrapper.style.height=this.height+"px"),this.height>0||this.opacity>0){var e=this;this.setTimer(setTimeout(function(){e.disappear()},c))}else this.fileProgressWrapper.style.display="none",this.setTimer(null)},SWFUpload.SWF_fn={fileQueueError:fileQueueError,fileDialogComplete:fileDialogComplete,uploadStart:uploadStart,uploadProgress:uploadProgress,uploadError:uploadError,uploadComplete:uploadComplete,queueComplete:queueComplete},module.exports=SWFUpload}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/imageUpload.js",function(require,exports,module){var $$global=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),scsUtil=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js");window.SWFUpload=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/util/swf.upload.js");var imageUpload={cbox_id:[],open_large:!1,firstLoad:!0,xhr:{},fileupObject:[],fileTypeArr:"image/jpeg|image/jpg|image/png|image/gif",attachment_url:"",transform:[[1,0,0,1,0,0],[0,1,-1,0,0,0],[-1,0,0,-1,0,0],[0,-1,1,0,0,0]],position:0,cbox:{},imgShow:!1,init:function(a){var b=imageUpload,c=parseInt(SOHUCS.config.sys.globalSite.allowUploadImg);b.cbox=a,c&&a.find(".wrap-action-w").length&&(window.FormData?b.initInput(a):b.initEach(a))},initInput:function(a){a.find(".uploadimg-file-w").append('<input class="file-fw" id="img_upload" name="file" type="file" accept="image/*"/>');var b=a.find(".uploadimg-file-w input");b.click(function(b){var c=$(b.target),d=c.closest("li");imageUpload.appendImgHtml(a,d)}),b.change(function(c){imageUpload.onSelect(a,b),imageUpload.upEvent(c,a,b)})},appendImgHtml:function(a,b){var c=this,d=b.position(),e=b.height()+1,f={},g=b.closest(".action-function-w");f.top=a.hasClass("wrap-reply-gw")?d.top+31:d.top+e,f.left=d.left-2,g.find(".uploadimg-wrapper-dw").length||(g.append('<div class="reset-g windows-define-dg uploadimg-wrapper-dw uploading-efw uploadimg-efw"  style="top:'+f.top+"px;left:"+f.left+'px;"><div class="wrapper-loading-dw wrapper-loading-bd"><div class="loading-word-dw loading-word-bd"><span class="word-icon-dw word-icon-bd"></span>图片正在上传，请稍后...</div><div class="loading-btn-dw loading-btn-bd"><a href="javascript:void(0);">取消上传</a></div></div><div style="display: none;" class="wrapper-image-dw wrapper-image-bd"><div class="image-close-dw image-close-bd"><a href="javascript:void(0);"></a></div><div class="image-pic-dw image-pic-bd"><img width="" height="" alt="" src=""></div></div></div>'),g.find(".uploadimg-wrapper-dw .loading-btn-bd a").click(function(){if(imageUpload.xhr.readyState&&4!=imageUpload.xhr.readyState)imageUpload.xhr.abort(),g.find(".wrapper-loading-dw").hide(),c._changeTab(a,!1);else{g.find(".wrapper-loading-dw").hide(),c._changeTab(a,!1);var b=g.find(".image-close-dw a");b.trigger("click")}}))},upEvent:function(a,b,c){function d(a){e.imgObjPreview(a,g,b),e.disabledUpload(!0)}var e=imageUpload,f=new FormData,g=b.find(".uploadimg-wrapper-dw"),h=c.get(0).files[0];if(h){if(h.size/1048576>5)return void e.showError("图片应小于5M",b);var i=h.type,j=new RegExp(i,"g");if(!j.test(e.fileTypeArr))return void e.showError("图片应为jpg、png、gif格式",b);f.append("file",c.get(0).files[0]),f.append("client_id",SOHUCS.clientid),$.support&&($.support.cors=!0),imageUpload.xhr=$.ajax({url:$$global.dev.get("isv:uri:api")+"api/2/comment/attachment",type:"POST",crossDomain:!0,data:f,contentType:!1,processData:!1,success:function(a){d(a),e.imgShow=!0}})}},initEach:function(a){function b(){if(!a.find(".uploadimg-wrapper-dw").length){var b=a.find(".function-uploadimg-w");imageUpload.appendImgHtml(a,b)}j=a.find(".uploadimg-wrapper-dw"),g.onSelect(a),g.uploadEvt(a,j,h)}function c(b,c){g.disabledUpload(!0),imageUpload.imgObjPreview(c,j,a),g.imgShow=!0}function d(b,c){-110==c&&g.showError("图片应小于5M",a)}var e=a.hasClass("wrap-reply-gw"),f=0;f=e?a.closest(".block-cont-gw").attr("cmtid"):a.attr("id");var g=imageUpload,h=f+"_upload",i=a.find(".function-uploadimg-w"),j={};0!=i.length&&(i.append('<div class="uploadimg-file-w"><em id="'+h+'"></em></div>'),function(a){var e={flash_url:"http://changyan.itc.cn/v2/lib/js/util/swfupload.swf",upload_url:"$$global.dev.get('isv:uri:api') + 'api/2/comment/attachment",post_params:{description:"",client_id:SOHUCS.clientid},file_size_limit:"5 MB",file_types:"*.gif; *.jpg; *.png; *.jpeg",file_types_description:"All Files",file_upload_limit:0,file_queue_limit:0,custom_settings:{},debug:!1,button_width:"40",button_height:"39",button_placeholder_id:a,button_text:"",button_text_style:".theFont { font-size: 16; }",button_text_left_padding:12,button_text_top_padding:3,file_queued_handler:b,file_queue_error_handler:d,file_dialog_complete_handler:SWFUpload.SWF_fn.fileDialogComplete,upload_start_handler:SWFUpload.SWF_fn.uploadStart,upload_progress_handler:SWFUpload.SWF_fn.uploadProgress,upload_error_handler:SWFUpload.SWF_fn.uploadError,upload_success_handler:c,upload_complete_handler:SWFUpload.SWF_fn.uploadComplete,queue_complete_handler:SWFUpload.SWF_fn.queueComplete,button_window_mode:SWFUpload.WINDOW_MODE.TRANSPARENT,button_cursor:SWFUpload.CURSOR.HAND};imageUpload.fileupObject[a]=new SWFUpload(e)}(h))},onSelect:function(a,b){var c=a.find(".wrapper-loading-dw");if(b){var d=b.get(0).files[0];if(!d)return}c.show(),this._changeTab(a,!0)},uploadEvt:function(a,b,c){var d=b.find(".wrapper-loading-dw"),e=imageUpload;d.find(".loading-btn-bd a").click(function(){imageUpload.fileupObject[c].cancelUpload(),d.hide(),e._changeTab(a,!1),e.disabledUpload(!1)})},imgObjPreview:function(data,li_upload,$cbox){var imgPreview=li_upload.find(".wrapper-image-dw"),data=eval("("+data+")"),that=this,textArea=$cbox.find(".textarea-fw"),$areaDiv=textArea.closest("div"),defaultTxt=SOHUCS.model.cboxModel.get("activity_info")?"":decodeURIComponent(SOHUCS.config.sys.module.cbox.defaultTxt);if(data.error_code){if(li_upload.find(".wrapper-loading-dw").hide(),data.error_msg){if("user doesn't login"==data.error_msg)return;"attachment type not supported"==data.error_msg}return void that.disabledUpload(!1)}var img=new Image,$upload_img=li_upload.find(".wrapper-image-dw .image-pic-dw img"),$imgWrapper=li_upload.find(".wrapper-image-dw"),$imgUploading=li_upload.find(".wrapper-loading-dw"),offsetWidth=0,offsetHeight=0,preWidth=0,preHeight=0;img.src=data.url,img.onload=function(){return offsetWidth=img.naturalWidth||img.width,offsetHeight=img.naturalHeight||img.height,imgTitle=img.title,offsetWidth&&offsetHeight?(150>offsetHeight&&150>offsetWidth?(preHeight=offsetHeight,preWidth=offsetWidth):offsetHeight>offsetWidth?(preHeight="150px",preWidth=parseInt(150*offsetWidth/offsetHeight)+"px"):(preWidth="150px",preHeight=parseInt(150*offsetHeight/offsetWidth)+"px"),$upload_img.attr("src",data.url),$upload_img.css({width:preWidth,height:preHeight}),imgPreview.show(),$imgWrapper.show(),$imgUploading.hide(),img=null,li_upload.attr("att_url",data.url),void(textArea.val()==defaultTxt&&($areaDiv.find(".activity-entry-w").size()>0&&$areaDiv.find(".activity-entry-w").hide(),textArea.val("分享图片")))):void $imgUploading.hide()};var delBtn=imgPreview.find(".image-close-dw a");delBtn.click(function(){$imgWrapper.hide(),img=null,"分享图片"==textArea.val()&&(textArea.val(defaultTxt),$areaDiv.find(".activity-entry-w").size()>0&&$areaDiv.find(".activity-entry-w").show()),imageUpload.attachment_url="",that.disabledUpload(!1),li_upload.attr("att_url",""),that._changeTab($cbox,!1),scsUtil.resetIframeHeight(!0)});var actionWrap=li_upload.closest(".action-function-w"),imgWrapper=actionWrap.find(".uploadimg-wrapper-dw"),actionWrapPos=actionWrap.position(),diff;diff=parseInt(actionWrapPos.top)+parseInt(imgWrapper.height())+65,scsUtil.resetIframeHeight(!0,diff)},preImg:function(a){var b=new Image,c="img"+a.id;b.onload=function(){var d=b.width,e=b.height,f=0,g=0;d>150||e>150?d>e?(f=150,g=parseInt(150*e/d)):(g=150,f=parseInt(150*d/e)):(f=d,g=e);
var h='<img src="'+a.url+'" width='+f+" height="+g+" max_w="+d+" max_h="+e+' style="width:'+f+"px;height:"+g+'px" class="evt-open-largeimg">',i=$("#list_sohu #"+c);i.length>0&&i.html(h),scsUtil.resetIframeHeight(!0)},b.src=a.url},toggleLargeImg:function(a){var b=imageUpload,c=$(a.target),d=c.attr("large-open");if("true"==d){var e=c.closest(".wrap-picture-show-gw"),f=parseInt(c.attr("min_w")),g=parseInt(c.attr("min_h"));b.closeLargeImg(a),c.css({width:f,height:g,position:""}),e.find(".area-image-gw").css({width:f,height:g,position:""}),e.addClass("wrap-picture-hide-e"),c.attr("large-open","false"),scsUtil.resetIframeHeight(!0)}else{var e=c.closest(".wrap-picture-show-gw"),h=e.find(".area-image-gw"),i=parseInt(c.attr("max_w")),j=parseInt(c.attr("max_h")),f=parseInt(c.attr("width")),g=parseInt(c.attr("height")),k=e.width()-140,l=k>i?i:k,m=parseInt(l*j/i),n=l>j?j:l,o=parseInt(n*l/m);c.attr({max_t_w:o,max_t_h:n,large_w:l,large_h:m,min_w:f,min_h:g}),c.css({width:l,height:m,position:"absolute",top:0,left:0}),h.css({width:l,height:m,position:"relative"}),e.removeClass("wrap-picture-hide-e"),e.find(".clear-g .action-look-gw a").attr("href",c.attr("src")),c.attr("large-open","true"),scsUtil.resetIframeHeight()}b.addMethod(e,c)},addMethod:function(a,b){var c=imageUpload,d=a.find(".clear-g .action-hide-gw"),e=a.find(".clear-g .action-left-gw"),f=a.find(".clear-g .action-right-gw");d.click(function(){b.trigger("click")}),e.click(function(a){c.turnLeft(a)}),f.click(function(a){c.turnRight(a)})},closeLargeImg:function(a){var b=$(a.target),c=b.closest(".wrap-picture-show-gw"),d=c.find(".area-image-gw"),e=c.find(".area-image-gw img");this.turn(0,e,d),imageUpload.position=0},turnLeft:function(a){var b=imageUpload,c=$(a.target),d=c.closest(".wrap-picture-show-gw"),e=d.find(".area-image-gw"),f=d.find(".area-image-gw img"),g=b._changePos("left");this.turn(g,f,e)},turnRight:function(a){var b=imageUpload,c=$(a.target),d=c.closest(".wrap-picture-show-gw"),e=d.find(".area-image-gw"),f=d.find(".area-image-gw img"),g=b._changePos("right");this.turn(g,f,e)},_changePos:function(a){var b=imageUpload;return"right"==a?b.position<3?b.position++:b.position=0:0==b.position?b.position=3:b.position--,b.position},turn:function(a,b,c){var d=imageUpload,e=parseInt(b.attr("max_t_w")),f=parseInt(b.attr("max_t_h")),g=parseInt(b.attr("large_w")),h=parseInt(b.attr("large_h")),i=d.transform[a];if(g>h)if(1==a||3==a){if($.browser.msie)var j=0,k=0;else{var j=(g-h)/2;j=parseInt(j*(f/h));var k=(h-g)/2;k=parseInt(k*(f/h))}b.css({width:e,height:f,top:j,left:k}),c.css({height:e,width:f})}else b.css({width:g,height:h,top:0,left:0}),c.css({height:h,width:g});else if(1==a||3==a){if($.browser.msie)var k=0;else var k=parseInt((h-g)/2*(e/g));b.css({width:e,height:f,top:-k,left:k}),c.css({height:e,width:f})}else b.css({width:g,height:h,top:0,left:0}),c.css({height:h,width:g});b.css("-moz-transform","matrix("+i+")"),b.css("-webkit-transform","matrix("+i+")"),b.css("-o-transform","matrix("+i+")"),b.css("filter","progid:DXImageTransform.Microsoft.BasicImage(rotation="+a+")")},disabledUpload:function(a){if(window.FormData){var b=$("#comment_sohu .img-btn-cover");a?b.css("z-index","20"):b.css("z-index","-1")}else{var c=$("#comment_sohu .uploadimg-file-w");try{c.css(a?{width:"1px",height:"1px",overflow:"hidden"}:{width:"40px",height:"39px",overflow:""})}catch(d){}}},showError:function(a,b){var c=b.find(".cbox-prompt-w-alert"),d=b.find(".wrapper-loading-dw");d.hide(),this._changeTab(b,!1),c.length?(c.find("span").html(a),c.show(),setTimeout(function(){c.hide()},3e3)):(b.find(" > div").append('<div class="cbox-prompt-w-alert cbox-prompt-w"><span class="prompt-empty-w prompt-empty-b">'+a+"</span></div>"),setTimeout(function(){b.find(".cbox-prompt-w-alert").hide()},3e3))},getAttachmentUrl:function(a){var b="";if(a.length){var c=a.find(".uploadimg-wrapper-dw");c.length&&(b=c.attr("att_url"))}return b},postSuccessHandle:function(a){var b=a.closest(".post-wrap-w"),c=b.find(".uploadimg-wrapper-dw");this.disabledUpload(!1),c.length&&(c.attr("att_url",""),c.find(".wrapper-image-dw").hide(),imageUpload._changeTab(b,!1))},_changeTab:function(a,b){b?a.find(".function-uploadimg-w").addClass("function-e"):a.find(".function-uploadimg-w").removeClass("function-e")},appendImg:function(a){function b(a){if(a.attachments&&a.attachments[0]&&a.attachments[0].url){var b=0,e=a.cmt_id||a.comment_id,f=a.floorsNum?String(a.floorsNum):"";b=a.top||a.elite?e+"t"+f:a.hot?e+"h"+f:c.upage?e+"u"+f:e+f,d.push({url:a.attachments[0].url,id:b})}}for(var c=a,d=[],e=0;e<c.length;e++){var f=c[e];if(f&&(b(f),f.comments&&f.comments.length))for(var g=f.comments,h=0;h<g.length;h++){var i=g[h];b(i)}}for(var j=0;j<d.length;j++)imageUpload.preImg(d[j])}};module.exports=imageUpload}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/face.js",function(require,exports,module){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),b=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js"),c={wrapper:"",name:"sc",faceShow:!1,$textInput:{},$face:{},faceUrl:a.dev.get("isv:uri:res2")+"asset/scs/imgs/new_face/",sohuFaceUrl:"http://comment.news.sohu.com/upload/comment4_1/images/face2013/",faceFrag:'<div class="face-frag" class="face_wrapper"></div>',imgData:{"/流汗":["new_face_01","流汗"],"/钱":["new_face_02","钱"],"/发怒":["new_face_03","发怒"],"/浮云":["new_face_04","浮云"],"/给力":["new_face_05","给力"],"/大哭":["new_face_06","大哭"],"/憨笑":["new_face_07","憨笑"],"/色":["new_face_08","色"],"/奋斗":["new_face_09","奋斗"],"/鼓掌":["new_face_10","鼓掌"],"/鄙视":["new_face_11","鄙视"],"/可爱":["new_face_12","可爱"],"/闭嘴":["new_face_13","闭嘴"],"/疑问":["new_face_14","疑问"],"/抓狂":["new_face_15","抓狂"],"/惊讶":["new_face_16","惊讶"],"/可怜":["new_face_17","可怜"],"/弱":["new_face_18","弱"],"/强":["new_face_19","强"],"/握手":["new_face_20","握手"],"/拳头":["new_face_21","拳头"],"/酒":["new_face_22","酒"],"/玫瑰":["new_face_23","玫瑰"],"/打酱油":["new_face_24","打酱油"],"开心":["4_t","sohu"],"赞":["13_t","sohu"],"正能量":["14_t","sohu"],"鼓掌":["1_t","sohu"],"草泥马":["8_t","sohu"],"愤怒":["10_t","sohu"],"鄙视":["9_t","sohu"],"可怜":["6_t","sohu"],"蜡烛":["12_t","sohu"],"流泪":["3_t","sohu"],"震惊":["5_t","sohu"],"恐怖":["15_t","sohu"],"呵呵":["7_t","sohu"],"无语":["2_t","sohu"],"打酱油":["4_t","sohu"]},init:function(a,c,d){var e=this,f=a.find(".face-wrapper-dw");return e.pos=d,e.$textInput=a.find(".area-textarea-w textarea"),e.$cbox=a,f.length?(f.show(),e._appendToPage(c),e.faceShow=!0,void e._faceEvent()):(e.appendFaceHtml(a,c),e._faceEvent(),e._appendToPage(c),e.faceShow=!0,void b.objectAVoid())},_faceEvent:function(){var a=this,b=a.$textInput,c=$(".face-wrapper-dw");c.unbind("click"),c.bind("click",function(d){var e=$(d.target||d.srcElement);if("IMG"==e[0].nodeName)var f=e.closest("a"),g=f.attr("data_ubb");else{if("A"!=e[0].nodeName)return;var g=e.attr("data_ubb")}b.val()==decodeURIComponent(SOHUCS.config.sys.module.cbox.defaultTxt)&&b.val("");var h=b.val(),i=a.pos,j=h.substring(0,i)+"["+g+"]",k=h.substring(i);if(b.val(j+k),c.hide(),a.faceShow=!1,b[0].setSelectionRange)b[0].setSelectionRange(j.length,j.length);else{var l=b[0].createTextRange(),m=j.length;l.collapse(!0),l.moveStart("character",m),l.select()}b.focus();var n=c.closest(".action-function-w"),o=n.find(".wrapper-image-dw:visible").length>0?n.find(".wrapper-image-dw:visible"):c,p=n.position(),q=parseInt(p.top)+parseInt(o.height())+65;a.resetHeight(!0,q)}),a.resetHeight()},resetHeight:function(a,c){b.resetIframeHeight(a,c)},ubbToImg:function(a){var b=c,d="";return d=a.replace(/\[([^\]]+)\]+?/g,function(a,c){var d=b.imgData[c];return d&&"undefined"!=typeof d?"sohu"==d[1]?'<img src="'+b.sohuFaceUrl+d[0]+'.gif" alt="'+c+'" title="'+c+'">':"sohu"!=d[1]?'<img src="'+b.faceUrl+d[0]+'.gif" alt="'+d[1]+'" title="'+d[1]+'" ubb="'+c+'">':a:a})},_appendToPage:function(a){var b,c=$(a.target).parents("li"),d=c.closest(".action-function-w"),e=d.position(),f=c.height()+1,g=c.position(),h={};h.left=g.left-2,h.top=c.closest(".wrap-reply-gw").length?g.top+30:g.top+f;var i=c.closest(".action-function-w").find(".face-wrapper-dw");i.css({top:h.top,left:h.left});var j=d.find(".wrapper-image-dw:visible").length>0?d.find(".wrapper-image-dw:visible"):i;b=parseInt(e.top)+parseInt(j.height())+65,this.resetHeight(!0,b)},getCursortPosition:function(a){var b={text:"",start:0,end:0};if(a.blur(),a.focus(),a.setSelectionRange)b.start=a.selectionStart,b.end=a.selectionEnd,b.text=b.start!=b.end?a.value.substring(b.start,b.end):"";else if(document.selection){var c,d=document.selection.createRange(),e=document.body.createTextRange();for(e.moveToElementText(a),b.text=d.text,b.bookmark=d.getBookmark(),c=0;e.compareEndPoints("StartToStart",d)<0&&0!==d.moveStart("character",-1);c++)"\n"==a.value.charAt(c)&&c++;b.start=c,b.end=b.text.length+b.start}return b},hideFaceWrapper:function(a){var b=$("body .face-wrapper-dw"),a=a||window.event,c=this;if(a){var d=a.target||a.srcElement;if($(d).closest(".face-wrapper-dw").length)return}if(b.find(".wrapper-cont-dw").length>0&&c.faceShow){var e=b.closest(".action-function-w"),f=e.find(".wrapper-image-dw:visible").length>0?e.find(".wrapper-image-dw:visible"):b,g=e.position(),h=parseInt(g.top)+parseInt(f.height())+65;b.hide(),c.faceShow=!1,0==$(d).closest("#user_page").length?c.resetHeight(!0,h):c.resetHeight()}},appendFaceHtml:function(a){var b=a.find(".action-function-w"),c=this.faceUrl;b.append('<div class="reset-g windows-define-dg face-wrapper-dw" ><div class="wrapper-cont-dw wrapper-cont-bd"><ul class="clear-g"><li><a data_ubb="/流汗" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_01.gif" alt="流汗" title="流汗"></a></li><li><a data_ubb="/钱" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_02.gif" alt="钱" title="钱"></a></li><li><a data_ubb="/发怒" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_03.gif" alt="发怒" title="发怒"></a></li><li><a data_ubb="/浮云" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_04.gif" alt="浮云" title="浮云"></a></li><li><a data_ubb="/给力" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_05.gif" alt="给力" title="给力"></a></li><li><a data_ubb="/大哭" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_06.gif" alt="大哭" title="大哭"></a></li><li><a data_ubb="/憨笑" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_07.gif" alt="憨笑" title="憨笑"></a></li><li><a data_ubb="/色" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_08.gif" alt="色" title="色"></a></li></ul><ul class="clear-g"><li><a data_ubb="/奋斗" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_09.gif" alt="奋斗" title="奋斗"></a></li><li><a data_ubb="/鼓掌" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_10.gif" alt="鼓掌" title="鼓掌"></a></li><li><a data_ubb="/鄙视" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_11.gif" alt="鄙视" title="鄙视"></a></li><li><a data_ubb="/可爱" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_12.gif" alt="可爱" title="可爱"></a></li><li><a data_ubb="/闭嘴" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_13.gif" alt="闭嘴" title="闭嘴"></a></li><li><a data_ubb="/疑问" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_14.gif" alt="疑问" title="疑问"></a></li><li><a data_ubb="/抓狂" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_15.gif" alt="抓狂" title="抓狂"></a></li><li><a data_ubb="/惊讶" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_16.gif" alt="惊讶" title="惊讶"></a></li></ul><ul class="clear-g"><li><a data_ubb="/可怜" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_17.gif" alt="可怜" title="可怜"></a></li><li><a data_ubb="/弱" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_18.gif" alt="弱" title="弱"></a></li><li><a data_ubb="/强" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_19.gif" alt="强" title="强"></a></li><li><a data_ubb="/握手" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_20.gif" alt="握手" title="握手"></a></li><li><a data_ubb="/拳头" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_21.gif" alt="拳头" title="拳头"></a></li><li><a data_ubb="/酒" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_22.gif" alt="酒" title="酒"></a></li><li><a data_ubb="/玫瑰" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_23.gif" alt="玫瑰" title="玫瑰"></a></li><li><a data_ubb="/打酱油" data_path="base" href="javascript:void(0)"><img src="'+c+'new_face_24.gif" alt="打酱油" title="打酱油"></a></li></ul></div></div>')}};module.exports=c,$("body").click(function(a){$(".clear-g .function-face-w").removeClass("function-e"),c.hideFaceWrapper(a)})}),define("D:/Www/sohu/cyf/v2.5/tmp-build/lib/lang.js",function(require,exports,module){module.exports={trim:function(a){var b=a,c=b.replace(/^\s*|\s*$/g,"");return c},len:function(a){var b=a.replace(/[^\x00-\xff]/g,"**");return b.length},left:function(a,b,c){if(!("number"!=typeof b||0>b)){var d=b,e=c||"",f=a,g=new Array,h=f.replace(/[^\x00-\xff]/g,function(a){return g.push(a),"*)"});if(h[d-1]&&"*"==h[d-1]&&")"==h[d]&&d++,d>=h.length)return f;h=h.substr(0,d);var i=0;return h=h.replace(/(\*\))/g,function(){var a=g[i];return i++,a}),h+e}}}}),define("D:/Www/sohu/cyf/v2.5/tmp-build/lib/widgets/dialog.js",function(require,exports){exports.initDialog=function($){!function($,a){function b(a,b){var d=a.nodeName.toLowerCase();if("area"===d){var e,f=a.parentNode,g=f.name;return a.href&&g&&"map"===f.nodeName.toLowerCase()?(e=$("img[usemap=#"+g+"]")[0],!!e&&c(e)):!1}return(/input|select|textarea|button|object/.test(d)?!a.disabled:"a"==d?a.href||b:b)&&c(a)}function c(a){return!$(a).parents().andSelf().filter(function(){return"hidden"===$.curCSS(this,"visibility")||$.expr.filters.hidden(this)}).length}$.ui=$.ui||{},$.ui.version||($.extend($.ui,{version:".8.16",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),$.fn.extend({propAttr:$.fn.prop||$.fn.attr,_focus:$.fn.focus,focus:function(a,b){return"number"==typeof a?this.each(function(){var c=this;setTimeout(function(){$(c).focus(),b&&b.call(c)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;return a=$.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test($.curCSS(this,"position",1))&&/(auto|scroll)/.test($.curCSS(this,"overflow",1)+$.curCSS(this,"overflow-y",1)+$.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test($.curCSS(this,"overflow",1)+$.curCSS(this,"overflow-y",1)+$.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!a.length?$(document):a},zIndex:function(b){if(b!==a)return this.css("zIndex",b);if(this.length)for(var c,d,e=$(this[0]);e.length&&e[0]!==document;){if(c=e.css("position"),("absolute"===c||"relative"===c||"fixed"===c)&&(d=parseInt(e.css("zIndex"),10),!isNaN(d)&&0!==d))return d;e=e.parent()}return 0},disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".sohucs-ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".sohucs-ui-disableSelection")}}),$.each(["Width","Height"],function(b,c){function d(a,b,c,d){return $.each(e,function(){b-=parseFloat($.curCSS(a,"padding"+this,!0))||0,c&&(b-=parseFloat($.curCSS(a,"border"+this+"Width",!0))||0),d&&(b-=parseFloat($.curCSS(a,"margin"+this,!0))||0)}),b}var e="Width"===c?["Left","Right"]:["Top","Bottom"],f=c.toLowerCase(),g={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};$.fn["inner"+c]=function(b){return b===a?g["inner"+c].call(this):this.each(function(){$(this).css(f,d(this,b)+"px")})},$.fn["outer"+c]=function(a,b){return"number"!=typeof a?g["outer"+c].call(this,a):this.each(function(){$(this).css(f,d(this,a,!0,b)+"px")})}}),$.extend($.expr[":"],{data:function(a,b,c){return!!$.data(a,c[3])},focusable:function(a){return b(a,!isNaN($.attr(a,"tabindex")))},tabbable:function(a){var c=$.attr(a,"tabindex"),d=isNaN(c);return(d||c>=0)&&b(a,!d)}}),$(function(){var a=document.body,b=a.appendChild(b=document.createElement("div"));$.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),$.support.minHeight=100===b.offsetHeight,$.support.selectstart="onselectstart"in b,a.removeChild(b).style.display="none"}),$.extend($.ui,{plugin:{add:function(module,a,b){var c=$.ui[module].prototype;for(var d in b)c.plugins[d]=c.plugins[d]||[],c.plugins[d].push([a,b[d]])},call:function(a,b,c){var d=a.plugins[b];if(d&&a.element[0].parentNode)for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?16&a.compareDocumentPosition(b):a!==b&&a.contains(b)},hasScroll:function(a,b){if("hidden"===$(a).css("overflow"))return!1;var c=b&&"left"===b?"scrollLeft":"scrollTop",d=!1;return a[c]>0?!0:(a[c]=1,d=a[c]>0,a[c]=0,d)},isOverAxis:function(a,b,c){return a>b&&b+c>a},isOver:function(a,b,c,d,e,f){return $.ui.isOverAxis(a,c,e)&&$.ui.isOverAxis(b,d,f)}}))}($),function($,a){if($.cleanData){var b=$.cleanData;$.cleanData=function(a){for(var c,d=0;null!=(c=a[d]);d++)try{$(c).triggerHandler("remove")}catch(e){}b(a)}}else{var c=$.fn.remove;$.fn.remove=function(a,b){return this.each(function(){return b||(!a||$.filter(a,[this]).length)&&$("*",this).add([this]).each(function(){try{$(this).triggerHandler("remove")}catch(a){}}),c.call($(this),a,b)})}}$.widget=function(a,b,c){var d,e=a.split(".")[0];a=a.split(".")[1],d=e+"-"+a,c||(c=b,b=$.Widget),$.expr[":"][d]=function(b){return!!$.data(b,a)},$[e]=$[e]||{},$[e][a]=function(a,b){arguments.length&&this._createWidget(a,b)};var f=new b;f.options=$.extend(!0,{},f.options),$[e][a].prototype=$.extend(!0,f,{namespace:e,widgetName:a,widgetEventPrefix:$[e][a].prototype.widgetEventPrefix||a,widgetBaseClass:d},c),$.widget.bridge(a,$[e][a])},$.widget.bridge=function(b,c){$.fn[b]=function(d){var e="string"==typeof d,f=Array.prototype.slice.call(arguments,1),g=this;return d=!e&&f.length?$.extend.apply(null,[!0,d].concat(f)):d,e&&"_"===d.charAt(0)?g:(this.each(e?function(){var c=$.data(this,b),e=c&&$.isFunction(c[d])?c[d].apply(c,f):c;return e!==c&&e!==a?(g=e,!1):void 0}:function(){var a=$.data(this,b);a?a.option(d||{})._init():$.data(this,b,new c(d,this))}),g)}},$.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(a,b){$.data(b,this.widgetName,this),this.element=$(b),this.options=$.extend(!0,{},this.options,this._getCreateOptions(),a);var c=this;this.element.bind("remove."+this.widgetName,function(){c.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return $.metadata&&$.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled sohucs-ui-state-disabled")},widget:function(){return this.element},option:function(b,c){var d=b;if(0===arguments.length)return $.extend({},this.options);if("string"==typeof b){if(c===a)return this.options[b];d={},d[b]=c}return this._setOptions(d),this},_setOptions:function(a){var b=this;return $.each(a,function(a,c){b._setOption(a,c)}),this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled sohucs-ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(a,b,c){var d=this.options[a];if(b=$.Event(b),b.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),c=c||{},b.originalEvent)for(var e,f=$.event.props.length;f;)e=$.event.props[--f],b[e]=b.originalEvent[e];return this.element.trigger(b,c),!($.isFunction(d)&&d.call(this.element[0],b,c)===!1||b.isDefaultPrevented())}}}($),function($){$.ui=$.ui||{};var a=/left|center|right/,b=/top|center|bottom/,c="center",d=$.fn.position,e=$.fn.offset;$.fn.position=function(e){if(!e||!e.of)return d.apply(this,arguments);e=$.extend({},e);var f,g,h,i=$(e.of),j=i[0],k=(e.collision||"flip").split(" "),l=e.offset?e.offset.split(" "):[0,0];return 9===j.nodeType?(f=i.width(),g=i.height(),h={top:0,left:0}):j.setTimeout?(f=i.width(),g=i.height(),h={top:i.scrollTop(),left:i.scrollLeft()}):j.preventDefault?(e.at="left top",f=g=0,h={top:e.of.pageY,left:e.of.pageX}):(f=i.outerWidth(),g=i.outerHeight(),h=i.offset()),$.each(["my","at"],function(){var d=(e[this]||"").split(" ");1===d.length&&(d=a.test(d[0])?d.concat([c]):b.test(d[0])?[c].concat(d):[c,c]),d[0]=a.test(d[0])?d[0]:c,d[1]=b.test(d[1])?d[1]:c,e[this]=d}),1===k.length&&(k[1]=k[0]),l[0]=parseInt(l[0],10)||0,1===l.length&&(l[1]=l[0]),l[1]=parseInt(l[1],10)||0,"right"===e.at[0]?h.left+=f:e.at[0]===c&&(h.left+=f/2),"bottom"===e.at[1]?h.top+=g:e.at[1]===c&&(h.top+=g/2),h.left+=l[0],h.top+=l[1],this.each(function(){var a,b=$(this),d=b.outerWidth(),i=b.outerHeight(),j=parseInt($.curCSS(this,"marginLeft",!0))||0,m=parseInt($.curCSS(this,"marginTop",!0))||0,n=d+j+(parseInt($.curCSS(this,"marginRight",!0))||0),o=i+m+(parseInt($.curCSS(this,"marginBottom",!0))||0),p=$.extend({},h);"right"===e.my[0]?p.left-=d:e.my[0]===c&&(p.left-=d/2),"bottom"===e.my[1]?p.top-=i:e.my[1]===c&&(p.top-=i/2),p.left=Math.round(p.left),p.top=Math.round(p.top),a={left:p.left-j,top:p.top-m};var q={};q.left=p.left||0,q.top=p.right||0,$.each(["left","top"],function(b,c){$.ui.position[k[b]]&&$.ui.position[k[b]][c](p,{targetWidth:f,targetHeight:g,elemWidth:d,elemHeight:i,collisionPosition:a,collisionWidth:n,collisionHeight:o,offset:l,my:e.my,at:e.at})}),$.fn.bgiframe&&b.bgiframe(),p.left=q.left||0,b.offset($.extend(p,{using:e.using}))})},$.ui.position={fit:{left:function(a,b){var c=$(window),d=b.collisionPosition.left+b.collisionWidth-c.width()-c.scrollLeft();a.left=d>0?a.left-d:Math.max(a.left-b.collisionPosition.left,a.left)},top:function(a,b){var c=$(window),d=b.collisionPosition.top+b.collisionHeight-c.height()-c.scrollTop();a.top=d>0?a.top-d:Math.max(a.top-b.collisionPosition.top,a.top)}},flip:{left:function(a,b){if(b.at[0]!==c){var d=$(window),e=b.collisionPosition.left+b.collisionWidth-d.width()-d.scrollLeft(),f="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,g="left"===b.at[0]?b.targetWidth:-b.targetWidth,h=-2*b.offset[0];a.left+=b.collisionPosition.left<0?f+g+h:e>0?f+g+h:0}},top:function(a,b){if(b.at[1]!==c){var d=$(window),e=b.collisionPosition.top+b.collisionHeight-d.height()-d.scrollTop(),f="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,g="top"===b.at[1]?b.targetHeight:-b.targetHeight,h=-2*b.offset[1];a.top+=b.collisionPosition.top<0?f+g+h:e>0?f+g+h:0}}}},$.offset.setOffset||($.offset.setOffset=function(a,b){/static/.test($.curCSS(a,"position"))&&(a.style.position="relative");var c=$(a),d=c.offset(),e=parseInt($.curCSS(a,"top",!0),10)||0,f=parseInt($.curCSS(a,"left",!0),10)||0,g={top:b.top-d.top+e,left:b.left-d.left+f};"using"in b?b.using.call(a,g):c.css(g)},$.fn.offset=function(a){var b=this[0];return b&&b.ownerDocument?a?this.each(function(){$.offset.setOffset(this,a)}):e.call(this):null})}($),function($,a){var b="sohucs-ui-dialog sohucs-ui-widget sohucs-ui-widget-content sohucs-ui-corner-all ",c={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},d={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},e=$.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};$.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(a){var b=$(this).css(a).offset().top;0>b&&$(this).css("top",a.top-b)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1997},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;{var a=this,c=a.options,d=c.title||"&#160;",e=$.ui.dialog.getTitleId(a.element),f=(a.uiDialog=$("<div></div>")).appendTo(document.body).hide().addClass(b+c.dialogClass).css({zIndex:c.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(b){c.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===$.ui.keyCode.ESCAPE&&(a.close(b),b.preventDefault())}).attr({role:"dialog","aria-labelledby":e}).mousedown(function(b){a.moveToTop(!1,b)}),g=(a.element.show().removeAttr("title").addClass("sohucs-ui-dialog-content sohucs-ui-widget-content").appendTo(f),(a.uiDialogTitlebar=$("<div></div>")).addClass("clear-g cont-title-dw cont-title-bd sohucs-ui-dialog-titlebar sohucs-ui-widget-header sohucs-ui-corner-all sohucs-ui-helper-clearfix").prependTo(f)),h=$("<span></span>").addClass("title-close-dw sohu-comment-windows-title-close sohucs-ui-dialog-titlebar-close sohucs-ui-corner-all").attr("role","button").hover(function(){h.addClass("sohucs-ui-state-hover")},function(){h.removeClass("sohucs-ui-state-hover")}).focus(function(){h.addClass("sohucs-ui-state-focus")}).blur(function(){h.removeClass("sohucs-ui-state-focus")}).click(function(b){return a.close(b),!1}).appendTo(g);(a.uiDialogTitlebarCloseText=$('<a href="javascript:void(0)"></a>')).addClass("sohucs-ui-icon sohucs-ui-icon-closethick").text(c.closeText).appendTo(h),$("<strong></strong>").addClass("title-name-dw title-name-bd").attr("id",e).html(d).appendTo(g)}$.isFunction(c.beforeclose)&&!$.isFunction(c.beforeClose)&&(c.beforeClose=c.beforeclose),g.find("*").add(g).disableSelection(),c.draggable&&$.fn.draggable&&a._makeDraggable(),c.resizable&&$.fn.resizable&&a._makeResizable(),a._createContentInner(c.contentInner),a._createButtons(c.buttons),a._isOpen=!1,$.fn.bgiframe&&f.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;return a.overlay&&a.overlay.destroy(),a.uiDialog.hide(),a.element.unbind(".dialog").removeData("dialog").removeClass("sohucs-ui-dialog-content sohucs-ui-widget-content").hide().appendTo("body"),a.uiDialog.remove(),a.originalTitle&&a.element.attr("title",a.originalTitle),a},widget:function(){return this.uiDialog},close:function(a){var b,c,d=this;if(!1!==d._trigger("beforeClose",a))return d.overlay&&d.overlay.destroy(),d.uiDialog.unbind("keypress.ui-dialog"),d._isOpen=!1,d.options.hide?d.uiDialog.hide(d.options.hide,function(){d._trigger("close",a)}):(d.uiDialog.hide(),d._trigger("close",a)),$.ui.dialog.overlay.resize(),d.options.modal&&(b=0,$(".sohucs-ui-dialog").each(function(){this!==d.uiDialog[0]&&(c=$(this).css("z-index"),isNaN(c)||(b=Math.max(b,c)))}),$.ui.dialog.maxZ=b),d},isOpen:function(){return this._isOpen},moveToTop:function(a,b){var c,d=this,e=d.options;return e.modal&&!a||!e.stack&&!e.modal?d._trigger("focus",b):(e.zIndex>$.ui.dialog.maxZ&&($.ui.dialog.maxZ=e.zIndex),d.overlay&&($.ui.dialog.maxZ+=1,d.overlay.$el.css("z-index",$.ui.dialog.overlay.maxZ=$.ui.dialog.maxZ)),c={scrollTop:d.element.scrollTop(),scrollLeft:d.element.scrollLeft()},$.ui.dialog.maxZ+=1,d.uiDialog.css("z-index",$.ui.dialog.maxZ),d.element.attr(c),d._trigger("focus",b),d)},open:function(){if(!this._isOpen){var a=this,b=a.options,c=a.uiDialog;return a.overlay=b.modal?new $.ui.dialog.overlay(a):null,a._size(),a._position(b.position),c.show(b.show),a.moveToTop(!0),b.modal&&c.bind("keypress.ui-dialog",function(a){if(a.keyCode===$.ui.keyCode.TAB){var b=$(":tabbable",this),c=b.filter(":first"),d=b.filter(":last");return a.target!==d[0]||a.shiftKey?a.target===c[0]&&a.shiftKey?(d.focus(1),!1):void 0:(c.focus(1),!1)}}),$(a.element.find(":tabbable").get().concat(c.find(".sohucs-ui-dialog-buttonpane :tabbable").get().concat(c.get()))).eq(0).focus(),a._isOpen=!0,a._trigger("open"),a}},_createContentInner:function(a){{var b=this,c=a.klass,d=$("<div></div>").addClass(c).bind("click",function(b){a.handle&&a.handle(b)});$(a.innerHTML).appendTo(d)}d.appendTo(b.element)},_createFooter:function(a){{var b=this,c=a.klass,d=$("<div></div>").addClass(c).bind("click",function(){a.handle&&a.handle()});$(a.innerHTML).appendTo(d)}d.appendTo(b.uiDialog)},_createButtons:function(a){var b=this,c=!1,d=$("<div></div>").addClass("sohucs-ui-dialog-buttonpane sohucs-ui-widget-content sohucs-ui-helper-clearfix"),f=$("<div></div>").addClass("sohucs-ui-dialog-buttonset").appendTo(d);b.uiDialog.find(".sohucs-ui-dialog-buttonpane").remove(),"object"==typeof a&&null!==a&&$.each(a,function(){return!(c=!0)}),c&&($.each(a,function(a,c){c=$.isFunction(c)?{click:c,text:a}:c;var d=$('<button type="button"></button>').click(function(){c.click.apply(b.element[0],arguments)}).appendTo(f);$.each(c,function(a,b){"click"!==a&&(a in e?d[a](b):d.attr(a,b))}),$.fn.button&&d.button()}),d.appendTo(b.uiDialog))},_makeDraggable:function(){function a(a){return{position:a.position,offset:a.offset}}var b,c=this,d=c.options,e=$(document);c.uiDialog.draggable({cancel:".sohucs-ui-dialog-content, .sohucs-ui-dialog-titlebar-close, .sohu-comment-windows-title-close",handle:".sohucs-ui-dialog-titlebar",containment:"document",start:function(e,f){b="auto"===d.height?"auto":$(this).height(),$(this).height($(this).height()).addClass("sohucs-ui-dialog-dragging"),c._trigger("dragStart",e,a(f))},drag:function(b,d){c._trigger("drag",b,a(d))},stop:function(f,g){d.position=[g.position.left-e.scrollLeft(),g.position.top-e.scrollTop()],$(this).removeClass("sohucs-ui-dialog-dragging").height(b),c._trigger("dragStop",f,a(g)),$.ui.dialog.overlay.resize()}})},_makeResizable:function(b){function c(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}b=b===a?this.options.resizable:b;var d=this,e=d.options,f=d.uiDialog.css("position"),g="string"==typeof b?b:"n,e,s,w,se,sw,ne,nw";d.uiDialog.resizable({cancel:".sohucs-ui-dialog-content",containment:"document",alsoResize:d.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:d._minHeight(),handles:g,start:function(a,b){$(this).addClass("sohucs-ui-dialog-resizing"),d._trigger("resizeStart",a,c(b))},resize:function(a,b){d._trigger("resize",a,c(b))},stop:function(a,b){$(this).removeClass("sohucs-ui-dialog-resizing"),e.height=$(this).height(),e.width=$(this).width(),d._trigger("resizeStop",a,c(b)),$.ui.dialog.overlay.resize()}}).css("position",f).find(".sohucs-ui-resizable-se").addClass("sohucs-ui-icon sohucs-ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(a){var b,c=[],d=[0,0];a?(("string"==typeof a||"object"==typeof a&&"0"in a)&&(c=a.split?a.split(" "):[a[0],a[1]],1===c.length&&(c[1]=c[0]),$.each(["left","top"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)}),a={my:c.join(" "),at:c.join(" "),offset:d.join(" ")}),a=$.extend({},$.ui.dialog.prototype.options.position,a)):a=$.ui.dialog.prototype.options.position,b=this.uiDialog.is(":visible"),b||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position($.extend({of:window},a)),b||this.uiDialog.hide()},_setOptions:function(a){var b=this,e={},f=!1;$.each(a,function(a,g){b._setOption(a,g),a in c&&(f=!0),a in d&&(e[a]=g)}),f&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(a,c){var d=this,e=d.uiDialog;switch(a){case"beforeclose":a="beforeClose";
break;case"buttons":d._createButtons(c);break;case"closeText":d.uiDialogTitlebarCloseText.text(""+c);break;case"dialogClass":e.removeClass(d.options.dialogClass).addClass(b+c);break;case"disabled":c?e.addClass("sohucs-ui-dialog-disabled"):e.removeClass("sohucs-ui-dialog-disabled");break;case"draggable":var f=e.is(":data(draggable)");f&&!c&&e.draggable("destroy"),!f&&c&&d._makeDraggable();break;case"position":d._position(c);break;case"resizable":var g=e.is(":data(resizable)");g&&!c&&e.resizable("destroy"),g&&"string"==typeof c&&e.resizable("option","handles",c),g||c===!1||d._makeResizable(c);break;case"title":$(".sohucs-ui-dialog-title",d.uiDialogTitlebar).html("<strong>"+(c||"&#160;")+"</strong>")}$.Widget.prototype._setOption.apply(d,arguments)},_size:function(){var a,b,c=this.options,d=this.uiDialog.is(":visible");if(this.element.show().css({width:"auto",minHeight:0,height:0}),c.minWidth>c.width&&(c.width=c.minWidth),a=this.uiDialog.css({height:"auto",width:c.width}).height(),b=Math.max(0,c.minHeight-a),"auto"===c.height)if($.support.minHeight)this.element.css({minHeight:b,height:"auto"});else{this.uiDialog.show();var e=this.element.css("height","auto").height();d||this.uiDialog.hide(),this.element.height(Math.max(e,b))}else this.element.height(Math.max(c.height-a,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),$.extend($.ui.dialog,{version:"1.8.16",uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr("id");return b||(this.uuid+=1,b=this.uuid),"sohucs-ui-dialog-title-"+b},overlay:function(a){this.$el=$.ui.dialog.overlay.create(a)}}),$.extend($.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:$.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(a){0===this.instances.length&&(setTimeout(function(){$.ui.dialog.overlay.instances.length&&$(document).bind($.ui.dialog.overlay.events,function(a){return $(a.target).zIndex()<$.ui.dialog.overlay.maxZ?!1:void 0})},1),$(document).bind("keydown.dialog-overlay",function(b){a.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===$.ui.keyCode.ESCAPE&&(a.close(b),b.preventDefault())}),$(window).bind("resize.dialog-overlay",$.ui.dialog.overlay.resize));var b=(this.oldInstances.pop()||$("<div></div>").addClass("sohucs-ui-widget-overlay SOHUCS-ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return $.fn.bgiframe&&b.bgiframe(),this.instances.push(b),b},destroy:function(a){var b=$.inArray(a,this.instances);-1!=b&&this.oldInstances.push(this.instances.splice(b,1)[0]),0===this.instances.length&&$([document,window]).unbind(".dialog-overlay"),a.remove();var c=0;$.each(this.instances,function(){c=Math.max(c,this.css("z-index"))}),this.maxZ=c},height:function(){var a,b;return $.browser.msie&&$.browser.version<7?(a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),b=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),b>a?$(window).height()+"px":a+"px"):$(document).height()+"px"},width:function(){var a,b;return $.browser.msie?(a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),b=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),b>a?$(window).width()+"px":a+"px"):$(document).width()+"px"},resize:function(){var a=$([]);$.each($.ui.dialog.overlay.instances,function(){a=a.add(this)}),a.css({width:0,height:0}).css({width:$.ui.dialog.overlay.width(),height:$.ui.dialog.overlay.height()})}}),$.extend($.ui.dialog.overlay.prototype,{destroy:function(){$.ui.dialog.overlay.destroy(this.$el)}})}($)}}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/cboxTemplate.js",function(require,exports){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),b='<div class="post-wrap-w post-wrap-b"><div class="wrap-area-w"><div class="area-textarea-w" style="position:relative;zoom:1;z-index:9;"><textarea name="" class="textarea-fw textarea-bf">{{^activity_position}}{{{defaultText}}}{{/activity_position}}</textarea>{{#activity_position}}{{#activity_info}}<div class="activity-entry-w" style="margin:0;padding:1px 1px 0 0;border:0;text-align:left;height:34px;position:absolute;top:2px;left:8px;z-index:12;overflow:hidden;"><div class="entry-text-w" style="margin:0;padding:10px 0 0;border:0;text-align:left;float:left;zoom:1;color:#b8b8b8;font-size:14px;font-family:\'5B8B4F53\';line-height:16px;">{{display}}</div><div class="entry-img-w" style="margin:0;padding:0;border:0;text-align:left;float:left;width:44px;height:32px;"><img src="{{barIconUri}}" width="44" height="32" alt=""/> <!--{{barIconUri}}--></div></div>{{/activity_info}}{{/activity_position}}</div></div><div class="clear-g wrap-action-w wrap-action-b"><div class="action-function-w action-function-b relative-z-w"><ul class="clear-g"><li class="function-face-w"><a href="javascript:void(0)" class="effect-w" title="表情"><i class="face-b"></i></a></li>{{#allowImg}}<li class="function-uploadimg-w"><a href="javascript:void(0)" class="effect-w" title="上传图片"><i class="uploadimg-b"></i></a><div class="uploadimg-file-w"></div><div class="img-btn-cover" style="width:40px;height:40px;margin-top:-40px;z-index:-1;position: relative;"></div></li>{{/allowImg}}\n                    {{#isUseUserLevel}}\n                    <li node-type="rich-sbtn" data-key="bold" title="评论加粗" class="function-bold-w {{^isBold}}function-disable-w{{/isBold}}">\n                        <a class="effect-w" href="javascript:void(0)"><i class="bold-w"></i></a>\n                        {{#isBoldNew}}<div node-type="new-icon" class="icon-new-w"></div>{{/isBoldNew}}\n                    </li>\n                    <li node-type="rich-sbtn" data-key="color" title="炫彩评论" class="function-color-w {{^isColor}}function-disable-w{{/isColor}}">\n                        <a class="effect-w" href="javascript:void(0)"><i class="color-w"></i></a>\n                        {{#isColorNew}}<div node-type="new-icon" class="icon-new-w"></div>{{/isColorNew}}\n                    </li>\n                    {{/isUseUserLevel}}\n                    <!--<li class="function-at-w"><a href="javascript:void(0)" class="effect-w"><i class="at-b"></i></a></li>--></ul></div><div class="clear-g action-issue-w"><div class="issue-btn-w"><a href="javascript:void(0)"><button class="btn-fw btn-bf btn-fw-main">发布</button></a></div>{{#isScore}}<div class="issue-grade-w issue-grade-b"><ul><li><i class="grade-icon-w grade-icon-b" title="力荐"></i></li><li><i class="grade-icon-w grade-icon-b" title="推荐"></i></li><li><i class="grade-icon-w grade-icon-b" title="还行"></i></li><li><i class="grade-icon-w grade-icon-b" title="较差"></i></li><li><i class="grade-icon-w grade-icon-b" title="很差"></i></li><li><span class="grade-text-w grade-text-b">评分：</span></li></ul></div>{{/isScore}}{{#hasPassport}}<div class="issue-icon-w"><ul class="clear-g">{{#_data}}{{#info}}{{#passports}}{{#is_shared}}<li title="{{{nickname}}}" alt="{{{nickname}}}"><span base-class="{{sub_platform_class}}" def-id="{{passport_id}}" id-hold="{{passport_id}}" class="icon-w icon-{{sub_platform_class}}-b icon-{{sub_platform_class}}-click-b "></span></li>{{/is_shared}}{{/passports}}{{/info}}{{/_data}}<li class="icon-name-w"><strong class="name-b">同步：</strong></li></ul></div>{{/hasPassport}}</div></div></div>',c='<div class="post-default-w post-default-b"><div class="clear-g default-wrap-w"><input type="text" name="" value="{{{defaultText}}}" class="wrap-text-f "/><button class="btn-fw btn-bf single-btn-bf">发布</button></div></div>',d='\n            {{^cy_login}}\n            {{#showPlatform}}\n            <div node-type="login-list" class="post-login-w">\n                <ul class="clear-g">\n                    {{#isSSOFromLogoData}}\n                    <li>\n                        <div class="login-wrap-w login-wrap-b login-wrap-other-w">\n                            <a data-key="sso" data-action-type="{{ssoButtonActionType}}" target="_self" href="javascript:;">\n                                <span class="wrap-icon-w" style="background:url({{isvLogoUrl}})"></span><span class="wrap-name-w wrap-name-b">登录</span>\n                            </a>\n                        </div>\n                    </li>\n                    {{/isSSOFromLogoData}}\n                    {{#_data}}\n                    {{#list}}\n                    <li style="display:{{display}}">\n                        <div class="login-wrap-w login-wrap-b">\n                            <a data-key="{{className}}" target="_self" href="javascript:;" title="{{name}}" alt="{{name}}">\n                                <span class="wrap-icon-w icon30-{{className}}-b"></span><span class="wrap-name-w wrap-name-b">{{shortName}}</span>\n                            </a>\n                        </div>\n                    </li>\n                    {{/list}}\n                    {{/_data}}\n                    {{#anonymous}}\n                    <li>\n                        <div class="login-wrap-w login-wrap-b login-wrap-visitor-b">\n                            <a data-key="visitor" target="_self" href="javascript:void(0)">\n                                <span class="wrap-icon-w icon30-visitor-b"></span><span class="wrap-name-w wrap-name-b">{{{visitorText}}}</span>\n                            </a>\n                        </div>\n                    </li>\n                    {{/anonymous}}\n                </ul>\n            </div>\n            {{/showPlatform}}\n            {{/cy_login}}\n            ',e='\n            <div class="block-head-w">\n                <div class="head-img-w">\n                    {{#showAvatar}}\n                    <a node-type="user-avatar" href="{{profile_url}}" target="{{target}}"><img src="{{avatar}}" onerror="SOHUCS.isImgErr(this)" width="42" height="42" alt=""/></a>\n                    {{/showAvatar}}\n                </div>\n                <!--\n                {{#addGold}}\n                <div class="head-gold-w"><a href="javascript:void(0)">金币</a></div>\n                {{/addGold}}\n                -->\n            </div>\n        ',f='<div id="bottombar-wrap-w" class="{{skin}}"><div class="close-w"><a target="_self" href="javascript:void(0)" ></a></div><div class="wrap-cont-w post-wrap-w" ><div class="cont-minwidth-w"><div class="cont-comment-w">{{^commentNum}}<span class="comment-text-w" >立刻说两句吧！</span>{{/commentNum}}{{#commentNum}}<a class="comment-link-w" target="_self" href="{{jumpurl}}" >查看<i>{{commentNum}}</i>条评论</a>{{/commentNum}}</div><div class="cont-form-w" ><div class="form-text-w area-textarea-w" ><a class="button-w btn-bf" target="_self" href="javascript:void(0)">按钮</a><input type="text" name="" value="{{^activity_position}}{{{defaultText}}}{{/activity_position}}" class="textarea-fw text-w"/><div></div>{{#activity_position}}{{#activity_info}}<div class="activity-entry-w"><div class="entry-text-w">{{display}}</div><div class="entry-img-w"><img src="{{barIconUri}}" width="44" height="32" alt=""/></div></div>{{/activity_info}}{{/activity_position}}</div></div></div><div class="cont-login-w">{{#cy_login}}<div class="login-wrap-w"><span>{{nickname}}<a class="floatbar_quit" href="javascript:void(0)">[退出]</a></span></div>{{/cy_login}}{{^cy_login}}<div class="logout-wrap-w"><ul class="floatbar_platform post-login-w"><li class="first-w" ><span>登录：</span></li>{{#isSSOFromLogoData}}<li class="login-wrap-w" style="width:55px;"><a  href="javascript:void(0);" data-type="ssoAction" action-type="{{ssoButtonActionType}}" style="background:none"><img src="{{isvLogoUrl}}" style="height:30px;width:55px;"></a></li>{{/isSSOFromLogoData}}{{#showPlatform}}{{#_data}}{{#list}}<li><a class="icon-{{className}}-w" href="'+a.dev.get("isv:uri:api")+'api/2/login/passport?client_id={{client_id}}&platform_id={{platform_id}}" post-data="{{postData}}" win-height="{{winHeight}}" win-width="{{winWidth}}" data-type="open" title="{{name}}" alt="{{name}}"></a></li>{{/list}}{{/_data}}{{/showPlatform}}</ul></div>{{/cy_login}}</div></div></div>';exports.getTmp=function(a){var g="";if(a){switch(a){case"fixed":g=f;break;case"main":g='<div node-type="cbox-wrapper" class="reset-g section-cbox-w"><div style="width:1px;height:1px;overflow:hidden;"><img src="http://changyan.itc.cn/v2/asset/scs/imgs/vcode.jpg" style="visibility:hidden;width:1px;height:1px;"></div><div class="clear-g cbox-block-w">'+e+'<div class="block-post-w block-post-default-e">'+b+d+"</div></div></div>";break;case"reply":g='<div node-type="cbox-wrapper" class="reset-g section-cbox-w"><div class="clear-g cbox-block-w">'+e+'<div class="block-post-w block-post-default-e">'+b+"</div></div></div>";break;case"simple":g='<div class="reset-g section-cbox-w"><div style="width:1px;height:1px;overflow:hidden;"><img src="http://changyan.itc.cn/v2/asset/scs/imgs/vcode.jpg" style="visibility:hidden;width:1px;height:1px;"></div><div class="clear-g cbox-block-w">'+e+'<div class="block-post-w">'+c+"</div></div></div>";break;default:g='<div class="reset-g section-cbox-w"><div class="clear-g cbox-block-w">'+e+'<div class="block-post-w block-post-default-e">'+b+d+"</div></div></div>"}return"{{#data}}"+g+"{{/data}}"}},exports.prompt='\n        <div node-type="prompt-no-privilege" class="cbox-prompt-w" style="display: none;">\n            <span class="prompt-empty-w prompt-empty-b">等级不够，发表评论升至指定级别才能获得该特权。详情请参见<a node-type="privilege-intro" href="javascript:;">等级说明</a>。</span>\n        </div>\n    '}),define("D:/Www/sohu/cyf/v2.5/tmp-build/lib/mustache.js",function(require,exports,module){var a=function(){var a={},b=function(){};return b.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(a,b,c,d){if(d||(this.context=b,this.buffer=[]),!this.includes("",a))return d?a:void this.send(a);a=this.render_pragmas(a);var e=this.render_section(a,b,c);return e===!1&&(e=this.render_tags(a,b,c,d)),d?e:void this.sendLines(e)},send:function(a){""!==a&&this.buffer.push(a)},sendLines:function(a){if(a)for(var b=a.split("\n"),c=0;c<b.length;c++)this.send(b[c])},render_pragmas:function(a){if(!this.includes("%",a))return a;var b=this,c=this.getCachedRegex("render_pragmas",function(a,b){return new RegExp(a+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+b,"g")});return a.replace(c,function(a,c,d){if(!b.pragmas_implemented[c])throw{message:"This implementation of mustache doesn't understand the '"+c+"' pragma"};if(b.pragmas[c]={},d){var e=d.split("=");b.pragmas[c][e[0]]=e[1]}return""})},render_partial:function(a,b,c){if(a=this.trim(a),!c||void 0===c[a])throw{message:"unknown_partial '"+a+"'"};return"object"!=typeof b[a]?this.render(c[a],b,c,!0):this.render(c[a],b[a],c,!0)},render_section:function(a,b,c){if(!this.includes("#",a)&&!this.includes("^",a))return!1;var d=this,e=this.getCachedRegex("render_section",function(a,b){return new RegExp("^([\\s\\S]*?)"+a+"(\\^|\\#)\\s*(.+)\\s*"+b+"\n*([\\s\\S]*?)"+a+"\\/\\s*\\3\\s*"+b+"\\s*([\\s\\S]*)$","g")});return a.replace(e,function(a,e,f,g,h,i){var j,k=e?d.render_tags(e,b,c,!0):"",l=i?d.render(i,b,c,!0):"",m=d.find(g,b);return"^"===f?j=!m||d.is_array(m)&&0===m.length?d.render(h,b,c,!0):"":"#"===f&&(j=d.is_array(m)?d.map(m,function(a){return d.render(h,d.create_context(a),c,!0)}).join(""):d.is_object(m)?d.render(h,d.create_context(m),c,!0):"function"==typeof m?m.call(b,h,function(a){return d.render(a,b,c,!0)}):m?d.render(h,b,c,!0):""),k+j+l})},render_tags:function(a,b,c,d){for(var e=this,f=function(){return e.getCachedRegex("render_tags",function(a,b){return new RegExp(a+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+b+"+","g")})},g=f(),h=function(a,d,h){switch(d){case"!":return"";case"=":return e.set_delimiters(h),g=f(),"";case">":return e.render_partial(h,b,c);case"{":return e.find(h,b);default:return e.escape(e.find(h,b))}},i=a.split("\n"),j=0;j<i.length;j++)i[j]=i[j].replace(g,h,this),d||this.send(i[j]);return d?i.join("\n"):void 0},set_delimiters:function(a){var b=a.split(" ");this.otag=this.escape_regex(b[0]),this.ctag=this.escape_regex(b[1])},escape_regex:function(a){if(!arguments.callee.sRE){var b=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+b.join("|\\")+")","g")}return a.replace(arguments.callee.sRE,"\\$1")},find:function(a,b){function c(a){return a===!1||0===a||a}a=this.trim(a);var d;if(a.match(/([a-z_]+)\./gi)){var e=this.walk_context(a,b);c(e)&&(d=e)}else c(b[a])?d=b[a]:c(this.context[a])&&(d=this.context[a]);return"function"==typeof d?d.apply(b):void 0!==d?d:""},walk_context:function(a,b){for(var c=a.split("."),d=void 0!=b[c[0]]?b:this.context,e=d[c.shift()];void 0!=e&&c.length>0;)d=e,e=e[c.shift()];return"function"==typeof e?e.apply(d):e},includes:function(a,b){return-1!=b.indexOf(this.otag+a)},escape:function(a){return a=String(null===a?"":a),a.replace(/&(?!\w+;)|["'<>\\]/g,function(a){switch(a){case"&":return"&amp;";case'"':return"&quot;";case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";default:return a}})},create_context:function(a){if(this.is_object(a))return a;var b=".";this.pragmas["IMPLICIT-ITERATOR"]&&(b=this.pragmas["IMPLICIT-ITERATOR"].iterator);var c={};return c[b]=a,c},is_object:function(a){return a&&"object"==typeof a},is_array:function(a){return"[object Array]"===Object.prototype.toString.call(a)},trim:function(a){return a.replace(/^\s*|\s*$/g,"")},map:function(a,b){if("function"==typeof a.map)return a.map(b);for(var c=[],d=a.length,e=0;d>e;e++)c.push(b(a[e]));return c},getCachedRegex:function(b,c){var d=a[this.otag];d||(d=a[this.otag]={});var e=d[this.ctag];e||(e=d[this.ctag]={});var f=e[b];return f||(f=e[b]=c(this.otag,this.ctag)),f}},{name:"mustache.js",version:"0.4.0-dev",to_html:function(a,c,d,e){var f=new b;return e&&(f.send=e),f.render(a,c||{},d),e?void 0:f.buffer.join("\n")}}}();module.exports=a}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/cboxView.js",function(require){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),b=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/mustache.js"),c=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/underscore.js"),d=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/cboxTemplate.js"),e=(require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/cboxModel.js"),require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/widgets/dialog.js")),f=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/lang.js"),g=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/json2.js"),h=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js"),i=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/face.js"),j=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/imageUpload.js"),k=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/cookie.js"),h=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js"),l=Backbone.View.extend({el:$("#comment_sohu"),template:d.getTmp("simple"),events:{click:"test","click button.single-btn-bf,input.wrap-text-f":"resetTmp","click div[node-type=login-list] a":"platformClickHandle","click button.btn-fw-main":"clickPostBtntHandle","focus textarea.textarea-fw":"textareaFocusHandle","blur textarea.textarea-fw":"textareaBlurHandle","click span.icon-w":"iconClickHandle","mouseover span.icon-w":"iconMOverHandle","mouseout span.icon-w":"iconMOutHandle","click .post-login-w .login-wrap-w>a[data-type=visitorBtn]":"visitorLoginClickHandle","click .function-face-w":"faceClickHandle","mouseover .uploadimg-file-w":"uploadHoverHandle","mouseout .uploadimg-file-w":"uploadHandle","click .cbox-prompt-w":"replyMsgHandle","click .area-textarea-w .activity-entry-w":"placeholderDiv","mouseenter .issue-grade-w .grade-icon-b":"scoreMEHandle","mouseleave .issue-grade-w .grade-icon-b":"scoreMLHandle","click .issue-grade-w .grade-icon-b":"scoreMDHandle","click .head-gold-w":"goldHandle",'click #SOHU_MAIN li[node-type="rich-sbtn"]':"toggleRichKey",'click #SOHU_MAIN a[node-type="privilege-intro"]':"showPrivilegeIntro",'click #SOHU_MAIN a[node-type="user-avatar"]':"userAvatar"},initialize:function(){c.bindAll(this,"render","resetTmp","clickPostBtntHandle","_postData","goldHandle"),this.listenTo(this.model,"change",this.render),c.bind(this.toggleRichKey,this);var a=this;Backbone.Events.on("CUSTOM_EVT_LOGIN_LOGOUT",function(){a.floatbar_quit()}),Backbone.Events.on("CUSTOM_EVT_POST_COMMENT",function(b,c){if(a.model.get("cy_login"))a._postData(b,c);else{var d=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/login-dialog/view.js");d.loginCheck(function(){a._postData(b,c)})}})},marketingEntry:function(){var b=this;$.ajax({url:a.dev.get("isv:uri:api")+"api/2/marketing/marketingEntry",data:{client_id:SOHUCS.clientid},type:"get",dataType:"jsonp",success:function(a){try{a.coinCenterSwitch&&a.coinCenterJsUrl&&(b.coinCenterJsUrl=a.coinCenterJsUrl,b.model.set({silent:!0,addGold:!0}),SOHUCS.model.titleModel.set({silent:!0,addGold:!0}))}catch(c){}}})},floatbar_quit:function(){return window.setTimeout(function(){$("#SOHUCS").find(".menu-box-dw-quit").trigger("click")},0),!1},goldHandle:function(){var a=this;$.ajax({url:a.coinCenterJsUrl,type:"get",dataType:"script",scriptCharset:"utf-8",success:function(){}})},scoreMEHandle:function(a){a.preventDefault(),a.stopPropagation();var b=$(".issue-grade-w"),c=b.find(".grade-icon-w"),d=a.target,e=c.index(d);c.each(function(a,b){a>=e&&($(b).hasClass("grade-icon-e")||$(b).addClass("grade-icon-e"))})},scoreMLHandle:function(a){a.preventDefault(),a.stopPropagation();{var b=$(".issue-grade-w"),c=b.find(".grade-icon-w"),d=a.target;c.index(d)}c.removeClass("grade-icon-e")},scoreMDHandle:function(a){a.preventDefault(),a.stopPropagation();var b=$(".issue-grade-w"),c=b.find(".grade-icon-w"),d=a.target,e=c.index(d);c.removeClass("grade-icon-c"),c.each(function(a,b){a>=e&&($(b).hasClass("grade-icon-c")||$(b).addClass("grade-icon-c"))})},placeholderDiv:function(a){var b=a.target;$(b).parents(".area-textarea-w").find(".textarea-fw").get(0).focus()},_initTextAreaAndBtn:function(){this.$textarea=this.$el.find(".textarea-fw"),this.$btn=this.$el.find(".btn-bf")},render:function(){this.template=d.getTmp(this.model.get("cboxDefaultType"));var a={};try{var c=SOHUCS.model.userinfoModel.toJSON().userScore.level,e=SOHUCS.nodeData.listData.user_level[c-1].privilegeDespAsJson;this.model.set("isBold",e.bold),this.model.set("isColor",e.color),this.model.set("isUseUserLevel",SOHUCS.nodeData.configData.data.globalSite.useUserLevel),a=this.model.toJSON(),a.isBoldNew=k.get("SOHUCY-IsPriBoldNew")?!1:!0,a.isColorNew=k.get("SOHUCY-IsPriColorNew")?!1:!0}catch(f){a=this.model.toJSON()}var g=b.to_html(this.template,{data:a});return this.$el.html(g),this._initTextAreaAndBtn(),j.init(this.$el),this.$el.find(".section-cbox-w").eq(0).append($(d.prompt)),Backbone.Events.trigger("CUSTOM_EVT_CBOX_VIEW_RENDER",this.$el),this},resetTmp:function(){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/data-center.js"),b=this,c=2==a.get("isv:config:sso_type")?!1:!0;b.model.set({cboxDefaultType:"main",showPlatform:c})},platformClickHandle:function(a){var b=$(a.target).closest('div[node-type="login-list"] a'),c=b.data("key"),d=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cy-login/cy-login.js");"visitor"===c?this.visitorLoginClickHandle(a):d.login(c)},_requestVisitorLogin:function(a,b){var c=this,d=null;if(a){var a=a,e=b.parents(".post-wrap-w").find(".btn-bf"),g="http://plus.sohu.com/a/spassport/register/quick0",h=$("#sohu_dialog_visitorLogin"),i=$("#sohu_dialog_visitorLogin").find(".action-text-bdf"),j=h.find(".action-text-bdf").val()||"",k=/^[a-zA-Z]{4}$/gi,l=$(a).parents("#sohu_dialog_visitorLogin").find(".verify-action-dw>.action-link-dw>a"),m=$(a).parents("#sohu_dialog_visitorLogin").find(".verify-action-dw .verify_container"),n=h.find(".prompt-word-bd");if(""==m.val())return n.html("请输入验证码！"),void m.get(0).focus();if(!m.size()||!k.test(m.val()))return n.html("验证码输入错误！"),void m.get(0).focus();if(""==f.trim(j))return n.html("昵称不能为空！"),void i.get(0).focus();if(f.len(f.trim(j))>20)return void n.html("昵称长度不能大于20字符！");d={_input_encode:"UTF-8",nick:j,sign:$(".action-text-dfw").data("sign")||"",vcode:m.val()},$.ajax({url:g,type:"get",dataType:"jsonp",data:d,jsonpCallback:"loginDialogfn",jsonp:"cb",scriptCharset:"utf-8",success:function(a){try{if(3==a.code)return n.html("验证码输入错误！"),l.get(0).click(),void m.get(0).focus();if(6===a.code)return;if(10203==a.error_code)return n.html("昵称含有敏感字符"),void i.get(0).focus();$("#sohu_dialog_visitorLogin").dialog("close"),c._updataUserinfo(b,e)}catch(d){}}})}},_updataUserinfo:function(a,b){var a=a?a:SOHUCS.$textarea,b=b?b:SOHUCS.$btn,c=this,d=a.val();d==c.model.get("defaultText")||""==f.trim(d)?SOHUCS.userinfo&&SOHUCS.userinfo.isSSO?2!=SOHUCS.userinfo.isv_islogin?(SOHUCS.model.userinfoModel.clear({silent:!0}),SOHUCS.model.userinfoModel.fetch({data:{client_id:SOHUCS.clientid},dataType:"jsonp",jsonpCallback:"userinfoFn",scriptCharset:"utf-8",success:function(a,b){a.set({trigger:!a.get("trigger")});try{SOHUCS.userinfo.cy_userinfo=b,SOHUCS.userinfo.isvLogin(function(a){0==a.reload_page&&(a.reload_page=1),a.reload_page&&(SOHUCS.useDiv?location.reload():h.parentRefresh())})}catch(c){}}})):(SOHUCS.model.userinfoModel.clear({silent:!0}),SOHUCS.model.userinfoModel.fetch({data:{client_id:SOHUCS.clientid},dataType:"jsonp",jsonpCallback:"userinfoFn",scriptCharset:"utf-8",success:function(a){a.set({trigger:!a.get("trigger")})}})):(SOHUCS.model.userinfoModel.clear({silent:!0}),SOHUCS.model.userinfoModel.fetch({data:{client_id:SOHUCS.clientid},dataType:"jsonp",jsonpCallback:"userinfoFn",scriptCharset:"utf-8",success:function(a,b){try{b.error_code||a.set({trigger:!a.get("trigger")})}catch(c){}}})):(SOHUCS.model.userinfoModel.clear({silent:!0}),SOHUCS.model.userinfoModel.fetch({data:{client_id:SOHUCS.clientid},dataType:"jsonp",jsonpCallback:"userinfoFn",scriptCharset:"utf-8",success:function(a,d){try{d.error_code||c._postData(b,function(){a.set({trigger:!a.get("trigger")})})}catch(e){}if(SOHUCS.userinfo&&SOHUCS.userinfo.isSSO&&2!=SOHUCS.userinfo.isv_islogin){a.set({trigger:!a.get("trigger")});try{SOHUCS.userinfo.cy_userinfo=d,SOHUCS.userinfo.isvLogin(function(a){0==a.reload_page&&(a.reload_page=1),a.reload_page&&(SOHUCS.useDiv?location.reload():h.parentRefresh())})}catch(e){}}}}))},visitorLoginClickHandle:function(a){e.initDialog($),a.preventDefault(),a.stopPropagation();var b=this,c=a.target,d=($(c),$(c).parents(".block-post-w").find(".textarea-fw")),f=SOHUCS.useDiv?"center":$(c).offset().top,g=function(a){a.preventDefault(),a.stopPropagation();var c=a.target,e=$(c).attr("data-rel"),f=$(c).parents("#sohu_dialog_visitorLogin").find(".verify-action-dw>.action-img-dw>img");switch(e){case"button":b._requestVisitorLogin(c,d),h.clickMonitor("5");break;case"change":f.size()&&f.attr("src","http://plus.sohu.com/a/spassport/vcode?"+Math.floor(1e3*Math.random()))}return!1},i='<div class="clear-g cont-form-dw"><span class="form-name-dw form-name-bd">昵称</span><div class="clear-g form-action-dw "><input type="text" class="action-text-dfw action-text-bdf" value="" name=""></div></div><div class="clear-g cont-verify-dw"><span class="verify-name-dw verify-name-bd">验证码</span><div class="clear-g verify-action-dw"><input type="text" size="4" maxlength="4" class="verify_container action-text-dfw action-text-bdf" value="" name=""><span class="action-img-dw"><img style="width:100px;" width="100" height="25" alt="" src="http://changyan.itc.cn/v2/asset/scs/imgs/vcode.jpg"></span><span class="action-link-dw action-link-bd"><a href="javascript:void(0)" data-rel="change">换一换</a></span></div></div><div class="cont-prompt-dw"><span class="prompt-word-bd"><!--不能超过20字符--></span></div><div class="cont-btn-dw" style="padding-bottom:20px"><a href="javascript:void(0)"><button class="btn-dfw btn-bdf" data-rel="button"></button></a></div>',j={id:"sohu_dialog_visitorLogin",width:400,height:248,title:h.isSohuStyle()?"快速发表":"游客",idClass:"fast-issue-wrap-sohu",dialogClass:"reset-g windows-define-dg visitor-login-wrapper-dw",position:["center",f],modal:!0,beforeClose:function(){$(this).remove()},contentInner:{innerHTML:i,klass:"",handle:g}};document.getElementById("sohu_dialog_visitorLogin")||$("body").append('<div id="sohu_dialog_visitorLogin" style="min-height:500px;"></div>'),$("#sohu_dialog_visitorLogin").dialog(j),b._randomName(),b._renderVerify($("#sohu_dialog_visitorLogin").find(".verify-action-dw>.action-img-dw>img").get(0))},textareaFocusHandle:function(a){a.preventDefault(),a.stopPropagation();var b=a.target;$target=$(b);var c=$target.closest("div");$target.val()===this.model.get("defaultText")&&(b.value="",b.focus()),c.find(".activity-entry-w").size()>0&&c.find(".activity-entry-w").hide(),c.hasClass("area-textarea-e")||c.addClass("area-textarea-e"),SOHUCS.isipad&&document.getElementById("bottombar-wrap-w")&&$("#bottombar-wrap-w").addClass("ipad_input_focus")},textareaBlurHandle:function(a){a.preventDefault(),a.stopPropagation();var b=a.target,c=$(b),d=c.closest("div"),e=c.val();(""==e||/^\s+$/.test(e))&&(b.value=this.model.get("activity_info")?"":this.model.get("defaultText"),d.hasClass("area-textarea-e")&&(SOHUCS.isipad&&$("#bottombar-wrap-w").removeClass("ipad_input_focus"),d.removeClass("area-textarea-e")),d.find(".activity-entry-w").size()>0&&d.find(".activity-entry-w").show(),SOHUCS.isipad&&document.getElementById("bottombar-wrap-w")&&$("#bottombar-wrap-w").removeClass("ipad_input_focus"))},iconClickHandle:function(a){a.preventDefault(),a.stopPropagation();var b=a.target,c=$(b).attr("base-class"),d=$(b).attr("def-id");$(b).hasClass("icon-"+c+"-click-b")?$(b).removeClass("icon-"+c+"-click-b").attr("id-hold",""):$(b).addClass("icon-"+c+"-click-b").attr("id-hold",d)},iconMOverHandle:function(a){a.preventDefault(),a.stopPropagation();var b=a.target,c=$(b).attr("base-class");$(b).hasClass("icon-"+c+"-click-b")||($(b).get(0).className="icon-w icon-"+c+"-b")},iconMOutHandle:function(a){a.preventDefault(),a.stopPropagation();var b=a.target,c=$(b).attr("base-class");$(b).hasClass("icon-"+c+"-click-b")||($(b).get(0).className="icon-w icon-"+c+"-b icon-"+c+"-cancel-b")},faceClickHandle:function(a){var b=this,c=$(a.target),d=c.closest(".cbox-block-w"),e=d.find(".area-textarea-w textarea"),f=i.getCursortPosition(e[0]);return i.init(d,a,f.end),b._changeTab(a),a.stopPropagation(),!1},uploadHoverHandle:function(a){var b=$(a.target);b.closest("li").find(".effect-w").addClass("effect-e")},uploadHandle:function(a){var b=$(a.target);b.closest("li").find(".effect-w").removeClass("effect-e")},replyMsgHandle:function(a){var b=$(a.target),c=b[0].tagName;if("I"==c)this.replyMsgCloseHandle(a);else if(b.hasClass("user-reply-a")){var b=$(a.target),d=SOHUCS.cboxData.info.user_id,e=b.offset();h.sendLog("CLICK-REPLY_PROMPT"),SOHUCS.model.titleModel.trigger("EVT_USER_PAGE",{uid:d,pos:e,place:0}),this.replyMsgCloseHandle(a)}return!1},replyMsgCloseHandle:function(a){var b=$(a.target),c=b.closest(".cbox-prompt-w");c.remove()},_changeTab:function(a){var b=$(".clear-g .function-face-w"),c=$(a.target).parents("li");b.removeClass("function-e"),c.addClass("function-e")},clickPostBtntHandle:function(a){var b=this,c=a.target,d=$(c),e=d.parents(".post-wrap-w").find(".textarea-fw"),g=(SOHUCS.useDiv?"center":d.offset().top,b.model.get("mainBox")),i=b.model.get("cboxDefaultType"),j=d.parents("div.post-wrap-w"),k=h.supportCORS()?1e4:1e3;if(textAreaVal=e.val(),SOHUCS.$btn=b.$el.find(".btn-bf"),SOHUCS.$textarea=b.$el.find(".textarea-fw"),"fixed"!==i){var l,m=g?j.parents("div.cbox-block-w"):j;j.parents("div.section-cbox-w")}if(""==textAreaVal||textAreaVal==b.model.get("defaultText")||/^\s+$/g.test(textAreaVal)||f.len(textAreaVal)>k){if(m&&(l=m.next("div.cbox-prompt-w-alert").get(0)?m.next(".cbox-prompt-w-alert"):$("<div></div>").addClass("cbox-prompt-w-alert cbox-prompt-w").insertAfter(m)),f.len(textAreaVal)>k)l.html('<span class="prompt-empty-w prompt-empty-b">您输入的内容超过'+k+"字符</span>");else if("fixed"!=i)l.html('<span class="prompt-empty-w prompt-empty-b">未输入评论内容</span>'),e.val("").get(0).focus();
else{j.find(".form-text-w").hasClass("form-text-e")||j.find(".form-text-w").addClass("form-text-e");for(var n=1;5>n;n++)!function(a){setTimeout(function(){a%2==0?j.find(".form-text-w").addClass("form-text-e"):j.find(".form-text-w").removeClass("form-text-e")},100*a)}(n);e.val("").get(0).focus()}return void e.unbind("keydown").bind("keydown",function(){l&&l.get(0)&&l.remove(),j.find(".form-text-w").hasClass("form-text-e")&&j.find(".form-text-w").removeClass("form-text-e")})}try{$("#bottombar-wrap-w").hasClass("ipad_input_focus")&&$("#bottombar-wrap-w").removeClass("ipad_input_focus")}catch(o){}if(this.model.get("cy_login"))this._postData(d);else{var p=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/login-dialog/view.js");p.loginCheck(function(){b._postData(d)})}return!1},_postData:function(b,c){if(b){var d=this,e=!1;isMainBox=d.model.get("mainBox"),cboxDefaultType=d.model.get("cboxDefaultType"),$areaWrapper=b.parents("div.post-wrap-w"),topic_id=0,$textAreaObj=$areaWrapper.find(".textarea-fw"),textAreaVal=$textAreaObj.val(),textAreaWidth=$textAreaObj.width(),textAreaHeight=$textAreaObj.height(),textAreaParent=$textAreaObj.parent(),targetDivOffset=isMainBox?$areaWrapper.parents("div.cbox-block-w"):$areaWrapper,targetOtherDiv=$areaWrapper.parents("div.section-cbox-w"),markScoreWrapper=$areaWrapper.find("div.issue-grade-w"),tbWrapper=$areaWrapper.find("div.issue-icon-w"),textAreaVal=textAreaVal||$.trim(b.val()),topic_id=h.getTopicID(),$textAreaObj.val(f.trim(textAreaVal)),d._currentTextareaObj=$textAreaObj;{var i=null,k=null;$("<span></span>").addClass("btn-fw btn-bf btn-load-bf").insertAfter(b)}b.hide(),textAreaVal=h.encode(textAreaVal);var l=encodeURIComponent(h.getTopicTitle())||"",m=h.getTopicUrl()||"",n=tbWrapper.find("span[id-hold]"),o=[];if(n.each(function(){o.push($(this).attr("id-hold"))}),markScoreWrapper.get(0))var p=markScoreWrapper.find(".grade-icon-c").size()||0;var q,r,s=0,t=0,u="",v="",w="";isMainBox?(i={client_id:SOHUCS.clientid,topic_id:topic_id,content:textAreaVal,share_list:o.join("|"),share_content:textAreaVal+"—「"+l+"」"+m},"fixed"==cboxDefaultType&&(i.app_type=10),p&&(i.cmt_score=p)):(e=!0,q=b.parents(".block-cont-gw"),r=b.closest(".build-msg-gw"),v=q.attr("cmtnum"),w=q.attr("datatype"),r.length>0?(s=r.attr("cmtid"),u=r.attr("floornum")):s=q.attr("cmtid"),t=q.attr("cmtid"),i={client_id:SOHUCS.clientid,topic_id:topic_id,content:textAreaVal,share_list:o.join("|"),reply_id:s,reply_cmtid:t,share_content:textAreaVal+"—「"+l+"」"+m},"profile"==cboxDefaultType&&(i.app_type=60,i.topic_id=0));var x=!1,y=!1;$.each(b.closest('div[node-type="cbox-wrapper"]').find('li[node-type="rich-sbtn"]'),function(a,b){var c=$(b);"bold"===c.data("key")&&c.hasClass("function-click-w")&&(x=!0),"color"===c.data("key")&&c.hasClass("function-click-w")&&(y=!0)}),i.cmt_bold=x,i.cmt_color=y,i.dataType=w,i.cmtNum=v,i.floorNum=u,i.attachment_urls=j.getAttachmentUrl($areaWrapper),0==o.length&&(delete i.share_list,delete i.share_content),k=g.parse(g.stringify(i)),k.content=textAreaVal,k.share_content&&(k.share_content=k.share_content);var z={url:a.dev.get("isv:uri:api")+"api/2/comment/submit",type:"post",dataType:"json",data:k,xhrFields:{withCredentials:!0},success:function(a){try{if(a.error_code)return;SOHUCS.rep?(SOHUCS.rep=!1,$areaWrapper.find(".action-function-w").css("visibility","visible")):(SOHUCS.rep=!0,$areaWrapper.find(".action-function-w").css("visibility","inherit")),k.comment_id=a.id,k.metadataAsJson={bold:k.cmt_bold,color:k.cmt_color},k.metadataAsJson.color&&(k.metadataAsJson.color=d.model.toJSON().isColor),setTimeout(function(){d.model.get("upage")?Backbone.Events.trigger("EVT_UPAGE_POST_SUCCESS"):Backbone.Events.trigger("CUSTOM_EVT_POST_COMMENT_SUCCESS",k,isMainBox)},0),$areaWrapper.parents(".section-cbox-w").find(".cbox-prompt-w-alert").size()>0&&$areaWrapper.parents(".section-cbox-w").find(".cbox-prompt-w-alert").remove(),jQuery&&jQuery("body").trigger("cySubmitSuccess"),d.postSuccessHandle(a,{$target:b,ajaxData:i,isMainBox:isMainBox,comm_reply:e,$textAreaObj:$textAreaObj,targetDivOffset:targetDivOffset},c)}catch(f){}},error:function(){}};h.supportCORS()?(z.type="post",z.dataType="json"):(z.type="get",z.dataType="jsonp",delete z.xhrFields),$.ajax(z)}},postSuccessHandle:function(a,c,d){$target=c.$target,$textAreaObj=c.$textAreaObj,ajaxData=c.ajaxData,comm_reply=c.comm_reply,targetDivOffset=c.targetDivOffset,isMainBox=c.isMainBox,markScoreWrapper=$areaWrapper.find("div.issue-grade-w"),$target.parent().find(".btn-load-bf").remove(),$target.show(),$textAreaObj.val(""),$textAreaObj.get(0).focus(),j.postSuccessHandle($target),markScoreWrapper.get(0)&&markScoreWrapper.find(".grade-icon-c").removeClass("grade-icon-c"),SOHUCS.userinfo.isSSO||(h.setVisitorCookie(),h.bindOtherPlateform(targetDivOffset,e,b)),d&&d()},_renderVerify:function(a){if(a){var b=Math.floor(1e3*Math.random()),c="http://plus.sohu.com/a/spassport/vcode";$(a).attr("src",c+"?"+b)}},_randomName:function(){setTimeout(function(){h.randomNickname(function(a){$(".action-text-dfw").eq(0).val(a.nickname||""),$(".action-text-dfw").eq(0).data("sign",a.sign)})},0)},_quitPreDialog:function(){$(".sohucs-ui-dialog").size()&&($(".sohucs-ui-dialog").remove(),$("#sohu_dialog_visitorLogin").remove()),$(".sohucs-ui-widget-overlay").size()&&$(".sohucs-ui-widget-overlay").remove()},_insertAlertBar:function(a){a.target},toggleRichKey:function(a){{var b=$(a.target).closest('div[node-type="cbox-wrapper"]'),c=$(a.target).closest('li[node-type="rich-sbtn"]'),d=c.data("key");SOHUCS.useDiv?"center":c.offset().top}if(c.hasClass("function-disable-w"))if(this.model.get("cy_login"))b.find('div[node-type="prompt-no-privilege"]').show();else{var e=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/login-dialog/view.js");e.loginCheck()}else{c.hasClass("function-click-w")?c.removeClass("function-click-w"):(b.find('li[node-type="rich-sbtn"]').removeClass("function-click-w"),c.addClass("function-click-w")),"bold"===d&&k.set("SOHUCY-IsPriBoldNew",!0),"color"===d&&k.set("SOHUCY-IsPriColorNew",!0);var f=c.find('div[node-type="new-icon"]');f.length&&f.hide()}},showPrivilegeIntro:function(a){var b=$(a.target),c=SOHUCS.cboxData.info.user_id,d=b.closest(".section-title-loginStyle").position();c&&"0"!=c&&SOHUCS.model.titleModel.trigger("EVT_USER_PAGE",{uid:c,pos:d,place:"LEVEL_TEXT"})},userAvatar:function(){SOHUCS.model.titleModel.trigger("EVT_USER_PAGE",{uid:SOHUCS.cboxData.info.user_id,place:0})}});return l}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/cboxModel.js",function(require){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),b=(require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/underscore.js")),c=SOHUCS.nodeData.configData.data,d=Backbone.Model.extend({defaults:{cboxDefaultType:"simple",isSSOFromLogoData:!1,avatar:c.globalSite.defaultIcon||"",showAvatar:!0,profile_url:"javascript:void(0)",defaultText:decodeURIComponent(a.dev.get("isv:config:comment_notice"))||"我来说两句。。。",isShowWeibo:function(){return 2==SOHUCS.cboxData.platform_class},mainBox:!0,hasPassport:!1,cy_login:!1,anonymous:c.module.login.anonymous,allowVisitor:!1,showPlatform:!1,isScore:!1,allowUploadImg:c.globalSite.allowUploadImg,nickname:function(){return nickname=SOHUCS.model.userinfoModel.get("nickname")?SOHUCS.model.userinfoModel.get("nickname"):!1},map:{1:{name:"搜狐微博",shortName:"搜狐登录",className:"sohu",winWidth:100,winHeight:100,display:"none"},2:{name:"新浪微博",shortName:"微博登录",className:"sina",winWidth:754,winHeight:537,display:"block"},3:{name:"QQ",shortName:"QQ登录",className:"qq",winWidth:800,winHeight:520,display:"block"},4:{name:"腾讯微博",shortName:"腾讯登录",className:"qq",winWidth:640,winHeight:480,display:"none"},5:{name:"网易微博",shortName:"网易登录",className:"163",winWidth:960,winHeight:645,display:"none"},6:{name:"人人网",shortName:"人人登录",className:"renren",winWidth:645,winHeight:415,display:"block"},7:{name:"百度",shortName:"百度登录",className:"baidu",winWidth:532,winHeight:336,display:"none"},8:{name:"豆瓣",shortName:"豆瓣登录",className:"douban",winWidth:532,winHeight:640,display:"none"},9:{name:"开心",shortName:"开心登录",className:"kaixin",winWidth:100,winHeight:100,display:"none"},10:{name:"淘宝",shortName:"淘宝登录",className:"taobao",winWidth:532,winHeight:390,display:"none"},11:{name:"搜狐",shortName:"搜狐登录",className:"sohu",winWidth:580,winHeight:424,display:"block",hideBind:"true"}}},initialize:function(){var b=a.dev.get("isv:config");"true"===b.sso&&this.set("isSSOFromLogoData",{ssoButtonActionType:b.sso_button_action_type,isvLogoUrl:b.sso_login_logo})},updateConfData:function(a){var c=this,a=a,d=[],e=a;if(a.type&&a.info&&"config"===a.type){var f=a.info;b.each(f,function(a){var e=b.extend({platform_id:a,client_id:SOHUCS.clientid},c.defaults.map[a]);d.push(e)});var g={list:d};e=g}else e.info.passports&&e.info.passports.length&&b.each(e.info.passports,function(a){for(var d in c.defaults.map)a.platform_id==d&&b.extend(a,{sub_platform_class:c.defaults.map[d].className})}),e=b.extend(e,{platform_class:e.info.platform_id,shortNickname:e.info.nickname});return e}});return d}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/userinfoModel.js",function(require){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),b=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/underscore.js"),c=Backbone.Model.extend({url:a.dev.get("isv:uri:api")+"api/2/user/info",defaults:{trigger:!1},initialize:function(){b.bindAll(this,"reset"),this.bind("change:trigger",this.reset)},reset:function(){SOHUCS.model.userinfoModel.trigger("EVT_CHANGE",this)}});return c}),SOHUCS.model={},SOHUCS.userinfo=SOHUCS.userinfo||{},SOHUCS.model.userinfoModel={},SOHUCS.model.cboxModel={},SOHUCS.connName="connName"+Math.floor(1e4*Math.random()),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/main.js",function(require,exports){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),b=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/userinfoModel.js"),c=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/cboxModel.js"),d=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/cbox/cboxView.js"),e=(require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/underscore.js"),require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/list/listFloorView.js").ListView),f=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/title/titleView.js"),g=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/title/titleModel.js"),h=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/upage/userPageCollection.js"),$=(require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/mustache.js"),require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js")),Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),i=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js"),j=SOHUCS.userinfo.isSSO?require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/sso.js"):{init:function(){}};exports.init=function(){function k(a){0===a.get("user_type")&&a.set("nickname_commentsum",[a.get("nickname")||"",a.get("user_id"),a.get("comment_sum")||0])}function l(a){return a.get("error_code")?(SOHUCS.cy_login=1,SOHUCS.cboxData={type:"config",info:SOHUCS.config.sys.module.login.platform},a.set({cy_login:!1})):(k(a),SOHUCS.cy_login=2,SOHUCS.cboxData={type:"user",info:a.toJSON()},a.set({cy_login:!0})),SOHUCS.cboxData}Backbone.Events.trigger("CUSTOM_EVT_MAIN_INIT"),Backbone.Events.on("CUSTOM_EVT_LOGIN_UPDATE",function(a){SOHUCS.reset(a)}),g||window.location.reload();var m,n,o,p,q,r,s=SOHUCS.model.titleModel=new g,t=SOHUCS.model.cboxModel=new c,u=(SOHUCS.cboxData={},SOHUCS.model.userinfoModel=new b,!1),v=!1;SOHUCS.nodeData.listData.activity_info&&"ok"==SOHUCS.nodeData.listData.activity_info.result?(r=SOHUCS.nodeData.listData.activity_info,activity_position=parseInt(r.position)):(r=!1,activity_position=-1),function(){try{var a,b=/OS\s+\d_\d/g,c=b.exec(window.navigator.userAgent),d=c&&c[0]&&c[0].match(/\d/g);if(d&&d.length>1&&(a=parseInt(d[0]+d[1]),71>a))try{SOHUCS.nodeData.configData.data.module.login.anonymous=!1}catch(e){}}catch(e){}}();try{var w,x="cyqemw6s1,cy2zl3dw1MzA,cy2ziwlQkxIt",y=new RegExp("\\b"+SOHUCS.clientid+"\\b","g"),w=y.test(x)?!0:!1;v=SOHUCS.config.sys.module.cbox.footerFixCbox||w}catch(z){v=!1}var q=SOHUCS.config.sys._config&&SOHUCS.config.sys._config.showScore?!0:!1;a.dev.get("isv:displayFloatBar")===!1&&(v=0),function(b){if(b){var c=document.createElement("link"),d=document.getElementsByTagName("head")[0]||document.head;c.type="text/css",c.rel="stylesheet",c.href=a.dev.get("isv:uri:res2")+"asset/scs/css/changyan2-floatCbox-frame.css",d.insertBefore(c,d.firstChild)}}(v),function(b){if(b){var c=document.createElement("link"),d=document.getElementsByTagName("head")[0]||document.head;c.type="text/css",c.rel="stylesheet",c.href=SOHUCS.skinFloatCbox||a.dev.get("isv:uri:res2")+"asset/scs/css/skin/default/changyan2-floatCbox.css",d.insertBefore(c,d.firstChild)}}(v),m=new f({model:s}),SOHUCS.model.titleModel.on("EVT_USER_PAGE",function(a){h.getUserData(a)});var A=SOHUCS.config.sys._config&&SOHUCS.config.sys._config.varName?SOHUCS.config.sys._config.varName:"",B=""!=A&&SOHUCS.config.sys._config.jumpUrl?SOHUCS.config.sys._config.jumpUrl.replace(/\[.+\]/g,A):"";if(SOHUCS.model.userinfoModel.on("EVT_CHANGE",function(b){var c=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/data-center.js");l(b);var d=t.updateConfData(SOHUCS.cboxData),e=1==parseInt(SOHUCS.config.sys.globalSite.allowUploadImg)?!0:!1,f=2==c.get("isv:config:sso_type")?!1:!0;1===SOHUCS.cy_login?(t.set({avatar:SOHUCS.nodeData.configData.data.globalSite.defaultIcon,_data:d,cboxDefaultType:"1"===a.dev.get("isv:config:simple_cbox")||a.dev.get("isv:simpleCbox")===!0?"simple":"main",profile_url:"javascript:void(0)",target:"_self",showPlatform:f,cy_login:!1,isScore:q,isBold:!1,isColor:!1,isUseUserLevel:SOHUCS.nodeData.configData.data.globalSite.useUserLevel,hasPassport:!1,visitorText:SOHUCS.nodeData.configData.extend&&SOHUCS.nodeData.configData.extend.node&&"comm"==SOHUCS.nodeData.configData.extend.node.path?"快速发表":"游客",allowImg:e,activity_info:r,activity_position:0===activity_position||2===activity_position?!0:!1,anonymous:SOHUCS.nodeData.configData.data.module.login.anonymous}),s.set({cy_login:!1,jumpPage:B})):2===SOHUCS.cy_login&&(t.set({avatar:d.info.img_url||t.get("avatar"),profile_url:""!=d.info.profile_url?d.info.profile_url:"javascript:void(0)",target:""!=d.info.profile_url?"_blank":"_self",hasPassport:d.info.passports&&!!d.info.passports.length,cboxDefaultType:"main",cy_login:!0,url:location.host,connName:SOHUCS.connName,_data:d,isScore:q,allowImg:e,activity_info:r,activity_position:0===activity_position||2===activity_position?!0:!1,nickname:b.get("nickname")}),s.set({cy_login:!0,nickname:b.get("nickname"),hideHeight:!1,jumpPage:B,avatar:SOHUCS.nodeData.configData.data.globalSite.defaultIcon}),setTimeout(function(){0==$(".section-cbox-w").eq(0).find(".cbox-prompt-w-replyCount").size()&&b.get("latest_reply_sum")>0&&$(".section-cbox-w").eq(0).append('<div class="cbox-prompt-w cbox-prompt-w-replyCount"><a href="javascript:void(0)" class="prompt-reply-w user-reply-a"><span class="prompt-close-w user-replay-close"><i class="close-img-w close-img-b"></i></span><span class="prompt-reply-w prompt-reply-b user-reply-a">您收到<em class="reply-number-w">'+b.get("latest_reply_sum")+"</em>条新回复</span></a></div>");var a=!!SOHUCS.nodeData.configData.data.globalSite.useUserLevel;a&&0==$(".section-cbox-w").eq(0).find(".cbox-prompt-w-levelUp").size()&&b.get("userScore")&&b.get("userScore").levelUp>0&&$(".section-cbox-w").eq(0).append('<div class="cbox-prompt-w cbox-prompt-w-levelUp"><a href="javascript:void(0)" class="prompt-reply-w user-reply-a"><span class="prompt-close-w user-replay-close"><i class="close-img-w close-img-b"></i></span><span class="prompt-reply-w prompt-reply-b user-reply-a">恭喜您升至<em class="reply-number-w">'+b.get("userScore").level+"</em>级，获得"+b.get("userScore").title+"头衔</span></a></div>")},300)),i.objectAVoid(),i.resetIframeHeight(!0),SOHUCS.model.cboxModel.trigger("EVT_CBOX_FIRST_RENDER")}),j.init(),SOHUCS.reset=function(a){var b=!1,c=!1,d=function(){SOHUCS.userinfo.isSSO||(c=!0),b===!0&&c===!0&&(SOHUCS.userinfo.isSSO?SOHUCS.userinfo.cyIsvHandle(a):(SOHUCS.model.userinfoModel.set({trigger:!SOHUCS.model.userinfoModel.get("trigger")}),a&&a()))};SOHUCS.model.userinfoModel.clear({silent:!0}),SOHUCS.model.userinfoModel.fetch({data:{client_id:SOHUCS.clientid},dataType:"jsonp",scriptCharset:"utf-8",jsonpCallback:"userinfoFn"+Math.ceil(1e3*Math.random()),success:function(a,c){try{SOHUCS.cy_login=c.error_code?1:2,b=!0,d()}catch(e){}}});var e=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/sso.js");SOHUCS.userinfo.isSSO&&e.isvGetUserinfo(function(){c=!0,d()})},SOHUCS.reset(),n=new d({model:t}),!SOHUCS.config.sys.module.cbox.goldCoinCbox)try{n.marketingEntry()}catch(z){}try{p=new e}catch(z){}!function(){if(u=SOHUCS&&SOHUCS.config&&SOHUCS.config.sys&&SOHUCS.config.sys._config&&SOHUCS.config.sys._config.cbox&&SOHUCS.nodeData&&SOHUCS.nodeData.listData&&SOHUCS.nodeData.listData.cmt_sum&&SOHUCS.nodeData.listData.cmt_sum>5?!0:!1){{$('<div id="'+SOHUCS.config.sys._config.cbox+'"></div>').insertBefore(document.getElementById("powerby_sohu"))}o=new d({model:t,el:document.getElementById(SOHUCS.config.sys._config.cbox)})}}(),function(){if(v){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/float-bar/view.js");if($("body").append(a.$el),SOHUCS.model.userinfoModel.on("EVT_CHANGE",function(){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/float-bar/model.js"),b={commentNum:SOHUCS.model.listModel.get("cmt_sum"),cy_login:1===SOHUCS.cy_login?!1:!0,nickname:SOHUCS.model.titleModel.get("nickname"),defaultText:SOHUCS.model.cboxModel.get("defaultText"),loginList:{}};try{var c=SOHUCS.model.cboxModel.get("_data").list;$.each(c,function(a,c){b.loginList[c.className]=!0})}catch(d){}a.set(b)}),!$.browser.msie)try{var b=setInterval(function(){var a=$(".sogou_sugg_feedbackquan:visible");a.length>0&&(clearInterval(b),$("#changyan_floatbar_wrapper .close-w a").get(0).click())},1e3);setTimeout(function(){clearInterval(b)},1e4)}catch(c){}}}(),i.objectAVoid(),function(){var a=SOHUCS.nodeData.listData.activity_info.advertJsUri||"";""!=a&&$.ajax({type:"GET",url:a,dataType:"script",scriptCharset:"utf-8",success:function(){}})}(),require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/hot-list/view.js"),a.dev.get("isv:smallerVersion")===!0&&$("#SOHUCS #list_sohu").hide().nextAll().attr("style","display: none !important;"),function(){$.ajax({dataType:"script",url:"http://changyan.itc.cn/activity/activity_js/changyan_config.js",scriptCharset:"utf-8"})}(),window.setTimeout(function(){Backbone.Events.trigger("CUSTOM_EVT_READY")},1500)}}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/adapter/cyrAvpLyq.js",function(require){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),b=a.dev.get("isv:appid");if("cyrAvpLyq"===b){a.dev.set("isv:config:comment_notice","Leave your comment here ...");var c={"评论":"Comments","x人参与":" people participating","x条评论":" comments","登录":"Login","微博登录":"Weibo","QQ登录":"QQ","游客":"Visitor","我的畅言":"changyan","退出":"exit","同步：":"synchronizing:","最新评论":"Latest comment","最热评论":"Most popular comment","回复":"Reply","分享":"Share","顶":"thumbs-up","踩":"thumbs-down","还没有评论，快来抢沙发吧！":"no comments !","上一页":"Previous","下一页":"Next","畅言":"changyan","查看":"Skim ","热门话题":"Most popular topic"};Backbone.Events.on("CUSTOM_EVT_TITLE_VIEW_RENDER",function(){var a=$("#SOHUCS");try{var b=a.find("#article_info_sohu");b.find("strong.wrap-name-w.wrap-name-b").html(c["评论"]),b.find('span[node-type="involved"]').html(c["x人参与"]),b.find('span[node-type="comments"]').html(c["x条评论"]),b.find("div.title-user-w .wrap-menu-dw.wrap-menu-bd i.gap-dgw").html(c["我的畅言"]),b.find("div.title-user-w .wrap-menu-dw.wrap-menu-bd i.gap-dgw.gap-bdg").html(c["退出"]);var d=a.find("div#comment_sohu");d.find('a[data-key="sso"] span.wrap-name-w.wrap-name-b').html(c["登录"]),d.find('a[data-key="sina"] span.wrap-name-w.wrap-name-b').html(c["微博登录"]),d.find('a[data-key="qq"] span.wrap-name-w.wrap-name-b').html(c["QQ登录"]),d.find('a[data-key="visitor"] span.wrap-name-w.wrap-name-b').html(c["游客"])}catch(e){}}),Backbone.Events.on("CUSTOM_EVT_CBOX_VIEW_RENDER",function(a){$("#SOHUCS");try{var b=a;b.find("div.action-function-w.action-function-b.relative-z-w li.function-face-w").hide(),b.find("div.action-issue-w li.icon-name-w strong").html(c["同步："]),b.find("button.btn-fw-main").bind("click",function(){window.setTimeout(function(){var a=b.find(".cbox-prompt-w-alert.cbox-prompt-w .prompt-empty-w.prompt-empty-b");0!==a.length&&"未输入评论内容"===a.html()&&a.html("You don't leave a message.")},0)})}catch(d){}});var d=function(){var a=$("#SOHUCS");try{var b=a.find("#list_sohu");b.find("div.list-newest-w strong.title-name-gw.title-name-bg").html(c["最新评论"]),b.find("div.list-hot-w strong.title-name-gw.title-name-bg").html(c["最热评论"]),b.find("a.evt-reply").html(c["回复"]),b.find("a.evt-share").html(c["分享"]),b.find("span.click-ding-gw a").attr("title",c["顶"]),b.find("span.click-cai-gw a").attr("title",c["踩"]),b.find("div.empty-prompt-w span.prompt-null-w").html(c["还没有评论，快来抢沙发吧！"]),b.find("span.user-address-gw").hide(),b.find("span.evt-time, span.user-time-gw.user-time-bg").each(function(a,b){var c=$(b),d=c.data("date");d?(d=new Date(d),c.html(d.getUTCFullYear()+"-"+(d.getUTCMonth()+1)+"-"+d.getUTCDate()+" "+d.getUTCHours()+":"+d.getUTCMinutes()+":"+d.getUTCSeconds())):c.html("")})}catch(d){}};Backbone.Events.on("CUSTOM_EVT_LIST_VIEW_RENDER",function(){d();var a=$("#SOHUCS");try{var b=a.find("#page_sohu");b.find("a.wrap-prev-w.wrap-prev-b").html(c["上一页"]),b.find("a.wrap-next-w.wrap-next-b").html(c["下一页"]),a.find("#powerby_sohu a").html("powered by "+c["畅言"])}catch(e){}}),Backbone.Events.on("CUSTOM_EVT_POST_COMMENT_SUCCESS",function(){window.setTimeout(function(){d()},0)}),Backbone.Events.on("CUSTOM_EVT_FLOAT_BAR_RENDER",function(a){$("#SOHUCS");try{a.find("a.comment-link-w").html(a.find("a.comment-link-w").html().replace("查看",c["查看"]).replace("条评论",c["x条评论"])),a.find('ul[node-type="login-list"] li.first-w').width(55).find("span").html(c["登录"]+": "),a.find("a.floatbar_quit").html(c["退出"])}catch(b){}}),Backbone.Events.on("CUSTOM_EVT_LOGIN_DIALOG_RENDER",function(){var a=($("#SOHUCS"),$("#changyan_dialog_wrapper"));try{$("#sohucs-ui-dialog-title-changyan_dialog_wrapper").html(c["登录"]),a.find('div[node-type="login-list"] a[data-key="sina"] span.wrap-name-w.wrap-name-b').html(c["微博登录"]),a.find('div[node-type="login-list"] a[data-key="qq"] span.wrap-name-w.wrap-name-b').html(c["QQ登录"]),a.find("div.cont-visitor-dw.cont-visitor-bd .visitor-title-dw .title-name-dw.title-name-bd").html(c["游客"])}catch(b){}}),Backbone.Events.on("CUSTOM_EVT_USER_PAGE_RENDER",function(){$("#user_page").remove(),$("body").find(".cy_screen_cover").remove()}),function(){try{var b=a.dev.get("isv:uri:res")+"src/widget/adapter/cyrAvpLyq/",c="#SOHUCS #SOHU_MAIN .section-cbox-w button.btn-fw";c+='{ background-image: url("'+b+'cyrAvpLyq.gif") !important; }',c+="#SOHUCS #SOHU_MAIN span.btn-fw.btn-bf.btn-load-bf",c+='{ background-image: url("'+b+'cyrAvpLyq.gif") !important; }',c+="#changyan_floatbar_wrapper #bottombar-wrap-w .wrap-cont-w .cont-form-w .form-text-w .button-w",c+='{ background-image: url("'+b+'cyrAvpLyq.gif") !important; }';var d=document.createElement("style");d.type="text/css",$.browser.msie?d.styleSheet.cssText=c:d.innerHTML=c,document.body.appendChild(d)}catch(e){}}()}}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/adapter/cyqE875ep.js",function(require){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),b=a.dev.get("isv:appid");Backbone.Events.on("CUSTOM_EVT_USER_PAGE_RENDER",function(){"cyqE875ep"===b&&($("#user_page").remove(),$("body").find(".cy_screen_cover").remove())})}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/util.js",function(require,exports,module){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),b=(require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),{formatListDateText:function(a,c,d){$.each(a,function(e){try{a[e][d]=b.formatDateText(a[e][c])}catch(f){}})},formatDateText:function(a){var b,c=parseInt(a,10),d=new Date,e=d.getTime(),f=new Date(c),g=f.getMonth()+1,h=parseInt(f.getDate()),i=f.getFullYear(),j=f.getHours(),k=f.getMinutes(),l=36e5,m=3e5,n="",o=d.toLocaleDateString(e)==f.toLocaleDateString(c)?!0:!1;return o?d-f>=m&&l>d-f?(b=parseInt((d-f)/1e3/60),n=b+"分钟前"):m>d-f?n="刚刚":d-f>l&&(n="今日"+j+":"+(k>=10?k:"0"+k)):d-f>=m&&l>d-f?(b=parseInt((d-f)/1e3/60),n=b+"分钟前"):m>d-f?n="刚刚":d-f>l&&(n=i+"年"+g+"月"+h+"日 "+j+":"+(k>=10?k:"0"+k)),n},loadCss:function(b,c){for(var d=0;d<arguments.length-1;d++){var e=document.createElement("link"),f=b.getElementsByTagName("head")[0]||b.head;e.type="text/css",e.rel="stylesheet",e.href=a.dev.get("isv:uri:res2")+c,f.appendChild(e,f.firstChild)}},loadJs:function(a,b,c){var d=c.getElementsByTagName("head")[0]||c.head||c.documentElement,e=c.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("charset","UTF-8"),e.setAttribute("src",a),"function"==typeof b&&(window.attachEvent?e.onreadystatechange=function(){var a=e.readyState;("loaded"===a||"complete"===a)&&(e.onreadystatechange=null,b())}:e.onload=b),d.appendChild(e)},upper:function(a){if("string"!=typeof a)return"";for(var b=/^[a-z]$/,c="",d=0;d<a.length;d++)c+=b.test(a.charAt(d))?String.fromCharCode(a.charCodeAt(d)-32):a.charAt(d);return c}});module.exports=b}),define("D:/Www/sohu/cyf/v2.5/tmp-build/lib/cookie.js",function(require,exports,module){module.exports={get:function(a,b){for(var c=a+"=",d=c.length,e=document.cookie.length,f=0,g=0;e>f;){if(g=f+d,document.cookie.substring(f,g)==c)return this.getCookieVal(g,b);if(f=document.cookie.indexOf(" ",f)+1,0==f)break}return null},set:function(a,b,c,d,e,f){var g=arguments,h=arguments.length,i=new Date,c=h>2?g[2]:new Date(i.getFullYear(),i.getMonth()+1,i.getUTCDate()),d=h>3?g[3]:"/",e=h>4?g[4]:"",f=h>5?g[5]:!1;document.cookie=a+"="+escape(b)+(null==c?"":"; expires="+c.toGMTString())+(null==d?"":"; path="+d)+(null==e?"":"; domain="+e)+(1==f?"; secure":"")},remove:function(a){this.get(a)&&this.set(a,"",new Date(1970,1,1))},getCookieVal:function(a,b){var c=document.cookie.indexOf(";",a);return-1==c&&(c=document.cookie.length),0==b?document.cookie.substring(a,c):unescape(document.cookie.substring(a,c))},cookie:function(a,b,c){try{if(arguments.length>1&&"[object Object]"!==String(b)){if((null===b||void 0===b)&&(c.expires=-1),"number"==typeof c.expires){var d=c.expires,e=c.expires=new Date;e.setDate(e.getDate()+d)}return b=String(b),document.cookie=[encodeURIComponent(a),"=",c.raw?b:encodeURIComponent(b),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}c=b||{};var f,g=c.raw?function(a){return a}:decodeURIComponent;return(f=new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)").exec(document.cookie))?g(f[1]):null}catch(h){}}}}),define("D:/Www/sohu/cyf/v2.5/tmp-build/lib/json2.js",function(require,exports,module){var JSON;JSON||(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),module.exports=JSON}),define("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js",function(){!function(a,b){function c(a){return K.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}function d(a){if(!tc[a]){var b=H.body,c=K("<"+a+">").appendTo(b),d=c.css("display");c.remove(),("none"===d||""===d)&&(pc||(pc=H.createElement("iframe"),pc.frameBorder=pc.width=pc.height=0),b.appendChild(pc),qc&&pc.createElement||(qc=(pc.contentWindow||pc.contentDocument).document,qc.write(("CSS1Compat"===H.compatMode?"<!doctype html>":"")+"<html><body>"),qc.close()),c=qc.createElement(a),qc.body.appendChild(c),d=K.css(c,"display"),b.removeChild(pc)),tc[a]=d}return tc[a]}function e(a,b){var c={};return K.each(wc.concat.apply([],wc.slice(0,b)),function(){c[this]=a}),c}function f(){sc=b}function g(){return setTimeout(f,0),sc=K.now()}function h(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function i(){try{return new a.XMLHttpRequest}catch(b){}}function j(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d,e,f,g,h,i,j,k,l=a.dataTypes,m={},n=l.length,o=l[0];for(d=1;n>d;d++){if(1===d)for(e in a.converters)"string"==typeof e&&(m[e.toLowerCase()]=a.converters[e]);if(g=o,o=l[d],"*"===o)o=g;else if("*"!==g&&g!==o){if(h=g+" "+o,i=m[h]||m["* "+o],!i){k=b;for(j in m)if(f=j.split(" "),(f[0]===g||"*"===f[0])&&(k=m[f[1]+" "+o])){j=m[j],j===!0?i=k:k===!0&&(i=j);break}}!i&&!k&&K.error("No conversion from "+h.replace(" "," to ")),i!==!0&&(c=i?i(c):k(j(c)))}}return c}function k(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);for(;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));
if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function l(a,b,c,d){if(K.isArray(b))K.each(b,function(b,e){c||Tb.test(a)?d(a,e):l(a+"["+("object"==typeof e||K.isArray(e)?b:"")+"]",e,c,d)});else if(c||null==b||"object"!=typeof b)d(a,b);else for(var e in b)l(a+"["+e+"]",b[e],c,d)}function m(a,c){var d,e,f=K.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&K.extend(!0,a,e)}function n(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===gc;k>j&&(l||!h);j++)h=i[j](c,d,e),"string"==typeof h&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=n(a,c,d,e,h,g)));return(l||!h)&&!g["*"]&&(h=n(a,c,d,e,"*",g)),h}function o(a){return function(b,c){if("string"!=typeof b&&(c=b,b="*"),K.isFunction(c))for(var d,e,f,g=b.toLowerCase().split(cc),h=0,i=g.length;i>h;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function p(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e="width"===b?Ob:Pb,f=0,g=e.length;if(d>0){if("border"!==c)for(;g>f;f++)c||(d-=parseFloat(K.css(a,"padding"+e[f]))||0),"margin"===c?d+=parseFloat(K.css(a,c+e[f]))||0:d-=parseFloat(K.css(a,"border"+e[f]+"Width"))||0;return d+"px"}if(d=Eb(a,b,b),(0>d||null==d)&&(d=a.style[b]||0),d=parseFloat(d)||0,c)for(;g>f;f++)d+=parseFloat(K.css(a,"padding"+e[f]))||0,"padding"!==c&&(d+=parseFloat(K.css(a,"border"+e[f]+"Width"))||0),"margin"===c&&(d+=parseFloat(K.css(a,c+e[f]))||0);return d+"px"}function q(a,b){b.src?K.ajax({url:b.src,async:!1,dataType:"script"}):K.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Bb,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function r(a){var b=H.createElement("div");return Db.appendChild(b),b.innerHTML=a.outerHTML,b.firstChild}function s(a){var b=(a.nodeName||"").toLowerCase();"input"===b?t(a):"script"!==b&&"undefined"!=typeof a.getElementsByTagName&&K.grep(a.getElementsByTagName("input"),t)}function t(a){("checkbox"===a.type||"radio"===a.type)&&(a.defaultChecked=a.checked)}function u(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function v(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?b.outerHTML=a.outerHTML:"input"!==c||"checkbox"!==a.type&&"radio"!==a.type?"option"===c?b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue):(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)),b.removeAttribute(K.expando))}function w(a,b){if(1===b.nodeType&&K.hasData(a)){var c,d,e,f=K._data(a),g=K._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)K.event.add(b,c+(h[c][d].namespace?".":"")+h[c][d].namespace,h[c][d],h[c][d].data)}g.data&&(g.data=K.extend({},g.data))}}function x(a){return K.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function y(a){var b=qb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function z(a,b,c){if(b=b||0,K.isFunction(b))return K.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return K.grep(a,function(a){return a===b===c});if("string"==typeof b){var d=K.grep(a,function(a){return 1===a.nodeType});if(mb.test(b))return K.filter(b,d,!c);b=K.filter(b,d)}return K.grep(a,function(a){return K.inArray(a,b)>=0===c})}function A(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function B(){return!0}function C(){return!1}function D(a,b,c){var d=b+"defer",e=b+"queue",f=b+"mark",g=K._data(a,d);!(!g||"queue"!==c&&K._data(a,e)||"mark"!==c&&K._data(a,f)||!setTimeout(function(){!K._data(a,e)&&!K._data(a,f)&&(K.removeData(a,d,!0),g.fire())},0))}function E(a){for(var b in a)if(("data"!==b||!K.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function F(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(O,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:K.isNumeric(d)?parseFloat(d):N.test(d)?K.parseJSON(d):d}catch(f){}K.data(a,c,d)}else d=b}return d}function G(a){var b,c,d=L[a]={};for(a=a.split(/\s+/),b=0,c=a.length;c>b;b++)d[a[b]]=!0;return d}var H=a.document,I=a.navigator,J=a.location,K=function(){function c(){if(!h.isReady){try{H.documentElement.doScroll("left")}catch(a){return void setTimeout(c,1)}h.ready()}}var d,e,f,g,h=function(a,b){return new h.fn.init(a,b,d)},i=a.jQuery,j=a.$,k=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,l=/\S/,m=/^\s+/,n=/\s+$/,o=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,p=/^[\],:{}\s]*$/,q=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,r=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,s=/(?:^|:|,)(?:\s*\[)+/g,t=/(webkit)[ \/]([\w.]+)/,u=/(opera)(?:.*version)?[ \/]([\w.]+)/,v=/(msie) ([\w.]+)/,w=/(mozilla)(?:.*? rv:([\w.]+))?/,x=/-([a-z]|[0-9])/gi,y=/^-ms-/,z=function(a,b){return(b+"").toUpperCase()},A=I.userAgent,B=Object.prototype.toString,C=Object.prototype.hasOwnProperty,D=Array.prototype.push,E=Array.prototype.slice,F=String.prototype.trim,G=Array.prototype.indexOf,J={};return h.fn=h.prototype={constructor:h,init:function(a,c,d){var e,f,g,i;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!c&&H.body)return this.context=H,this[0]=H.body,this.selector=a,this.length=1,this;if("string"==typeof a){if(e="<"!==a.charAt(0)||">"!==a.charAt(a.length-1)||a.length<3?k.exec(a):[null,a,null],e&&(e[1]||!c)){if(e[1])return c=c instanceof h?c[0]:c,i=c?c.ownerDocument||c:H,g=o.exec(a),g?h.isPlainObject(c)?(a=[H.createElement(g[1])],h.fn.attr.call(a,c,!0)):a=[i.createElement(g[1])]:(g=h.buildFragment([e[1]],[i]),a=(g.cacheable?h.clone(g.fragment):g.fragment).childNodes),h.merge(this,a);if(f=H.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=H,this.selector=a,this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}return h.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),h.makeArray(a,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return E.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();return h.isArray(a)?D.apply(d,a):h.merge(d,a),d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return h.each(this,a,b)},ready:function(a){return h.bindReady(),f.add(a),this},eq:function(a){return a=+a,-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(E.apply(this,arguments),"slice",E.call(arguments).join(","))},map:function(a){return this.pushStack(h.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:D,sort:[].sort,splice:[].splice},h.fn.init.prototype=h.fn,h.extend=h.fn.extend=function(){var a,c,d,e,f,g,i=arguments[0]||{},j=1,k=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[1]||{},j=2),"object"!=typeof i&&!h.isFunction(i)&&(i={}),k===j&&(i=this,--j);k>j;j++)if(null!=(a=arguments[j]))for(c in a)d=i[c],e=a[c],i!==e&&(l&&e&&(h.isPlainObject(e)||(f=h.isArray(e)))?(f?(f=!1,g=d&&h.isArray(d)?d:[]):g=d&&h.isPlainObject(d)?d:{},i[c]=h.extend(l,g,e)):e!==b&&(i[c]=e));return i},h.extend({noConflict:function(b){return a.$===h&&(a.$=j),b&&a.jQuery===h&&(a.jQuery=i),h},isReady:!1,readyWait:1,holdReady:function(a){a?h.readyWait++:h.ready(!0)},ready:function(a){if(a===!0&&!--h.readyWait||a!==!0&&!h.isReady){if(!H.body)return setTimeout(h.ready,1);if(h.isReady=!0,a!==!0&&--h.readyWait>0)return;f.fireWith(H,[h]),h.fn.trigger&&h(H).trigger("ready").off("ready")}},bindReady:function(){if(!f){if(f=h.Callbacks("once memory"),"complete"===H.readyState)return setTimeout(h.ready,1);if(H.addEventListener)H.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",h.ready,!1);else if(H.attachEvent){H.attachEvent("onreadystatechange",g),a.attachEvent("onload",h.ready);var b=!1;try{b=null==a.frameElement}catch(d){}H.documentElement.doScroll&&b&&c()}}},isFunction:function(a){return"function"===h.type(a)},isArray:Array.isArray||function(a){return"array"===h.type(a)},isWindow:function(a){return a&&"object"==typeof a&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):J[B.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==h.type(a)||a.nodeType||h.isWindow(a))return!1;try{if(a.constructor&&!C.call(a,"constructor")&&!C.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||C.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){return"string"==typeof b&&b?(b=h.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):p.test(b.replace(q,"@").replace(r,"]").replace(s,""))?new Function("return "+b)():void h.error("Invalid JSON: "+b)):null},parseXML:function(c){var d,e;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&h.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&l.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(y,"ms-").replace(x,z)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var e,f=0,g=a.length,i=g===b||h.isFunction(a);if(d)if(i){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;g>f&&c.apply(a[f++],d)!==!1;);else if(i){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;g>f&&c.call(a[f],f,a[f++])!==!1;);return a},trim:F?function(a){return null==a?"":F.call(a)}:function(a){return null==a?"":(a+"").replace(m,"").replace(n,"")},makeArray:function(a,b){var c=b||[];if(null!=a){var d=h.type(a);null==a.length||"string"===d||"function"===d||"regexp"===d||h.isWindow(a)?D.call(c,a):h.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(G)return G.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if("number"==typeof c.length)for(var f=c.length;f>e;e++)a[d++]=c[e];else for(;c[e]!==b;)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d,e=[];c=!!c;for(var f=0,g=a.length;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],i=0,j=a.length,k=a instanceof h||j!==b&&"number"==typeof j&&(j>0&&a[0]&&a[j-1]||0===j||h.isArray(a));if(k)for(;j>i;i++)e=c(a[i],i,d),null!=e&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),null!=e&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){if("string"==typeof c){var d=a[c];c=a,a=d}if(!h.isFunction(a))return b;var e=E.call(arguments,2),f=function(){return a.apply(c,e.concat(E.call(arguments)))};return f.guid=a.guid=a.guid||f.guid||h.guid++,f},access:function(a,c,d,e,f,g){var i=a.length;if("object"==typeof c){for(var j in c)h.access(a,j,c[j],e,f,d);return a}if(d!==b){e=!g&&e&&h.isFunction(d);for(var k=0;i>k;k++)f(a[k],c,e?d.call(a[k],k,f(a[k],c)):d,g);return a}return i?f(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=t.exec(a)||u.exec(a)||v.exec(a)||a.indexOf("compatible")<0&&w.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}h.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,d){return d&&d instanceof h&&!(d instanceof a)&&(d=a(d)),h.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(H);return a},browser:{}}),h.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){J["[object "+b+"]"]=b.toLowerCase()}),e=h.uaMatch(A),e.browser&&(h.browser[e.browser]=!0,h.browser.version=e.version),h.browser.webkit&&(h.browser.safari=!0),l.test(" ")&&(m=/^[\s\xA0]+/,n=/[\s\xA0]+$/),d=h(H),H.addEventListener?g=function(){H.removeEventListener("DOMContentLoaded",g,!1),h.ready()}:H.attachEvent&&(g=function(){"complete"===H.readyState&&(H.detachEvent("onreadystatechange",g),h.ready())}),h}(),L={};K.Callbacks=function(a){a=a?L[a]||G(a):{};var c,d,e,f,g,h=[],i=[],j=function(b){var c,d,e,f;for(c=0,d=b.length;d>c;c++)e=b[c],f=K.type(e),"array"===f?j(e):"function"===f&&(!a.unique||!l.has(e))&&h.push(e)},k=function(b,j){for(j=j||[],c=!a.memory||[b,j],d=!0,g=e||0,e=0,f=h.length;h&&f>g;g++)if(h[g].apply(b,j)===!1&&a.stopOnFalse){c=!0;break}d=!1,h&&(a.once?c===!0?l.disable():h=[]:i&&i.length&&(c=i.shift(),l.fireWith(c[0],c[1])))},l={add:function(){if(h){var a=h.length;j(arguments),d?f=h.length:c&&c!==!0&&(e=a,k(c[0],c[1]))}return this},remove:function(){if(h)for(var b=arguments,c=0,e=b.length;e>c;c++)for(var i=0;i<h.length&&(b[c]!==h[i]||(d&&f>=i&&(f--,g>=i&&g--),h.splice(i--,1),!a.unique));i++);return this},has:function(a){if(h)for(var b=0,c=h.length;c>b;b++)if(a===h[b])return!0;return!1},empty:function(){return h=[],this},disable:function(){return h=i=c=b,this},disabled:function(){return!h},lock:function(){return i=b,(!c||c===!0)&&l.disable(),this},locked:function(){return!i},fireWith:function(b,e){return i&&(d?a.once||i.push([b,e]):(!a.once||!c)&&k(b,e)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l};var M=[].slice;K.extend({Deferred:function(a){var b,c=K.Callbacks("once memory"),d=K.Callbacks("once memory"),e=K.Callbacks("memory"),f="pending",g={resolve:c,reject:d,notify:e},h={done:c.add,fail:d.add,progress:e.add,state:function(){return f},isResolved:c.fired,isRejected:d.fired,then:function(a,b,c){return i.done(a).fail(b).progress(c),this},always:function(){return i.done.apply(i,arguments).fail.apply(i,arguments),this},pipe:function(a,b,c){return K.Deferred(function(d){K.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c,e=b[0],f=b[1];i[a](K.isFunction(e)?function(){c=e.apply(this,arguments),c&&K.isFunction(c.promise)?c.promise().then(d.resolve,d.reject,d.notify):d[f+"With"](this===i?d:this,[c])}:d[f])})}).promise()},promise:function(a){if(null==a)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({});for(b in g)i[b]=g[b].fire,i[b+"With"]=g[b].fireWith;return i.done(function(){f="resolved"},d.disable,e.lock).fail(function(){f="rejected"},c.disable,e.lock),a&&a.call(i,i),i},when:function(a){function b(a){return function(b){g[a]=arguments.length>1?M.call(arguments,0):b,i.notifyWith(j,g)}}function c(a){return function(b){d[a]=arguments.length>1?M.call(arguments,0):b,--h||i.resolveWith(i,d)}}var d=M.call(arguments,0),e=0,f=d.length,g=Array(f),h=f,i=1>=f&&a&&K.isFunction(a.promise)?a:K.Deferred(),j=i.promise();if(f>1){for(;f>e;e++)d[e]&&d[e].promise&&K.isFunction(d[e].promise)?d[e].promise().then(c(e),i.reject,b(e)):--h;h||i.resolveWith(i,d)}else i!==a&&i.resolveWith(i,f?[a]:[]);return j}}),K.support=function(){{var b,c,d,e,f,g,h,i,j,k,l,m,n=H.createElement("div");H.documentElement}if(n.setAttribute("className","t"),n.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",c=n.getElementsByTagName("*"),d=n.getElementsByTagName("a")[0],!c||!c.length||!d)return{};e=H.createElement("select"),f=e.appendChild(H.createElement("option")),g=n.getElementsByTagName("input")[0],b={leadingWhitespace:3===n.firstChild.nodeType,tbody:!n.getElementsByTagName("tbody").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.55/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===g.value,optSelected:f.selected,getSetAttribute:"t"!==n.className,enctype:!!H.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==H.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete n.test}catch(o){b.deleteExpando=!1}if(!n.addEventListener&&n.attachEvent&&n.fireEvent&&(n.attachEvent("onclick",function(){b.noCloneEvent=!1}),n.cloneNode(!0).fireEvent("onclick")),g=H.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue="t"===g.value,g.setAttribute("checked","checked"),n.appendChild(g),i=H.createDocumentFragment(),i.appendChild(n.lastChild),b.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,i.removeChild(g),i.appendChild(n),n.innerHTML="",a.getComputedStyle&&(h=H.createElement("div"),h.style.width="0",h.style.marginRight="0",n.style.width="2px",n.appendChild(h),b.reliableMarginRight=0===(parseInt((a.getComputedStyle(h,null)||{marginRight:0}).marginRight,10)||0)),n.attachEvent)for(l in{submit:1,change:1,focusin:1})k="on"+l,m=k in n,m||(n.setAttribute(k,"return;"),m="function"==typeof n[k]),b[l+"Bubbles"]=m;return i.removeChild(n),i=e=f=h=n=g=null,K(function(){var a,c,d,e,f,g,h,i,k,l,o=H.getElementsByTagName("body")[0];!o||(g=1,h="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",i="visibility:hidden;border:0;",k="style='"+h+"border:5px solid #000;padding:0;'",l="<div "+k+"><div></div></div><table "+k+" cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",a=H.createElement("div"),a.style.cssText=i+"width:0;height:0;position:static;top:0;margin-top:"+g+"px",o.insertBefore(a,o.firstChild),n=H.createElement("div"),a.appendChild(n),n.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",j=n.getElementsByTagName("td"),m=0===j[0].offsetHeight,j[0].style.display="",j[1].style.display="none",b.reliableHiddenOffsets=m&&0===j[0].offsetHeight,n.innerHTML="",n.style.width=n.style.paddingLeft="1px",K.boxModel=b.boxModel=2===n.offsetWidth,"undefined"!=typeof n.style.zoom&&(n.style.display="inline",n.style.zoom=1,b.inlineBlockNeedsLayout=2===n.offsetWidth,n.style.display="",n.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=2!==n.offsetWidth),n.style.cssText=h+i,n.innerHTML=l,c=n.firstChild,d=c.firstChild,e=c.nextSibling.firstChild.firstChild,f={doesNotAddBorder:5!==d.offsetTop,doesAddBorderForTableAndCells:5===e.offsetTop},d.style.position="fixed",d.style.top="20px",f.fixedPosition=20===d.offsetTop||15===d.offsetTop,d.style.position=d.style.top="",c.style.overflow="hidden",c.style.position="relative",f.subtractsBorderForOverflowNotVisible=-5===d.offsetTop,f.doesNotIncludeMarginInBodyOffset=o.offsetTop!==g,o.removeChild(a),n=a=null,K.extend(b,f))}),b}();var N=/^(?:\{.*\}|\[.*\])$/,O=/([A-Z])/g;K.extend({cache:{},uuid:0,expando:"jQuery"+(K.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?K.cache[a[K.expando]]:a[K.expando],!!a&&!E(a)},data:function(a,c,d,e){if(K.acceptData(a)){var f,g,h,i=K.expando,j="string"==typeof c,k=a.nodeType,l=k?K.cache:a,m=k?a[i]:a[i]&&i,n="events"===c;if(!(m&&l[m]&&(n||e||l[m].data)||!j||d!==b))return;return m||(k?a[i]=m=++K.uuid:m=i),l[m]||(l[m]={},k||(l[m].toJSON=K.noop)),("object"==typeof c||"function"==typeof c)&&(e?l[m]=K.extend(l[m],c):l[m].data=K.extend(l[m].data,c)),f=g=l[m],e||(g.data||(g.data={}),g=g.data),d!==b&&(g[K.camelCase(c)]=d),n&&!g[c]?f.events:(j?(h=g[c],null==h&&(h=g[K.camelCase(c)])):h=g,h)}},removeData:function(a,b,c){if(K.acceptData(a)){var d,e,f,g=K.expando,h=a.nodeType,i=h?K.cache:a,j=h?a[g]:g;if(!i[j])return;if(b&&(d=c?i[j]:i[j].data)){K.isArray(b)||(b in d?b=[b]:(b=K.camelCase(b),b=b in d?[b]:b.split(" ")));for(e=0,f=b.length;f>e;e++)delete d[b[e]];if(!(c?E:K.isEmptyObject)(d))return}if(!c&&(delete i[j].data,!E(i[j])))return;K.support.deleteExpando||!i.setInterval?delete i[j]:i[j]=null,h&&(K.support.deleteExpando?delete a[g]:a.removeAttribute?a.removeAttribute(g):a[g]=null)}},_data:function(a,b,c){return K.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=K.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),K.fn.extend({data:function(a,c){var d,e,f,g=null;if("undefined"==typeof a){if(this.length&&(g=K.data(this[0]),1===this[0].nodeType&&!K._data(this[0],"parsedAttrs"))){e=this[0].attributes;for(var h=0,i=e.length;i>h;h++)f=e[h].name,0===f.indexOf("data-")&&(f=K.camelCase(f.substring(5)),F(this[0],f,g[f]));K._data(this[0],"parsedAttrs",!0)}return g}return"object"==typeof a?this.each(function(){K.data(this,a)}):(d=a.split("."),d[1]=d[1]?"."+d[1]:"",c===b?(g=this.triggerHandler("getData"+d[1]+"!",[d[0]]),g===b&&this.length&&(g=K.data(this[0],a),g=F(this[0],a,g)),g===b&&d[1]?this.data(d[0]):g):this.each(function(){var b=K(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),K.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)}))},removeData:function(a){return this.each(function(){K.removeData(this,a)})}}),K.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",K._data(a,b,(K._data(a,b)||0)+1))},_unmark:function(a,b,c){if(a!==!0&&(c=b,b=a,a=!1),b){c=c||"fx";var d=c+"mark",e=a?0:(K._data(b,d)||1)-1;e?K._data(b,d,e):(K.removeData(b,d,!0),D(b,c,"mark"))}},queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=K._data(a,b),c&&(!d||K.isArray(c)?d=K._data(a,b,K.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=K.queue(a,b),d=c.shift(),e={};"inprogress"===d&&(d=c.shift()),d&&("fx"===b&&c.unshift("inprogress"),K._data(a,b+".run",e),d.call(a,function(){K.dequeue(a,b)},e)),c.length||(K.removeData(a,b+"queue "+b+".run",!0),D(a,b,"queue"))}}),K.fn.extend({queue:function(a,c){return"string"!=typeof a&&(c=a,a="fx"),c===b?K.queue(this[0],a):this.each(function(){var b=K.queue(this,a,c);"fx"===a&&"inprogress"!==b[0]&&K.dequeue(this,a)})},dequeue:function(a){return this.each(function(){K.dequeue(this,a)})},delay:function(a,b){return a=K.fx?K.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function d(){--i||f.resolveWith(g,[g])}"string"!=typeof a&&(c=a,a=b),a=a||"fx";for(var e,f=K.Deferred(),g=this,h=g.length,i=1,j=a+"defer",k=a+"queue",l=a+"mark";h--;)(e=K.data(g[h],j,b,!0)||(K.data(g[h],k,b,!0)||K.data(g[h],l,b,!0))&&K.data(g[h],j,K.Callbacks("once memory"),!0))&&(i++,e.add(d));return d(),f.promise()}});var P,Q,R,S=/[\n\t\r]/g,T=/\s+/,U=/\r/g,V=/^(?:button|input)$/i,W=/^(?:button|input|object|select|textarea)$/i,X=/^a(?:rea)?$/i,Y=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Z=K.support.getSetAttribute;K.fn.extend({attr:function(a,b){return K.access(this,a,b,!0,K.attr)},removeAttr:function(a){return this.each(function(){K.removeAttr(this,a)})},prop:function(a,b){return K.access(this,a,b,!0,K.prop)},removeProp:function(a){return a=K.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(K.isFunction(a))return this.each(function(b){K(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(T),c=0,d=this.length;d>c;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==b.length){for(f=" "+e.className+" ",g=0,h=b.length;h>g;g++)~f.indexOf(" "+b[g]+" ")||(f+=b[g]+" ");e.className=K.trim(f)}else e.className=a;return this},removeClass:function(a){var c,d,e,f,g,h,i;if(K.isFunction(a))return this.each(function(b){K(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b)for(c=(a||"").split(T),d=0,e=this.length;e>d;d++)if(f=this[d],1===f.nodeType&&f.className)if(a){for(g=(" "+f.className+" ").replace(S," "),h=0,i=c.length;i>h;h++)g=g.replace(" "+c[h]+" "," ");f.className=K.trim(g)}else f.className="";return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return this.each(K.isFunction(a)?function(c){K(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var e,f=0,g=K(this),h=b,i=a.split(T);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else("undefined"===c||"boolean"===c)&&(this.className&&K._data(this,"__className__",this.className),this.className=this.className||a===!1?"":K._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(S," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,f=this[0];return arguments.length?(e=K.isFunction(a),this.each(function(d){var f,g=K(this);1===this.nodeType&&(f=e?a.call(this,d,g.val()):a,null==f?f="":"number"==typeof f?f+="":K.isArray(f)&&(f=K.map(f,function(a){return null==a?"":a+""})),c=K.valHooks[this.nodeName.toLowerCase()]||K.valHooks[this.type],c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))})):f?(c=K.valHooks[f.nodeName.toLowerCase()]||K.valHooks[f.type],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(U,""):null==d?"":d)):void 0}}),K.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i="select-one"===a.type;if(0>f)return null;for(c=i?f:0,d=i?f+1:h.length;d>c;c++)if(e=h[c],!(!e.selected||(K.support.optDisabled?e.disabled:null!==e.getAttribute("disabled"))||e.parentNode.disabled&&K.nodeName(e.parentNode,"optgroup"))){if(b=K(e).val(),i)return b;g.push(b)}return i&&!g.length&&h.length?K(h[f]).val():g},set:function(a,b){var c=K.makeArray(b);return K(a).find("option").each(function(){this.selected=K.inArray(K(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;return a&&3!==i&&8!==i&&2!==i?e&&c in K.attrFn?K(a)[c](d):"undefined"==typeof a.getAttribute?K.prop(a,c,d):(h=1!==i||!K.isXMLDoc(a),h&&(c=c.toLowerCase(),g=K.attrHooks[c]||(Y.test(c)?Q:P)),d!==b?null===d?void K.removeAttr(a,c):g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,""+d),d):g&&"get"in g&&h&&null!==(f=g.get(a,c))?f:(f=a.getAttribute(c),null===f?b:f)):void 0},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&1===a.nodeType)for(d=b.toLowerCase().split(T),f=d.length;f>g;g++)e=d[g],e&&(c=K.propFix[e]||e,K.attr(a,e,""),a.removeAttribute(Z?e:c),Y.test(e)&&c in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(V.test(a.nodeName)&&a.parentNode)K.error("type property can't be changed");else if(!K.support.radioValue&&"radio"===b&&K.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return P&&K.nodeName(a,"button")?P.get(a,b):b in a?a.value:null},set:function(a,b,c){return P&&K.nodeName(a,"button")?P.set(a,b,c):void(a.value=b)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;return a&&3!==h&&8!==h&&2!==h?(g=1!==h||!K.isXMLDoc(a),g&&(c=K.propFix[c]||c,f=K.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]):void 0},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):W.test(a.nodeName)||X.test(a.nodeName)&&a.href?0:b}}}}),K.attrHooks.tabindex=K.propHooks.tabIndex,Q={get:function(a,c){var d,e=K.prop(a,c);return e===!0||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?K.removeAttr(a,c):(d=K.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},Z||(R={name:!0,id:!0},P=K.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(R[c]?""!==d.nodeValue:d.specified)?d.nodeValue:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=H.createAttribute(c),a.setAttributeNode(d)),d.nodeValue=b+""}},K.attrHooks.tabindex.set=P.set,K.each(["width","height"],function(a,b){K.attrHooks[b]=K.extend(K.attrHooks[b],{set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}})}),K.attrHooks.contenteditable={get:P.get,set:function(a,b,c){""===b&&(b="false"),P.set(a,b,c)}}),K.support.hrefNormalized||K.each(["href","src","width","height"],function(a,c){K.attrHooks[c]=K.extend(K.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null===d?b:d}})}),K.support.style||(K.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),K.support.optSelected||(K.propHooks.selected=K.extend(K.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),K.support.enctype||(K.propFix.enctype="encoding"),K.support.checkOn||K.each(["radio","checkbox"],function(){K.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]=K.extend(K.valHooks[this],{set:function(a,b){return K.isArray(b)?a.checked=K.inArray(K(a).val(),b)>=0:void 0}})});var _=/^(?:textarea|input|select)$/i,ab=/^([^\.]*)?(?:\.(.+))?$/,bb=/\bhover(\.\S+)?\b/,cb=/^key/,db=/^(?:mouse|contextmenu)|click/,eb=/^(?:focusinfocus|focusoutblur)$/,fb=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,gb=function(a){var b=fb.exec(a);return b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)")),b},hb=function(a,b){var c=a.attributes||{};return!(b[1]&&a.nodeName.toLowerCase()!==b[1]||b[2]&&(c.id||{}).value!==b[2]||b[3]&&!b[3].test((c["class"]||{}).value))},ib=function(a){return K.event.special.hover?a:a.replace(bb,"mouseenter$1 mouseleave$1")};K.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(g=K._data(a))){for(d.handler&&(o=d,d=o.handler),d.guid||(d.guid=K.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return"undefined"==typeof K||a&&K.event.triggered===a.type?b:K.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=K.trim(ib(c)).split(" "),j=0;j<c.length;j++)k=ab.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),q=K.event.special[l]||{},l=(f?q.delegateType:q.bindType)||l,q=K.event.special[l]||{},n=K.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,quick:gb(f),namespace:m.join(".")},o),p=i[l],p||(p=i[l]=[],p.delegateCount=0,q.setup&&q.setup.call(a,e,m,h)!==!1||(a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h))),q.add&&(q.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?p.splice(p.delegateCount++,0,n):p.push(n),K.event.global[l]=!0;a=null}},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r=K.hasData(a)&&K._data(a);if(r&&(m=r.events)){for(b=K.trim(ib(b||"")).split(" "),f=0;f<b.length;f++)if(g=ab.exec(b[f])||[],h=i=g[1],j=g[2],h){for(n=K.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,p=m[h]||[],k=p.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,l=0;l<p.length;l++)q=p[l],!(!e&&i!==q.origType||c&&c.guid!==q.guid||j&&!j.test(q.namespace)||d&&d!==q.selector&&("**"!==d||!q.selector)||(p.splice(l--,1),q.selector&&p.delegateCount--,!n.remove||!n.remove.call(a,q)));
0===p.length&&k!==p.length&&((!n.teardown||n.teardown.call(a,j)===!1)&&K.removeEvent(a,h,r.handle),delete m[h])}else for(h in m)K.event.remove(a,h+b[f],c,d,!0);K.isEmptyObject(m)&&(o=r.handle,o&&(o.elem=null),K.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||3!==e.nodeType&&8!==e.nodeType){var g,h,i,j,k,l,m,n,o,p,q=c.type||c,r=[];if(eb.test(q+K.event.triggered))return;if(q.indexOf("!")>=0&&(q=q.slice(0,-1),h=!0),q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),(!e||K.event.customEvent[q])&&!K.event.global[q])return;if(c="object"==typeof c?c[K.expando]?c:new K.Event(q,c):new K.Event(q),c.type=q,c.isTrigger=!0,c.exclusive=h,c.namespace=r.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,l=q.indexOf(":")<0?"on"+q:"",!e){g=K.cache;for(i in g)g[i].events&&g[i].events[q]&&K.event.trigger(c,d,g[i].handle.elem,!0);return}if(c.result=b,c.target||(c.target=e),d=null!=d?K.makeArray(d):[],d.unshift(c),m=K.event.special[q]||{},m.trigger&&m.trigger.apply(e,d)===!1)return;if(o=[[e,m.bindType||q]],!f&&!m.noBubble&&!K.isWindow(e)){for(p=m.delegateType||q,j=eb.test(p+q)?e:e.parentNode,k=null;j;j=j.parentNode)o.push([j,p]),k=j;k&&k===e.ownerDocument&&o.push([k.defaultView||k.parentWindow||a,p])}for(i=0;i<o.length&&!c.isPropagationStopped();i++)j=o[i][0],c.type=o[i][1],n=(K._data(j,"events")||{})[c.type]&&K._data(j,"handle"),n&&n.apply(j,d),n=l&&j[l],n&&K.acceptData(j)&&n.apply(j,d)===!1&&c.preventDefault();return c.type=q,!(f||c.isDefaultPrevented()||m._default&&m._default.apply(e.ownerDocument,d)!==!1||"click"===q&&K.nodeName(e,"a")||!K.acceptData(e)||!l||!e[q]||("focus"===q||"blur"===q)&&0===c.target.offsetWidth||K.isWindow(e)||(k=e[l],k&&(e[l]=null),K.event.triggered=q,e[q](),K.event.triggered=b,!k||!(e[l]=k))),c.result}},dispatch:function(c){c=K.event.fix(c||a.event);var d,e,f,g,h,i,j,k,l,m,n=(K._data(this,"events")||{})[c.type]||[],o=n.delegateCount,p=[].slice.call(arguments,0),q=!c.exclusive&&!c.namespace,r=[];if(p[0]=c,c.delegateTarget=this,o&&!c.target.disabled&&(!c.button||"click"!==c.type))for(g=K(this),g.context=this.ownerDocument||this,f=c.target;f!=this;f=f.parentNode||this){for(i={},k=[],g[0]=f,d=0;o>d;d++)l=n[d],m=l.selector,i[m]===b&&(i[m]=l.quick?hb(f,l.quick):g.is(m)),i[m]&&k.push(l);k.length&&r.push({elem:f,matches:k})}for(n.length>o&&r.push({elem:this,matches:n.slice(o)}),d=0;d<r.length&&!c.isPropagationStopped();d++)for(j=r[d],c.currentTarget=j.elem,e=0;e<j.matches.length&&!c.isImmediatePropagationStopped();e++)l=j.matches[e],(q||!c.namespace&&!l.namespace||c.namespace_re&&c.namespace_re.test(l.namespace))&&(c.data=l.data,c.handleObj=l,h=((K.event.special[l.origType]||{}).handle||l.handler).apply(j.elem,p),h!==b&&(c.result=h,h===!1&&(c.preventDefault(),c.stopPropagation())));return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||H,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),!a.which&&g!==b&&(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[K.expando])return a;var c,d,e=a,f=K.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;for(a=K.Event(e),c=g.length;c;)d=g[--c],a[d]=e[d];return a.target||(a.target=e.srcElement||H),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey),f.filter?f.filter(a,e):a},special:{ready:{setup:K.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){K.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=K.extend(new K.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?K.event.trigger(e,null,b):K.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},K.event.handle=K.event.dispatch,K.removeEvent=H.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},K.Event=function(a,b){return this instanceof K.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?B:C):this.type=a,b&&K.extend(this,b),this.timeStamp=a&&a.timeStamp||K.now(),this[K.expando]=!0,void 0):new K.Event(a,b)},K.Event.prototype={preventDefault:function(){this.isDefaultPrevented=B;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=B;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=B,this.stopPropagation()},isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C},K.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){K.event.special[a]={delegateType:b,bindType:b,handle:function(a){{var c,d=this,e=a.relatedTarget,f=a.handleObj;f.selector}return(!e||e!==d&&!K.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),K.support.submitBubbles||(K.event.special.submit={setup:function(){return K.nodeName(this,"form")?!1:void K.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=K.nodeName(c,"input")||K.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(K.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&K.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){return K.nodeName(this,"form")?!1:void K.event.remove(this,"._submit")}}),K.support.changeBubbles||(K.event.special.change={setup:function(){return _.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(K.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),K.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,K.event.simulate("change",this,a,!0))})),!1):void K.event.add(this,"beforeactivate._change",function(a){var b=a.target;_.test(b.nodeName)&&!b._change_attached&&(K.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&K.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return K.event.remove(this,"._change"),_.test(this.nodeName)}}),K.support.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){K.event.simulate(b,a.target,K.event.fix(a),!0)};K.event.special[b]={setup:function(){0===c++&&H.addEventListener(a,d,!0)},teardown:function(){0===--c&&H.removeEventListener(a,d,!0)}}}),K.fn.extend({on:function(a,c,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof c&&(d=c,c=b);for(h in a)this.on(h,c,d,a[h],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=C;else if(!e)return this;return 1===f&&(g=e,e=function(a){return K().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=K.guid++)),this.each(function(){K.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;return K(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler),this}if("object"==typeof a){for(var f in a)this.off(f,c,a[f]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=C),this.each(function(){K.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return K(this.context).on(a,this.selector,b,c),this},die:function(a,b){return K(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1==arguments.length?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){K.event.trigger(a,b,this)})},triggerHandler:function(a,b){return this[0]?K.event.trigger(a,b,this[0],!0):void 0},toggle:function(a){var b=arguments,c=a.guid||K.guid++,d=0,e=function(c){var e=(K._data(this,"lastToggle"+a.guid)||0)%d;return K._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){K.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},K.attrFn&&(K.attrFn[b]=!0),cb.test(b)&&(K.event.fixHooks[b]=K.event.keyHooks),db.test(b)&&(K.event.fixHooks[b]=K.event.mouseHooks)}),function(){function a(a,b,c,d,f,g){for(var h=0,i=d.length;i>h;h++){var j=d[h];if(j){var k=!1;for(j=j[a];j;){if(j[e]===c){k=d[j.sizset];break}if(1===j.nodeType)if(g||(j[e]=c,j.sizset=h),"string"!=typeof b){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}j=j[a]}d[h]=k}}}function c(a,b,c,d,f,g){for(var h=0,i=d.length;i>h;h++){var j=d[h];if(j){var k=!1;for(j=j[a];j;){if(j[e]===c){k=d[j.sizset];break}if(1===j.nodeType&&!g&&(j[e]=c,j.sizset=h),j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}d[h]=k}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e="sizcache"+(Math.random()+"").replace(".",""),f=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){return i=!1,0});var m=function(a,b,c,e){c=c||[],b=b||H;var f=b;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!=typeof a)return c;var h,i,j,k,l,n,q,r,t=!0,u=m.isXML(b),v=[],x=a;do if(d.exec(""),h=d.exec(x),h&&(x=h[3],v.push(h[1]),h[2])){k=h[3];break}while(h);if(v.length>1&&p.exec(a))if(2===v.length&&o.relative[v[0]])i=w(v[0]+v[1],b,e);else for(i=o.relative[v[0]]?[b]:m(v.shift(),b);v.length;)a=v.shift(),o.relative[a]&&(a+=v.shift()),i=w(a,i,e);else if(!e&&v.length>1&&9===b.nodeType&&!u&&o.match.ID.test(v[0])&&!o.match.ID.test(v[v.length-1])&&(l=m.find(v.shift(),b,u),b=l.expr?m.filter(l.expr,l.set)[0]:l.set[0]),b)for(l=e?{expr:v.pop(),set:s(e)}:m.find(v.pop(),1!==v.length||"~"!==v[0]&&"+"!==v[0]||!b.parentNode?b:b.parentNode,u),i=l.expr?m.filter(l.expr,l.set):l.set,v.length>0?j=s(i):t=!1;v.length;)n=v.pop(),q=n,o.relative[n]?q=v.pop():n="",null==q&&(q=b),o.relative[n](j,q,u);else j=v=[];if(j||(j=i),j||m.error(n||a),"[object Array]"===g.call(j))if(t)if(b&&1===b.nodeType)for(r=0;null!=j[r];r++)j[r]&&(j[r]===!0||1===j[r].nodeType&&m.contains(b,j[r]))&&c.push(i[r]);else for(r=0;null!=j[r];r++)j[r]&&1===j[r].nodeType&&c.push(i[r]);else c.push.apply(c,j);else s(j,c);return k&&(m(k,f,c,e),m.uniqueSort(c)),c};m.uniqueSort=function(a){if(u&&(h=i,a.sort(u),h))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;f>e;e++)if(h=o.order[e],(g=o.leftMatch[h].exec(a))&&(i=g[1],g.splice(1,1),"\\"!==i.substr(i.length-1)&&(g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c),null!=d))){a=a.replace(o.match[h],"");break}return d||(d="undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]),{set:d,expr:a}},m.filter=function(a,c,d,e){for(var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);a&&c.length;){for(h in o.filter)if(null!=(f=o.leftMatch[h].exec(a))&&f[2]){if(k=o.filter[h],l=f[1],g=!1,f.splice(1,1),"\\"===l.substr(l.length-1))continue;if(s===r&&(r=[]),o.preFilter[h])if(f=o.preFilter[h](f,s,d,r,e,t)){if(f===!0)continue}else g=i=!0;if(f)for(n=0;null!=(j=s[n]);n++)j&&(i=k(j,f,n,s),p=e^i,d&&null!=i?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){if(d||(s=r),a=a.replace(o.match[h],""),!g)return[];break}}if(a===q){if(null!=g)break;m.error(a)}q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(1===d||9===d){if("string"==typeof a.textContent)return a.textContent;if("string"==typeof a.innerText)return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(3===d||4===d)return a.nodeValue}else for(b=0;c=a[b];b++)8!==c.nodeType&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c="string"==typeof b,d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f,g=0,h=a.length;h>g;g++)if(f=a[g]){for(;(f=f.previousSibling)&&1!==f.nodeType;);a[g]=e||f&&f.nodeName.toLowerCase()===b?f||!1:f===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d="string"==typeof b,e=0,f=a.length;if(d&&!l.test(b)){for(b=b.toLowerCase();f>e;e++)if(c=a[e]){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}else{for(;f>e;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(b,d,e){var g,h=f++,i=a;"string"==typeof d&&!l.test(d)&&(d=d.toLowerCase(),g=d,i=c),i("parentNode",d,h,b,g,e)},"~":function(b,d,e){var g,h=f++,i=a;"string"==typeof d&&!l.test(d)&&(d=d.toLowerCase(),g=d,i=c),i("previousSibling",d,h,b,g,e)}},find:{ID:function(a,b,c){if("undefined"!=typeof b.getElementById&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if("undefined"!=typeof b.getElementsByName){for(var c=[],d=b.getElementsByName(a[1]),e=0,f=d.length;f>e;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return 0===c.length?null:c}},TAG:function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a[1]):void 0}},preFilter:{CLASS:function(a,b,c,d,e,f){if(a=" "+a[1].replace(j,"")+" ",f)return a;for(var g,h=0;null!=(g=b[h]);h++)g&&(e^(g.className&&(" "+g.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(g):c&&(b[h]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);return a[0]=f++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");return!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),"~="===a[2]&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(a,b,c,e,f){if("not"===a[1]){if(!((d.exec(a[3])||"").length>1||/^\w/.test(a[3]))){var g=m.filter(a[3],b,c,!0^f);return c||e.push.apply(e,g),!1}a[3]=m(a[3],null,null,b)}else if(o.match.POS.test(a[0])||o.match.CHILD.test(a[0]))return!0;return a},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&"hidden"!==a.type},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===c&&(b===c||null===b)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},password:function(a){return"input"===a.nodeName.toLowerCase()&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if("contains"===e)return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if("not"===e){for(var g=b[3],h=0,i=g.length;i>h;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,d,f,g,h,i,j=b[1],k=a;switch(j){case"only":case"first":for(;k=k.previousSibling;)if(1===k.nodeType)return!1;if("first"===j)return!0;k=a;case"last":for(;k=k.nextSibling;)if(1===k.nodeType)return!1;return!0;case"nth":if(c=b[2],d=b[3],1===c&&0===d)return!0;if(f=b[0],g=a.parentNode,g&&(g[e]!==f||!a.nodeIndex)){for(h=0,k=g.firstChild;k;k=k.nextSibling)1===k.nodeType&&(k.nodeIndex=++h);g[e]=f}return i=a.nodeIndex-d,0===c?0===i:i%c===0&&i/c>=0}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return null==d?"!="===f:!f&&m.attr?null!=d:"="===f?e===g:"*="===f?e.indexOf(g)>=0:"~="===f?(" "+e+" ").indexOf(g)>=0:g?"!="===f?e!==g:"^="===f?0===e.indexOf(g):"$="===f?e.substr(e.length-g.length)===g:"|="===f?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];return f?f(a,c,b,d):void 0}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));var s=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(H.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if("[object Array]"===g.call(a))Array.prototype.push.apply(d,a);else if("number"==typeof a.length)for(var e=a.length;e>c;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;H.documentElement.compareDocumentPosition?u=function(a,b){return a===b?(h=!0,0):a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b)?-1:1:a.compareDocumentPosition?-1:1}:(u=function(a,b){if(a===b)return h=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;for(;j;)e.unshift(j),j=j.parentNode;for(j=i;j;)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;c>k&&d>k;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=H.createElement("div"),c="script"+(new Date).getTime(),d=H.documentElement;a.innerHTML="<a name='"+c+"'/>",d.insertBefore(a,d.firstChild),H.getElementById(c)&&(o.find.ID=function(a,c,d){if("undefined"!=typeof c.getElementById&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||"undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b}),d.removeChild(a),d=a=null}(),function(){var a=H.createElement("div");a.appendChild(H.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var d=[],e=0;c[e];e++)1===c[e].nodeType&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&"undefined"!=typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href")&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),H.querySelectorAll&&function(){var a=m,b=H.createElement("div"),c="__sizzle__";if(b.innerHTML="<p class='TEST'></p>",!b.querySelectorAll||0!==b.querySelectorAll(".TEST").length){m=function(b,d,e,f){if(d=d||H,!f&&!m.isXML(d)){var g=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(g&&(1===d.nodeType||9===d.nodeType)){if(g[1])return s(d.getElementsByTagName(b),e);if(g[2]&&o.find.CLASS&&d.getElementsByClassName)return s(d.getElementsByClassName(g[2]),e)}if(9===d.nodeType){if("body"===b&&d.body)return s([d.body],e);if(g&&g[3]){var h=d.getElementById(g[3]);if(!h||!h.parentNode)return s([],e);if(h.id===g[3])return s([h],e)}try{return s(d.querySelectorAll(b),e)}catch(i){}}else if(1===d.nodeType&&"object"!==d.nodeName.toLowerCase()){var j=d,k=d.getAttribute("id"),l=k||c,n=d.parentNode,p=/^\s*[+~]/.test(b);k?l=l.replace(/'/g,"\\$&"):d.setAttribute("id",l),p&&n&&(d=d.parentNode);try{if(!p||n)return s(d.querySelectorAll("[id='"+l+"'] "+b),e)}catch(q){}finally{k||j.removeAttribute("id")}}}return a(b,d,e,f)};for(var d in a)m[d]=a[d];b=null}}(),function(){var a=H.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(H.createElement("div"),"div"),d=!1;try{b.call(H.documentElement,"[test!='']:sizzle")}catch(e){d=!0}m.matchesSelector=function(a,e){if(e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!m.isXML(a))try{if(d||!o.match.PSEUDO.test(e)&&!/!=/.test(e)){var f=b.call(a,e);if(f||!c||a.document&&11!==a.document.nodeType)return f}}catch(g){}return m(e,null,null,[a]).length>0}}}(),function(){var a=H.createElement("div");if(a.innerHTML="<div class='test e'></div><div class='test'></div>",a.getElementsByClassName&&0!==a.getElementsByClassName("e").length){if(a.lastChild.className="e",1===a.getElementsByClassName("e").length)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){return"undefined"==typeof b.getElementsByClassName||c?void 0:b.getElementsByClassName(a[1])},a=null}}(),m.contains=H.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:H.documentElement.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?"HTML"!==b.nodeName:!1};var w=function(a,b,c){for(var d,e=[],f="",g=b.nodeType?[b]:b;d=o.match.PSEUDO.exec(a);)f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;i>h;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=K.attr,m.selectors.attrMap={},K.find=m,K.expr=m.selectors,K.expr[":"]=K.expr.filters,K.unique=m.uniqueSort,K.text=m.getText,K.isXMLDoc=m.isXML,K.contains=m.contains}();var jb=/Until$/,kb=/^(?:parents|prevUntil|prevAll)/,lb=/,/,mb=/^.[^:#\[\.,]*$/,nb=Array.prototype.slice,ob=K.expr.match.POS,pb={children:!0,contents:!0,next:!0,prev:!0};K.fn.extend({find:function(a){var b,c,d=this;if("string"!=typeof a)return K(a).filter(function(){for(b=0,c=d.length;c>b;b++)if(K.contains(d[b],this))return!0});var e,f,g,h=this.pushStack("","find",a);for(b=0,c=this.length;c>b;b++)if(e=h.length,K.find(a,this[b],h),b>0)for(f=e;f<h.length;f++)for(g=0;e>g;g++)if(h[g]===h[f]){h.splice(f--,1);break}return h},has:function(a){var b=K(a);return this.filter(function(){for(var a=0,c=b.length;c>a;a++)if(K.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(z(this,a,!1),"not",a)},filter:function(a){return this.pushStack(z(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?ob.test(a)?K(a,this.context).index(this[0])>=0:K.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c,d,e=[],f=this[0];if(K.isArray(a)){for(var g=1;f&&f.ownerDocument&&f!==b;){for(c=0;c<a.length;c++)K(f).is(a[c])&&e.push({selector:a[c],elem:f,level:g});f=f.parentNode,g++}return e}var h=ob.test(a)||"string"!=typeof a?K(a,b||this.context):0;for(c=0,d=this.length;d>c;c++)for(f=this[c];f;){if(h?h.index(f)>-1:K.find.matchesSelector(f,a)){e.push(f);break}if(f=f.parentNode,!f||!f.ownerDocument||f===b||11===f.nodeType)break}return e=e.length>1?K.unique(e):e,this.pushStack(e,"closest",a)},index:function(a){return a?"string"==typeof a?K.inArray(this[0],K(a)):K.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"==typeof a?K(a,b):K.makeArray(a&&a.nodeType?[a]:a),d=K.merge(this.get(),c);return this.pushStack(A(c[0])||A(d[0])?d:K.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),K.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return K.dir(a,"parentNode")},parentsUntil:function(a,b,c){return K.dir(a,"parentNode",c)},next:function(a){return K.nth(a,2,"nextSibling")},prev:function(a){return K.nth(a,2,"previousSibling")},nextAll:function(a){return K.dir(a,"nextSibling")},prevAll:function(a){return K.dir(a,"previousSibling")},nextUntil:function(a,b,c){return K.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return K.dir(a,"previousSibling",c)},siblings:function(a){return K.sibling(a.parentNode.firstChild,a)},children:function(a){return K.sibling(a.firstChild)},contents:function(a){return K.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:K.makeArray(a.childNodes)}},function(a,b){K.fn[a]=function(c,d){var e=K.map(this,b,c);return jb.test(a)||(d=c),d&&"string"==typeof d&&(e=K.filter(d,e)),e=this.length>1&&!pb[a]?K.unique(e):e,(this.length>1||lb.test(d))&&kb.test(a)&&(e=e.reverse()),this.pushStack(e,a,nb.call(arguments).join(","))}}),K.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?K.find.matchesSelector(b[0],a)?[b[0]]:[]:K.find.matches(a,b)},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!K(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},nth:function(a,b,c){b=b||1;for(var d=0;a&&(1!==a.nodeType||++d!==b);a=a[c]);return a},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var qb="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rb=/ jQuery\d+="(?:\d+|null)"/g,sb=/^\s+/,tb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ub=/<([\w:]+)/,$=/<tbody/i,vb=/<|&#?\w+;/,wb=/<(?:script|style)/i,xb=/<(?:script|object|embed|option|style)/i,yb=new RegExp("<(?:"+qb+")","i"),zb=/checked\s*(?:[^=]|=\s*.checked.)/i,Ab=/\/(java|ecma)script/i,Bb=/^\s*<!(?:\[CDATA\[|\-\-)/,Cb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Db=y(H);Cb.optgroup=Cb.option,Cb.tbody=Cb.tfoot=Cb.colgroup=Cb.caption=Cb.thead,Cb.th=Cb.td,K.support.htmlSerialize||(Cb._default=[1,"div<div>","</div>"]),K.fn.extend({text:function(a){return K.isFunction(a)?this.each(function(b){var c=K(this);c.text(a.call(this,b,c.text()))}):"object"!=typeof a&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||H).createTextNode(a)):K.text(this)},wrapAll:function(a){if(K.isFunction(a))return this.each(function(b){K(this).wrapAll(a.call(this,b))});if(this[0]){var b=K(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(K.isFunction(a)?function(b){K(this).wrapInner(a.call(this,b))}:function(){var b=K(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=K.isFunction(a);return this.each(function(c){K(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=K.clean(arguments);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,K.clean(arguments)),a}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)(!a||K.filter(a,[c]).length)&&(!b&&1===c.nodeType&&(K.cleanData(c.getElementsByTagName("*")),K.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&K.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return K.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(rb,""):null;if("string"!=typeof a||wb.test(a)||!K.support.leadingWhitespace&&sb.test(a)||Cb[(ub.exec(a)||["",""])[1].toLowerCase()])K.isFunction(a)?this.each(function(b){var c=K(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);else{a=a.replace(tb,"<$1></$2>");try{for(var c=0,d=this.length;d>c;c++)1===this[c].nodeType&&(K.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}return this},replaceWith:function(a){return this[0]&&this[0].parentNode?K.isFunction(a)?this.each(function(b){var c=K(this),d=c.html();c.replaceWith(a.call(this,b,d))
}):("string"!=typeof a&&(a=K(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;K(this).remove(),b?K(b).before(a):K(c).append(a)})):this.length?this.pushStack(K(K.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,f,g,h,i=a[0],j=[];if(!K.support.checkClone&&3===arguments.length&&"string"==typeof i&&zb.test(i))return this.each(function(){K(this).domManip(a,c,d,!0)});if(K.isFunction(i))return this.each(function(e){var f=K(this);a[0]=i.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){if(h=i&&i.parentNode,e=K.support.parentNode&&h&&11===h.nodeType&&h.childNodes.length===this.length?{fragment:h}:K.buildFragment(a,this,j),g=e.fragment,f=1===g.childNodes.length?g=g.firstChild:g.firstChild,f){c=c&&K.nodeName(f,"tr");for(var k=0,l=this.length,m=l-1;l>k;k++)d.call(c?x(this[k],f):this[k],e.cacheable||l>1&&m>k?K.clone(g,!0,!0):g)}j.length&&K.each(j,q)}return this}}),K.buildFragment=function(a,b,c){var d,e,f,g,h=a[0];return b&&b[0]&&(g=b[0].ownerDocument||b[0]),g.createDocumentFragment||(g=H),1===a.length&&"string"==typeof h&&h.length<512&&g===H&&"<"===h.charAt(0)&&!xb.test(h)&&(K.support.checkClone||!zb.test(h))&&(K.support.html5Clone||!yb.test(h))&&(e=!0,f=K.fragments[h],f&&1!==f&&(d=f)),d||(d=g.createDocumentFragment(),K.clean(a,g,d,c)),e&&(K.fragments[h]=f?d:1),{fragment:d,cacheable:e}},K.fragments={},K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){K.fn[a]=function(c){var d=[],e=K(c),f=1===this.length&&this[0].parentNode;if(f&&11===f.nodeType&&1===f.childNodes.length&&1===e.length)return e[b](this[0]),this;for(var g=0,h=e.length;h>g;g++){var i=(g>0?this.clone(!0):this).get();K(e[g])[b](i),d=d.concat(i)}return this.pushStack(d,a,e.selector)}}),K.extend({clone:function(a,b,c){var d,e,f,g=K.support.html5Clone||!yb.test("<"+a.nodeName)?a.cloneNode(!0):r(a);if(!(K.support.noCloneEvent&&K.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||K.isXMLDoc(a)))for(v(a,g),d=u(a),e=u(g),f=0;d[f];++f)e[f]&&v(d[f],e[f]);if(b&&(w(a,g),c))for(d=u(a),e=u(g),f=0;d[f];++f)w(d[f],e[f]);return d=e=null,g},clean:function(a,b,c,d){var e;b=b||H,"undefined"==typeof b.createElement&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||H);for(var f,g,h=[],i=0;null!=(g=a[i]);i++)if("number"==typeof g&&(g+=""),g){if("string"==typeof g)if(vb.test(g)){g=g.replace(tb,"<$1></$2>");var j=(ub.exec(g)||["",""])[1].toLowerCase(),k=Cb[j]||Cb._default,l=k[0],m=b.createElement("div");for(b===H?Db.appendChild(m):y(b).appendChild(m),m.innerHTML=k[1]+g+k[2];l--;)m=m.lastChild;if(!K.support.tbody){var n=$.test(g),o="table"!==j||n?"<table>"!==k[1]||n?[]:m.childNodes:m.firstChild&&m.firstChild.childNodes;for(f=o.length-1;f>=0;--f)K.nodeName(o[f],"tbody")&&!o[f].childNodes.length&&o[f].parentNode.removeChild(o[f])}!K.support.leadingWhitespace&&sb.test(g)&&m.insertBefore(b.createTextNode(sb.exec(g)[0]),m.firstChild),g=m.childNodes}else g=b.createTextNode(g);var p;if(!K.support.appendChecked)if(g[0]&&"number"==typeof(p=g.length))for(f=0;p>f;f++)s(g[f]);else s(g);g.nodeType?h.push(g):h=K.merge(h,g)}if(c)for(e=function(a){return!a.type||Ab.test(a.type)},i=0;h[i];i++)if(!d||!K.nodeName(h[i],"script")||h[i].type&&"text/javascript"!==h[i].type.toLowerCase()){if(1===h[i].nodeType){var q=K.grep(h[i].getElementsByTagName("script"),e);h.splice.apply(h,[i+1,0].concat(q))}c.appendChild(h[i])}else d.push(h[i].parentNode?h[i].parentNode.removeChild(h[i]):h[i]);return h},cleanData:function(a){for(var b,c,d,e=K.cache,f=K.event.special,g=K.support.deleteExpando,h=0;null!=(d=a[h]);h++)if((!d.nodeName||!K.noData[d.nodeName.toLowerCase()])&&(c=d[K.expando])){if(b=e[c],b&&b.events){for(var i in b.events)f[i]?K.event.remove(d,i):K.removeEvent(d,i,b.handle);b.handle&&(b.handle.elem=null)}g?delete d[K.expando]:d.removeAttribute&&d.removeAttribute(K.expando),delete e[c]}}});var Eb,Fb,Gb,Hb=/alpha\([^)]*\)/i,Ib=/opacity=([^)]*)/,Jb=/([A-Z]|^ms)/g,Kb=/^-?\d+(?:px)?$/i,Lb=/^-?\d/,Mb=/^([\-+])=([\-+.\de]+)/,Nb={position:"absolute",visibility:"hidden",display:"block"},Ob=["Left","Right"],Pb=["Top","Bottom"];K.fn.css=function(a,c){return 2===arguments.length&&c===b?this:K.access(this,a,c,!0,function(a,c,d){return d!==b?K.style(a,c,d):K.css(a,c)})},K.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Eb(a,"opacity","opacity");return""===c?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":K.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h=K.camelCase(c),i=a.style,j=K.cssHooks[h];if(c=K.cssProps[h]||h,d===b)return j&&"get"in j&&(f=j.get(a,!1,e))!==b?f:i[c];if(g=typeof d,"string"===g&&(f=Mb.exec(d))&&(d=+(f[1]+1)*+f[2]+parseFloat(K.css(a,c)),g="number"),null==d||"number"===g&&isNaN(d))return;if("number"===g&&!K.cssNumber[h]&&(d+="px"),!(j&&"set"in j&&(d=j.set(a,d))===b))try{i[c]=d}catch(k){}}},css:function(a,c,d){var e,f;return c=K.camelCase(c),f=K.cssHooks[c],c=K.cssProps[c]||c,"cssFloat"===c&&(c="float"),f&&"get"in f&&(e=f.get(a,!0,d))!==b?e:Eb?Eb(a,c):void 0},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),K.curCSS=K.css,K.each(["height","width"],function(a,b){K.cssHooks[b]={get:function(a,c,d){var e;return c?0!==a.offsetWidth?p(a,b,d):(K.swap(a,Nb,function(){e=p(a,b,d)}),e):void 0},set:function(a,b){return Kb.test(b)?(b=parseFloat(b),b>=0?b+"px":void 0):b}}}),K.support.opacity||(K.cssHooks.opacity={get:function(a,b){return Ib.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=K.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,b>=1&&""===K.trim(f.replace(Hb,""))&&(c.removeAttribute("filter"),d&&!d.filter)||(c.filter=Hb.test(f)?f.replace(Hb,e):f+" "+e)}}),K(function(){K.support.reliableMarginRight||(K.cssHooks.marginRight={get:function(a,b){var c;return K.swap(a,{display:"inline-block"},function(){c=b?Eb(a,"margin-right","marginRight"):a.style.marginRight}),c}})}),H.defaultView&&H.defaultView.getComputedStyle&&(Fb=function(a,b){var c,d,e;return b=b.replace(Jb,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),""===c&&!K.contains(a.ownerDocument.documentElement,a)&&(c=K.style(a,b))),c}),H.documentElement.currentStyle&&(Gb=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;return null===f&&g&&(e=g[b])&&(f=e),!Kb.test(f)&&Lb.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left="fontSize"===b?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d)),""===f?"auto":f}),Eb=Fb||Gb,K.expr&&K.expr.filters&&(K.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return 0===b&&0===c||!K.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||K.css(a,"display"))},K.expr.filters.visible=function(a){return!K.expr.filters.hidden(a)});var Qb,Rb,Sb=/%20/g,Tb=/\[\]$/,Ub=/\r?\n/g,Vb=/#.*$/,Wb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Xb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Yb=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Zb=/^(?:GET|HEAD)$/,$b=/^\/\//,_b=/\?/,ac=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bc=/^(?:select|textarea)/i,cc=/\s+/,dc=/([?&])_=[^&]*/,ec=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,fc=K.fn.load,gc={},hc={},ic=["*/"]+["*"];try{Qb=J.href}catch(jc){Qb=H.createElement("a"),Qb.href="",Qb=Qb.href}Rb=ec.exec(Qb.toLowerCase())||[],K.fn.extend({load:function(a,c,d){if("string"!=typeof a&&fc)return fc.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}var g="GET";c&&(K.isFunction(c)?(d=c,c=b):"object"==typeof c&&(c=K.param(c,K.ajaxSettings.traditional),g="POST"));var h=this;return K.ajax({url:a,type:g,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),h.html(f?K("<div>").append(c.replace(ac,"")).find(f):c)),d&&h.each(d,[c,b,a])}}),this},serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?K.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bc.test(this.nodeName)||Xb.test(this.type))}).map(function(a,b){var c=K(this).val();return null==c?null:K.isArray(c)?K.map(c,function(a){return{name:b.name,value:a.replace(Ub,"\r\n")}}):{name:b.name,value:c.replace(Ub,"\r\n")}}).get()}}),K.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){K.fn[b]=function(a){return this.on(b,a)}}),K.each(["get","post"],function(a,c){K[c]=function(a,d,e,f){return K.isFunction(d)&&(f=f||e,e=d,d=b),K.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),K.extend({getScript:function(a,c){return K.get(a,b,c,"script")},getJSON:function(a,b,c){return K.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?m(a,K.ajaxSettings):(b=a,a=K.ajaxSettings),m(a,b),a},ajaxSettings:{url:Qb,isLocal:Yb.test(Rb[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":ic},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:o(gc),ajaxTransport:o(hc),ajax:function(a,c){function d(a,c,d,g){if(2!==x){x=2,i&&clearTimeout(i),h=b,f=g||"",y.readyState=a>0?4:0;var l,n,o,v,w,z=c,A=d?k(p,y,d):b;if(a>=200&&300>a||304===a)if(p.ifModified&&((v=y.getResponseHeader("Last-Modified"))&&(K.lastModified[e]=v),(w=y.getResponseHeader("Etag"))&&(K.etag[e]=w)),304===a)z="notmodified",l=!0;else try{n=j(p,A),z="success",l=!0}catch(B){z="parsererror",o=B}else o=z,(!z||a)&&(z="error",0>a&&(a=0));y.status=a,y.statusText=""+(c||z),l?s.resolveWith(q,[n,z,y]):s.rejectWith(q,[y,z,o]),y.statusCode(u),u=b,m&&r.trigger("ajax"+(l?"Success":"Error"),[y,p,l?n:o]),t.fireWith(q,[y,z]),m&&(r.trigger("ajaxComplete",[y,p]),--K.active||K.event.trigger("ajaxStop"))}}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,l,m,o,p=K.ajaxSetup({},c),q=p.context||p,r=q!==p&&(q.nodeType||q instanceof K)?K(q):K.event,s=K.Deferred(),t=K.Callbacks("once memory"),u=p.statusCode||{},v={},w={},x=0,y={readyState:0,setRequestHeader:function(a,b){if(!x){var c=a.toLowerCase();a=w[c]=w[c]||a,v[a]=b}return this},getAllResponseHeaders:function(){return 2===x?f:null},getResponseHeader:function(a){var c;if(2===x){if(!g)for(g={};c=Wb.exec(f);)g[c[1].toLowerCase()]=c[2];c=g[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return x||(p.mimeType=a),this},abort:function(a){return a=a||"abort",h&&h.abort(a),d(0,a),this}};if(s.promise(y),y.success=y.done,y.error=y.fail,y.complete=t.add,y.statusCode=function(a){if(a){var b;if(2>x)for(b in a)u[b]=[u[b],a[b]];else b=a[y.status],y.then(b,b)}return this},p.url=((a||p.url)+"").replace(Vb,"").replace($b,Rb[1]+"//"),p.dataTypes=K.trim(p.dataType||"*").toLowerCase().split(cc),null==p.crossDomain&&(l=ec.exec(p.url.toLowerCase()),p.crossDomain=!(!l||l[1]==Rb[1]&&l[2]==Rb[2]&&(l[3]||("http:"===l[1]?80:443))==(Rb[3]||("http:"===Rb[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=K.param(p.data,p.traditional)),n(gc,p,c,y),2===x)return!1;if(m=p.global,p.type=p.type.toUpperCase(),p.hasContent=!Zb.test(p.type),m&&0===K.active++&&K.event.trigger("ajaxStart"),!p.hasContent&&(p.data&&(p.url+=(_b.test(p.url)?"&":"?")+p.data,delete p.data),e=p.url,p.cache===!1)){var z=K.now(),A=p.url.replace(dc,"$1_="+z);p.url=A+(A===p.url?(_b.test(p.url)?"&":"?")+"_="+z:"")}(p.data&&p.hasContent&&p.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",p.contentType),p.ifModified&&(e=e||p.url,K.lastModified[e]&&y.setRequestHeader("If-Modified-Since",K.lastModified[e]),K.etag[e]&&y.setRequestHeader("If-None-Match",K.etag[e])),y.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+ic+"; q=0.01":""):p.accepts["*"]);for(o in p.headers)y.setRequestHeader(o,p.headers[o]);if(p.beforeSend&&(p.beforeSend.call(q,y,p)===!1||2===x))return y.abort(),!1;for(o in{success:1,error:1,complete:1})y[o](p[o]);if(h=n(hc,p,c,y)){y.readyState=1,m&&r.trigger("ajaxSend",[y,p]),p.async&&p.timeout>0&&(i=setTimeout(function(){y.abort("timeout")},p.timeout));try{x=1,h.send(v,d)}catch(B){if(!(2>x))throw B;d(-1,B)}}else d(-1,"No Transport");return y},param:function(a,c){var d=[],e=function(a,b){b=K.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=K.ajaxSettings.traditional),K.isArray(a)||a.jquery&&!K.isPlainObject(a))K.each(a,function(){e(this.name,this.value)});else for(var f in a)l(f,a[f],c,e);return d.join("&").replace(Sb,"+")}}),K.extend({active:0,lastModified:{},etag:{}});var kc=K.now(),lc=/(\=)\?(&|$)|\?\?/i;K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return K.expando+"_"+kc++}}),K.ajaxPrefilter("json jsonp",function(b,c,d){var e="application/x-www-form-urlencoded"===b.contentType&&"string"==typeof b.data;if("jsonp"===b.dataTypes[0]||b.jsonp!==!1&&(lc.test(b.url)||e&&lc.test(b.data))){var f,g=b.jsonpCallback=K.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h=a[g],i=b.url,j=b.data,k="$1"+g+"$2";return b.jsonp!==!1&&(i=i.replace(lc,k),b.url===i&&(e&&(j=j.replace(lc,k)),b.data===j&&(i+=(/\?/.test(i)?"&":"?")+b.jsonp+"="+g))),b.url=i,b.data=j,a[g]=function(a){f=[a]},d.always(function(){a[g]=h,f&&K.isFunction(h)&&a[g](f[0])}),b.converters["script json"]=function(){return f||K.error(g+" was not called"),f[0]},b.dataTypes[0]="json","script"}}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return K.globalEval(a),a}}}),K.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),K.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=H.head||H.getElementsByTagName("head")[0]||H.documentElement;return{send:function(e,f){c=H.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){(e||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var mc,nc=a.ActiveXObject?function(){for(var a in mc)mc[a](0,1)}:!1,oc=0;K.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&i()||h()}:i,function(a){K.extend(K.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(K.ajaxSettings.xhr()),K.support.ajax&&K.ajaxTransport(function(c){if(!c.crossDomain||K.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=K.noop,nc&&delete mc[g]),e)4!==i.readyState&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m),l.text=i.responseText;try{j=i.statusText}catch(n){j=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async&&4!==i.readyState?(g=++oc,nc&&(mc||(mc={},K(a).unload(nc)),mc[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var pc,qc,rc,sc,tc={},uc=/^(?:toggle|show|hide)$/,vc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,wc=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];K.fn.extend({show:function(a,b,c){var f,g;if(a||0===a)return this.animate(e("show",3),a,b,c);for(var h=0,i=this.length;i>h;h++)f=this[h],f.style&&(g=f.style.display,!K._data(f,"olddisplay")&&"none"===g&&(g=f.style.display=""),""===g&&"none"===K.css(f,"display")&&K._data(f,"olddisplay",d(f.nodeName)));for(h=0;i>h;h++)f=this[h],f.style&&(g=f.style.display,(""===g||"none"===g)&&(f.style.display=K._data(f,"olddisplay")||""));return this},hide:function(a,b,c){if(a||0===a)return this.animate(e("hide",3),a,b,c);for(var d,f,g=0,h=this.length;h>g;g++)d=this[g],d.style&&(f=K.css(d,"display"),"none"!==f&&!K._data(d,"olddisplay")&&K._data(d,"olddisplay",f));for(g=0;h>g;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:K.fn.toggle,toggle:function(a,b,c){var d="boolean"==typeof a;return K.isFunction(a)&&K.isFunction(b)?this._toggle.apply(this,arguments):null==a||d?this.each(function(){var b=d?a:K(this).is(":hidden");K(this)[b?"show":"hide"]()}):this.animate(e("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,e){function f(){g.queue===!1&&K._mark(this);var b,c,e,f,h,i,j,k,l,m=K.extend({},g),n=1===this.nodeType,o=n&&K(this).is(":hidden");m.animatedProperties={};for(e in a){if(b=K.camelCase(e),e!==b&&(a[b]=a[e],delete a[e]),c=a[b],K.isArray(c)?(m.animatedProperties[b]=c[1],c=a[b]=c[0]):m.animatedProperties[b]=m.specialEasing&&m.specialEasing[b]||m.easing||"swing","hide"===c&&o||"show"===c&&!o)return m.complete.call(this);n&&("height"===b||"width"===b)&&(m.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===K.css(this,"display")&&"none"===K.css(this,"float")&&(K.support.inlineBlockNeedsLayout&&"inline"!==d(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=m.overflow&&(this.style.overflow="hidden");for(e in a)f=new K.fx(this,m,e),c=a[e],uc.test(c)?(l=K._data(this,"toggle"+e)||("toggle"===c?o?"show":"hide":0),l?(K._data(this,"toggle"+e,"show"===l?"hide":"show"),f[l]()):f[c]()):(h=vc.exec(c),i=f.cur(),h?(j=parseFloat(h[2]),k=h[3]||(K.cssNumber[e]?"":"px"),"px"!==k&&(K.style(this,e,(j||1)+k),i=(j||1)/f.cur()*i,K.style(this,e,i+k)),h[1]&&(j=("-="===h[1]?-1:1)*j+i),f.custom(i,j,k)):f.custom(i,c,""));return!0}var g=K.speed(b,c,e);return K.isEmptyObject(a)?this.each(g.complete,[!1]):(a=K.extend({},a),g.queue===!1?this.each(f):this.queue(g.queue,f))},stop:function(a,c,d){return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){function b(a,b,c){var e=b[c];K.removeData(a,c,!0),e.stop(d)}var c,e=!1,f=K.timers,g=K._data(this);if(d||K._unmark(!0,this),null==a)for(c in g)g[c]&&g[c].stop&&c.indexOf(".run")===c.length-4&&b(this,g,c);else g[c=a+".run"]&&g[c].stop&&b(this,g,c);for(c=f.length;c--;)f[c].elem===this&&(null==a||f[c].queue===a)&&(d?f[c](!0):f[c].saveState(),e=!0,f.splice(c,1));(!d||!e)&&K.dequeue(this,a)})}}),K.each({slideDown:e("show",1),slideUp:e("hide",1),slideToggle:e("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){K.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),K.extend({speed:function(a,b,c){var d=a&&"object"==typeof a?K.extend({},a):{complete:c||!c&&b||K.isFunction(a)&&a,duration:a,easing:c&&b||b&&!K.isFunction(b)&&b};return d.duration=K.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in K.fx.speeds?K.fx.speeds[d.duration]:K.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(a){K.isFunction(d.old)&&d.old.call(this),d.queue?K.dequeue(this,d.queue):a!==!1&&K._unmark(this)},d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),K.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(K.fx.step[this.prop]||K.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var a,b=K.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?b&&"auto"!==b?b:0:a},custom:function(a,c,d){function e(a){return f.step(a)}var f=this,h=K.fx;this.startTime=sc||g(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(K.cssNumber[this.prop]?"":"px"),e.queue=this.options.queue,e.elem=this.elem,e.saveState=function(){f.options.hide&&K._data(f.elem,"fxshow"+f.prop)===b&&K._data(f.elem,"fxshow"+f.prop,f.start)},e()&&K.timers.push(e)&&!rc&&(rc=setInterval(h.tick,h.interval))},show:function(){var a=K._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||K.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),K(this.elem).show()},hide:function(){this.options.orig[this.prop]=K._data(this.elem,"fxshow"+this.prop)||K.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=sc||g(),f=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(f=!1);if(f){if(null!=i.overflow&&!K.support.shrinkWrapBlocks&&K.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&K(h).hide(),i.hide||i.show)for(b in i.animatedProperties)K.style(h,b,i.orig[b]),K.removeData(h,"fxshow"+b,!0),K.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}return 1/0==i.duration?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=K.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},K.extend(K.fx,{tick:function(){for(var a,b=K.timers,c=0;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||K.fx.stop()},interval:13,stop:function(){clearInterval(rc),rc=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){K.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),K.each(["width","height"],function(a,b){K.fx.step[b]=function(a){K.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),K.expr&&K.expr.filters&&(K.expr.filters.animated=function(a){return K.grep(K.timers,function(b){return a===b.elem}).length});var xc=/^t(?:able|d|h)$/i,yc=/^(?:body|html)$/i;K.fn.offset="getBoundingClientRect"in H.documentElement?function(a){var b,d=this[0];if(a)return this.each(function(b){K.offset.setOffset(this,a,b)});if(!d||!d.ownerDocument)return null;if(d===d.ownerDocument.body)return K.offset.bodyOffset(d);try{b=d.getBoundingClientRect()}catch(e){}var f=d.ownerDocument,g=f.documentElement;if(!b||!K.contains(g,d))return b?{top:b.top,left:b.left}:{top:0,left:0};var h=f.body,i=c(f),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||K.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||K.support.boxModel&&g.scrollLeft||h.scrollLeft,n=b.top+l-j,o=b.left+m-k;return{top:n,left:o}}:function(a){var b=this[0];if(a)return this.each(function(b){K.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return K.offset.bodyOffset(b);for(var c,d=b.offsetParent,e=b,f=b.ownerDocument,g=f.documentElement,h=f.body,i=f.defaultView,j=i?i.getComputedStyle(b,null):b.currentStyle,k=b.offsetTop,l=b.offsetLeft;(b=b.parentNode)&&b!==h&&b!==g&&(!K.support.fixedPosition||"fixed"!==j.position);)c=i?i.getComputedStyle(b,null):b.currentStyle,k-=b.scrollTop,l-=b.scrollLeft,b===d&&(k+=b.offsetTop,l+=b.offsetLeft,K.support.doesNotAddBorder&&(!K.support.doesAddBorderForTableAndCells||!xc.test(b.nodeName))&&(k+=parseFloat(c.borderTopWidth)||0,l+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),K.support.subtractsBorderForOverflowNotVisible&&"visible"!==c.overflow&&(k+=parseFloat(c.borderTopWidth)||0,l+=parseFloat(c.borderLeftWidth)||0),j=c;return("relative"===j.position||"static"===j.position)&&(k+=h.offsetTop,l+=h.offsetLeft),K.support.fixedPosition&&"fixed"===j.position&&(k+=Math.max(g.scrollTop,h.scrollTop),l+=Math.max(g.scrollLeft,h.scrollLeft)),{top:k,left:l}},K.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return K.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(K.css(a,"marginTop"))||0,c+=parseFloat(K.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=K.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=K(a),h=g.offset(),i=K.css(a,"top"),j=K.css(a,"left"),k=("absolute"===d||"fixed"===d)&&K.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),K.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},K.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=yc.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(K.css(a,"marginTop"))||0,c.left-=parseFloat(K.css(a,"marginLeft"))||0,d.top+=parseFloat(K.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(K.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||H.body;a&&!yc.test(a.nodeName)&&"static"===K.css(a,"position");)a=a.offsetParent;return a})}}),K.each(["Left","Top"],function(a,d){var e="scroll"+d;K.fn[e]=function(d){var f,g;return d===b?(f=this[0])?(g=c(f),g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:K.support.boxModel&&g.document.documentElement[e]||g.document.body[e]:f[e]):null:this.each(function(){g=c(this),g?g.scrollTo(a?K(g).scrollLeft():d,a?d:K(g).scrollTop()):this[e]=d})}}),K.each(["Height","Width"],function(a,c){var d=c.toLowerCase();K.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(K.css(a,d,"padding")):this[d]():null},K.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(K.css(b,d,a?"margin":"border")):this[d]():null},K.fn[d]=function(a){var e=this[0];if(!e)return null==a?null:this;if(K.isFunction(a))return this.each(function(b){var c=K(this);c[d](a.call(this,b,c[d]()))});if(K.isWindow(e)){var f=e.document.documentElement["client"+c],g=e.document.body;return"CSS1Compat"===e.document.compatMode&&f||g&&g["client"+c]||f}if(9===e.nodeType)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var h=K.css(e,d),i=parseFloat(h);return K.isNumeric(i)?i:h}return this.css(d,"string"==typeof a?a:a+"px")}}),a.jQuery=a.$=K,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return K})}(window),function(){if(!window.XMLHttpRequest){var a=jQuery.ajax;jQuery.ajax=function(b){window.setTimeout(function(){a.call(jQuery,b)},0)},document.execCommand("backgroundimagecache",!1,!0)}}();var changyanjQuery=window.changyanjQuery=jQuery.noConflict(!0);return changyanjQuery}),define("D:/Www/sohu/cyf/v2.5/tmp-build/lib/underscore.js",function(require,exports,module){(function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.5.1";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b,c){return x.isEmpty(b)?c?void 0:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.findWhere=function(a,b){return x.where(a,b,!0)},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var C=function(a,b,c,d){var e={},f=B(null==b?x.identity:b);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return C(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return C(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]
},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return b&&x.every(a,x.isArray)?i.apply(c,a):(y(a,function(a){x.isArray(a)||x.isArguments(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c)};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=x.max(x.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=x.pluck(arguments,""+c);return b},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var E=function(){};x.bind=function(a,b){var c,d;if(w&&a.bind===w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(h.call(arguments)));E.prototype=a.prototype;var e=new E;E.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}},x.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:new Date,g=null,f=a.apply(d,e)};return function(){var j=new Date;h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},x.debounce=function(a,b,c){var d,e=null;return function(){var f=this,g=arguments,h=function(){e=null,c||(d=a.apply(f,g))},i=c&&!e;return clearTimeout(e),e=setTimeout(h,b),i&&(d=a.apply(f,g)),d}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&b.push(c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(x.isFunction(g)&&g instanceof g&&x.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var i=0,k=!0;if("[object Array]"==e){if(i=a.length,k=i==b.length)for(;i--&&(k=F(a[i],b[i],c,d)););}else{for(var l in a)if(x.has(a,l)&&(i++,!(k=x.has(b,l)&&F(a[l],b[l],c,d))))break;if(k){for(l in b)if(x.has(b,l)&&!i--)break;k=!i}}return c.pop(),d.pop(),k};x.isEqual=function(a,b){return F(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var G={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};G.unescape=x.invert(G.escape);var H={escape:new RegExp("["+x.keys(G.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(G.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(H[a],function(b){return G[a][b]})}}),x.result=function(a,b){if(null==a)return void 0;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),M.call(this,c.apply(x,a))}})};var I=0;x.uniqueId=function(a){var b=++I+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||J).source,(c.interpolate||J).source,(c.evaluate||J).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(L,function(a){return"\\"+K[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var M=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],M.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return M.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call({}),module.exports=exports._}),define("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js",function(require,exports,module){(function(){var Backbone,a=this,b=a.Backbone,c=[],d=c.push,e=c.slice,f=c.splice;Backbone="undefined"!=typeof exports?exports:a.Backbone={},Backbone.VERSION="1.0.0";var g=a._;g||"undefined"==typeof require||(g=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/underscore.js")),Backbone.$=a.jQuery||a.Zepto||a.ender||a.$,Backbone.noConflict=function(){return a.Backbone=b,this},Backbone.emulateHTTP=!1,Backbone.emulateJSON=!1;var h=Backbone.Events={on:function(a,b,c){if(!j(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!j(this,"once",a,[b,c])||!b)return this;var d=this,e=g.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},off:function(a,b,c){var d,e,f,h,i,k,l,m;if(!this._events||!j(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(h=a?[a]:g.keys(this._events),i=0,k=h.length;k>i;i++)if(a=h[i],f=this._events[a]){if(this._events[a]=d=[],b||c)for(l=0,m=f.length;m>l;l++)e=f[l],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=e.call(arguments,1);if(!j(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&k(c,b),d&&k(d,arguments),this},stopListening:function(a,b,c){var d=this._listeners;if(!d)return this;var e=!b&&!c;"object"==typeof b&&(c=this),a&&((d={})[a._listenerId]=a);for(var f in d)d[f].off(b,c,this),e&&delete this._listeners[f];return this}},i=/\s+/,j=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(i.test(c)){for(var f=c.split(i),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},k=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},l={listenTo:"on",listenToOnce:"once"};g.each(l,function(a,b){h[b]=function(b,c,d){var e=this._listeners||(this._listeners={}),f=b._listenerId||(b._listenerId=g.uniqueId("l"));return e[f]=b,"object"==typeof c&&(d=this),b[a](c,d,this),this}}),h.bind=h.on,h.unbind=h.off,g.extend(Backbone,h);var m=Backbone.Model=function(a,b){var c,d=a||{};b||(b={}),this.cid=g.uniqueId("c"),this.attributes={},g.extend(this,g.pick(b,n)),b.parse&&(d=this.parse(d,b)||{}),(c=g.result(this,"defaults"))&&(d=g.defaults({},d,c)),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)},n=["url","urlRoot","collection"];g.extend(m.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return g.clone(this.attributes)},sync:function(){return Backbone.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return g.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,e,f,h,i,j,k,l;if(null==a)return this;if("object"==typeof a?(e=a,c=b):(e={})[a]=b,c||(c={}),!this._validate(e,c))return!1;f=c.unset,i=c.silent,h=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=g.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in e&&(this.id=e[this.idAttribute]);for(d in e)b=e[d],g.isEqual(l[d],b)||h.push(d),g.isEqual(k[d],b)?delete this.changed[d]:this.changed[d]=b,f?delete l[d]:l[d]=b;if(!i){h.length&&(this._pending=!0);for(var m=0,n=h.length;n>m;m++)this.trigger("change:"+h[m],this,l[h[m]],c)}if(j)return this;if(!i)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,g.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var c in this.attributes)b[c]=void 0;return this.set(b,g.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!g.isEmpty(this.changed):g.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?g.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:this.attributes;for(var e in a)g.isEqual(d[e],b=a[e])||((c||(c={}))[e]=b);return c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return g.clone(this._previousAttributes)},fetch:function(a){a=a?g.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;return a.success=function(d){return b.set(b.parse(d,a),a)?(c&&c(b,d,a),void b.trigger("sync",b,d,a)):!1},K(this,a),this.sync("read",this,a)},save:function(a,b,c){var d,e,f,h=this.attributes;if(null==a||"object"==typeof a?(d=a,c=b):(d={})[a]=b,!(!d||c&&c.wait||this.set(d,c)))return!1;if(c=g.extend({validate:!0},c),!this._validate(d,c))return!1;d&&c.wait&&(this.attributes=g.extend({},h,d)),void 0===c.parse&&(c.parse=!0);var i=this,j=c.success;return c.success=function(a){i.attributes=h;var b=i.parse(a,c);return c.wait&&(b=g.extend(d||{},b)),g.isObject(b)&&!i.set(b,c)?!1:(j&&j(i,a,c),void i.trigger("sync",i,a,c))},K(this,c),e=this.isNew()?"create":c.patch?"patch":"update","patch"===e&&(c.attrs=d),f=this.sync(e,this,c),d&&c.wait&&(this.attributes=h),f},destroy:function(a){a=a?g.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(e){(a.wait||b.isNew())&&d(),c&&c(b,e,a),b.isNew()||b.trigger("sync",b,e,a)},this.isNew())return a.success(),!1;K(this,a);var e=this.sync("delete",this,a);return a.wait||d(),e},url:function(){var a=g.result(this,"urlRoot")||g.result(this.collection,"url")||J();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},g.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=g.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;return c?(this.trigger("invalid",this,c,g.extend(b||{},{validationError:c})),!1):!0}});var o=["keys","values","pairs","invert","pick","omit"];g.each(o,function(a){m.prototype[a]=function(){var b=e.call(arguments);return b.unshift(this.attributes),g[a].apply(g,b)}});var p=Backbone.Collection=function(a,b){b||(b={}),b.url&&(this.url=b.url),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,g.extend({silent:!0},b))},q={add:!0,remove:!0,merge:!0},r={add:!0,merge:!1,remove:!1};g.extend(p.prototype,h,{model:m,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return Backbone.sync.apply(this,arguments)},add:function(a,b){return this.set(a,g.defaults(b||{},r))},remove:function(a,b){a=g.isArray(a)?a.slice():[a],b||(b={});var c,d,e,f;for(c=0,d=a.length;d>c;c++)f=this.get(a[c]),f&&(delete this._byId[f.id],delete this._byId[f.cid],e=this.indexOf(f),this.models.splice(e,1),this.length--,b.silent||(b.index=e,f.trigger("remove",f,this,b)),this._removeReference(f));return this},set:function(a,b){b=g.defaults(b||{},q),b.parse&&(a=this.parse(a,b)),g.isArray(a)||(a=a?[a]:[]);var c,e,h,i,j,k=b.at,l=this.comparator&&null==k&&b.sort!==!1,m=g.isString(this.comparator)?this.comparator:null,n=[],o=[],p={};for(c=0,e=a.length;e>c;c++)(h=this._prepareModel(a[c],b))&&((i=this.get(h))?(b.remove&&(p[i.cid]=!0),b.merge&&(i.set(h.attributes,b),l&&!j&&i.hasChanged(m)&&(j=!0))):b.add&&(n.push(h),h.on("all",this._onModelEvent,this),this._byId[h.cid]=h,null!=h.id&&(this._byId[h.id]=h)));if(b.remove){for(c=0,e=this.length;e>c;++c)p[(h=this.models[c]).cid]||o.push(h);o.length&&this.remove(o,b)}if(n.length&&(l&&(j=!0),this.length+=n.length,null!=k?f.apply(this.models,[k,0].concat(n)):d.apply(this.models,n)),j&&this.sort({silent:!0}),b.silent)return this;for(c=0,e=n.length;e>c;c++)(h=n[c]).trigger("add",h,this,b);return j&&this.trigger("sort",this,b),this},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;d>c;c++)this._removeReference(this.models[c]);return b.previousModels=this.models,this._reset(),this.add(a,g.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),this},push:function(a,b){return a=this._prepareModel(a,b),this.add(a,g.extend({at:this.length},b)),a},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return a=this._prepareModel(a,b),this.add(a,g.extend({at:0},b)),a},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return g.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),g.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(g.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},sortedIndex:function(a,b,c){b||(b=this.comparator);var d=g.isFunction(b)?b:function(a){return a.get(b)};return g.sortedIndex(this.models,a,d,c)},pluck:function(a){return g.invoke(this.models,"get",a)},fetch:function(a){a=a?g.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;return a.success=function(d){var e=a.reset?"reset":"set";c[e](d,a),b&&b(c,d,a),c.trigger("sync",c,d,a)},K(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?g.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;return b.success=function(e){b.wait&&c.add(a,b),d&&d(a,e,b)},a.save(null,b),a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof m)return a.collection||(a.collection=this),a;b||(b={}),b.collection=this;var c=new this.model(a,b);return c._validate(a,b)?c:(this.trigger("invalid",this,a,b),!1)},_removeReference:function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var s=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];g.each(s,function(a){p.prototype[a]=function(){var b=e.call(arguments);return b.unshift(this.models),g[a].apply(g,b)}});var t=["groupBy","countBy","sortBy"];g.each(t,function(a){p.prototype[a]=function(b,c){var d=g.isFunction(b)?b:function(a){return a.get(b)};return g[a](this.models,d,c)}});var u=Backbone.View=function(a){this.cid=g.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},v=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];g.extend(u.prototype,h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(a,b){return this.$el&&this.undelegateEvents(),this.$el=a instanceof Backbone.$?a:Backbone.$(a),this.el=this.$el[0],b!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=g.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];if(g.isFunction(c)||(c=this[a[b]]),c){var d=b.match(v),e=d[1],f=d[2];c=g.bind(c,this),e+=".delegateEvents"+this.cid,""===f?this.$el.on(e,c):this.$el.on(e,f,c)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(a){this.options&&(a=g.extend({},g.result(this,"options"),a)),g.extend(this,g.pick(a,w)),this.options=a},_ensureElement:function(){if(this.el)this.setElement(g.result(this,"el"),!1);else{var a=g.extend({},g.result(this,"attributes"));this.id&&(a.id=g.result(this,"id")),this.className&&(a["class"]=g.result(this,"className"));var b=Backbone.$("<"+g.result(this,"tagName")+">").attr(a);this.setElement(b,!1)}}}),Backbone.sync=function(a,b,c){var d=x[a];g.defaults(c||(c={}),{emulateHTTP:Backbone.emulateHTTP,emulateJSON:Backbone.emulateJSON});var e={type:d,dataType:"json"};if(c.url||(e.url=g.result(b,"url")||J()),null!=c.data||!b||"create"!==a&&"update"!==a&&"patch"!==a||(e.contentType="application/json",e.data=JSON.stringify(c.attrs||b.toJSON(c))),c.emulateJSON&&(e.contentType="application/x-www-form-urlencoded",e.data=e.data?{model:e.data}:{}),c.emulateHTTP&&("PUT"===d||"DELETE"===d||"PATCH"===d)){e.type="POST",c.emulateJSON&&(e.data._method=d);var f=c.beforeSend;c.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",d),f?f.apply(this,arguments):void 0}}"GET"===e.type||c.emulateJSON||(e.processData=!1),"PATCH"!==e.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(e.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var h=c.xhr=Backbone.ajax(g.extend(e,c));return b.trigger("request",b,h,c),h};var x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};Backbone.ajax=function(){return Backbone.$.ajax.apply(Backbone.$,arguments)};var y=Backbone.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},z=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,B=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;g.extend(y.prototype,h,{initialize:function(){},route:function(a,b,c){g.isRegExp(a)||(a=this._routeToRegExp(a)),g.isFunction(b)&&(c=b,b=""),c||(c=this[b]);var d=this;return Backbone.history.route(a,function(e){var f=d._extractParameters(a,e);c&&c.apply(d,f),d.trigger.apply(d,["route:"+b].concat(f)),d.trigger("route",b,f),Backbone.history.trigger("route",d,b,f)}),this},navigate:function(a,b){return Backbone.history.navigate(a,b),this},_bindRoutes:function(){if(this.routes){this.routes=g.result(this,"routes");for(var a,b=g.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(C,"\\$&").replace(z,"(?:$1)?").replace(A,function(a,b){return b?a:"([^/]+)"}).replace(B,"(.*?)"),new RegExp("^"+a+"$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return g.map(c,function(a){return a?decodeURIComponent(a):null})}});var D=Backbone.History=function(){this.handlers=[],g.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,G=/msie [\w.]+/,H=/\/$/;D.started=!1,g.extend(D.prototype,h,{interval:50,getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(H,"");a.indexOf(c)||(a=a.substr(c.length))}else a=this.getHash();return a.replace(E,"")},start:function(a){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=g.extend({},{root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var b=this.getFragment(),c=document.documentMode,d=G.exec(navigator.userAgent.toLowerCase())&&(!c||7>=c);this.root=("/"+this.root+"/").replace(F,"/"),d&&this._wantsHashChange&&(this.iframe=Backbone.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(b)),this._hasPushState?Backbone.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!d?Backbone.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=b;var e=this.location,f=e.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!f?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&f&&e.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment+e.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){Backbone.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),D.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe))),a===this.fragment?!1:(this.iframe&&this.navigate(a),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(a){var b=this.fragment=this.getFragment(a),c=g.any(this.handlers,function(a){return a.route.test(b)?(a.callback(b),!0):void 0});return c},navigate:function(a,b){if(!D.started)return!1;if(b&&b!==!0||(b={trigger:b}),a=this.getFragment(a||""),this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),Backbone.history=new D;var I=function(a,b){var c,d=this;c=a&&g.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},g.extend(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&g.extend(c.prototype,a),c.__super__=d.prototype,c};m.extend=p.extend=y.extend=u.extend=D.extend=I;var J=function(){throw new Error('A "url" property or function must be specified')},K=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}}}).call({jQuery:require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js")}),module.exports=exports}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js",function(require,exports,module){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js"),b=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/json2.js"),c=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/cookie.js"),$=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/jquery.v1.7.1.js"),d=(require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/underscore.js"),{UUID:0,resetIframeHeight:function(a,c){if(SOHUCS.useDiv&&!SOHUCS.nodeData.configData.extend.isvIframe)return void Backbone.Events.trigger("EVT_RESET_HEIGHT");var d,e=document;if(d=a?"number"==typeof a?Math.max(a,parseInt(e.getElementById("SOHU-comment-main").offsetHeight)):e.getElementById("SOHU-comment-main").offsetHeight:Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),e.getElementById("SOHU-comment-main").offsetHeight),window.callParent){var f=$("body").height();c&&(d=c>d?c:d),callParent(b.stringify({iframeHeight:d}))}if(SOHUCS.nodeData.configData.extend&&SOHUCS.nodeData.configData.extend.isvIframe)try{var g=window.parent.document,h=$(g).find("#changyan_comment"),i=$(g).find("iframe[name=comment]"),j=h.length>0?h:i,k=$(g).find("#changyan_comment").get(0)||$(g).find("iframe[name=comment]").get(0),f=$("body").height();c&&(d=c>d?c:d),d>f&&$("body").css({overflow:"hidden"}).height(d),j.height(d),k.height=d}catch(l){}Backbone.Events.trigger("EVT_RESET_HEIGHT")},isSohuStyle:function(){var a=SOHUCS.nodeData.configData.extend;return a&&a.node&&"comm"==a.path?!0:!1},isLogin:function(){return SOHUCS&&2==SOHUCS.cy_login?!0:!1},isIsvLogin:function(){return!1},getClientID:function(){var a=SOHUCS.clientid;return a},getTopicID:function(){var a=SOHUCS.nodeData.listData.topic_id||0;return a},encode:function(a){return a.replace(/<|%3C/gi,"&lt;").replace(/>|%3E/gi,"&gt;").replace(/"|%22/g,"&quot;").replace(/&lt;br&gt;/g,"<br>").replace(/&amp;/g,"&").replace(/&quot;/g,"")},decode:function(a){return a.replace(/<|%3C/gi,"&lt;").replace(/>|%3E/gi,"&gt;").replace(/"|%22/g,"&quot;").replace(/&amp;/g,"&").replace(/&quot;/g,"").replace(/\n/g,"</br>")},parentRefresh:function(){window.callParent&&callParent(b.stringify({refresh:!0}))},parentExecScript:function(a,b,c){var d=this;if(a.length)var e=a.length,f=0,g=200,h=setInterval(function(){return f>=e-1?(clearInterval(h),h=null,void(SOHUCS.useDiv?d.loadScript(a[f],function(){b?setTimeout(function(){location.reload()},1e3):c&&c()}):d.parentLoadScript(a[f],b))):(d.loadScript(a[f]),void(f+=1))},g)},parentLoadScript:function(a,c){window.callParent&&callParent(b.stringify({loadScript:a,page_reload:c}))},loadScript:function(a,b){var c=document,d=c.head||c.getElementsByTagName("head")[0]||c.documentElement,e=c.createElement("script");e.type="text/javascript",e.charset="utf-8",e.readyState?e.onreadystatechange=function(){/loaded|complete/i.test(e.readyState)&&(e.onreadystatechange=null,b&&b.call(this))}:e.onload=function(){b&&b.call(this)},e.src=a,d.insertBefore(e,d.firstChild)},parentTopJumpUrl:function(a){window.callParent&&callParent(b.stringify({parentJumpUrl:a}))},getServiceUrl:function(){var a="http://changyan.sohu.com";return a},setCaretPosition:function(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);
else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}},getUserDefaultIcon:function(){var b=SOHUCS.config.sys.globalSite.defaultIcon;return b=""==b||null==b?a.dev.get("isv:uri:res2")+"asset/scs/imgs/pic/head42-default.gif":b},_getTopicInfo:function(a){var b=!1;if(SOHUCS.nodeData.configData.extend&&SOHUCS.nodeData.configData.extend.isvIframe&&(b=SOHUCS.nodeData.configData.extend.isvIframe),null!=SOHUCS.config.sys.iframe)var c=location.search,d=c.split("?")[1],e=d.split("&"),f=function(){var a={};if(e.length)for(var b=0,c=e.length;c>b;b++){var d=e[b].split("=");a[d[0]]||(a[d[0]]=d[1])}return a},g=f(),h=decodeURIComponent(g.topicurl),i=decodeURIComponent(g.cyanTitle),j=decodeURIComponent(g.title),k="null"!=g.topicsid?g.topicsid:"",l="null"!=g.topic_parent_id?g.topic_parent_id:"",m="null"!=g.category_id?g.category_id:"",n="null"!=g.topicoid?g.topicoid:"";else{var o=document.getElementById("SOHUCS"),h=b?window._config.sUrl||window.parent.document.location.href:location.href,j=document.title,i=SOHUCS.config.sys._config&&"undefined"!=typeof SOHUCS.config.sys._config.cyanTitle?SOHUCS.config.sys._config.cyanTitle:"",k=o.getAttribute("sid"),l=SOHUCS.config.sys._config&&"undefined"!=typeof SOHUCS.config.sys._config.parentId?SOHUCS.config.sys._config.parentId:"",m=SOHUCS.config.sys._config&&"undefined"!=typeof SOHUCS.config.sys._config.categoryId?SOHUCS.config.sys._config.categoryId:"",n=o.getAttribute("oid")||"";k=null!=k?k:"",l=null!=l?l:"",m=null!=m?m:"",n=null!=n?n:""}return"url"==a?h:"title"==a?j:"oid"==a?n:"pid"==a?l:"cid"==a?m:"cyanTitle"==a?i:k},getTopicUrl:function(){var a=this._getTopicInfo("url"),b=SOHUCS.config.sys.globalSite.urlParameter,c=SOHUCS.config.sys.globalSite.urlRegularFrom,d=SOHUCS.config.sys.globalSite.urlRegularTo;return""!=b&&(a=this.filterURL(a,b)),""!=c&&(a=this.filterPageURL(a,c,d)),a},getTopicTitle:function(){var a=this._getTopicInfo("title");return a},getTopicSID:function(){var a=this._getTopicInfo("id");return a},getTopicOID:function(){var a=this._getTopicInfo("oid");return a},getParentID:function(){var a=this._getTopicInfo("pid");return a},getCategoryID:function(){var a=this._getTopicInfo("cid");return a},getCyanTitle:function(){var a=this._getTopicInfo("cyanTitle");return a&&"undefined"!=a||(a=void 0),a},getTopicMeta:function(){for(var a=document.getElementsByTagName("meta"),b="",c=0;c<a.length;c++)"description"==a[c].name&&(b=a[c].content);return b},getCYbuild:function(){var a=SOHUCS.config.sys.interfaceVersion;return a},_fileterAnchor:function(a){var b=-1!=a.indexOf("#")?a.split("#")[0]:a;return b},filterURL:function(a,b){var a=this._fileterAnchor(a),c=a.indexOf("?");if(-1==c||!b)return a;var d=a.substring(0,c),e=a.substring(c+1),f=[];f=b.split(",");for(var g=0,h=f.length;h>g;g++){var i="&?"+f[g]+"((\\b$)|(=$)|(=[^&]+&?))",j=new RegExp(i,"ig");e=e.replace(j,"")}return e&&(d=d+"?"+e),d},filterPageURL:function(a,b,c){var d=arguments,e=Object.prototype.toString;if(d.length<3)return a;var a=a,b="[object RegExp]"===e.call(b)?b:new RegExp(b),c=c;if(!b.test(a))return a;try{}catch(f){}return a.replace(b,c)},cyQuit:function(b){var c=this;$.ajax({url:a.dev.get("isv:uri:api")+"api/2/logout?client_id="+SOHUCS.clientid,type:"get",dataType:"jsonp",scriptCharset:"utf-8",success:function(){try{c._sohuSysQuit(b)}catch(a){}},error:function(){}})},_sohuSysQuit:function(a){var b=this;$.ajax({url:"http://plus.sohu.com/a/spassport/logoutservice",type:"get",scriptCharset:"utf-8",dataType:"jsonp",jsonp:"cb",scriptCharset:"utf-8",async:!1,success:function(){try{b._logoutservice=!0,$.getScript("http://passport.sohu.com/sso/logout.jsp?s="+(new Date).getTime()+"&appid=9999",function(){b._logout=!0,b._sohuSysQuitHandle(a)})}catch(c){}},error:function(){}})},_sohuSysQuitHandle:function(a){var b=this;b._logoutservice&&b._logout&&(b._logoutservice=!1,b._logout=!1,SOHUCS.userinfo&&SOHUCS.userinfo.isSSO?SOHUCS.userinfo.isvLogout(function(){SOHUCS.reset(a)}):SOHUCS.reset(a))},supportCORS:function(){return window.XMLHttpRequest?(this.xhr=this.xhr||new XMLHttpRequest,"withCredentials"in this.xhr?!0:!1):!1},getPublicJsonData:function(){},bindOtherPlateform:function(a,b,d){if(b.initDialog($),this.allowOpenDialog){var e=this,f=SOHUCS.model.cboxModel.updateConfData({type:"config",info:SOHUCS.config.sys.module.login.platform}),g=SOHUCS.useDiv?"center":100,h=function(a){a.stopPropagation(),a.preventDefault();var b=a.target,c=$(b);if($(b).parents("a[data-rel=bindBtn]").get(0)||"bindBtn"==$(b).attr("data-rel")){b=$(b).parents("a[data-rel=bindBtn]").get(0)||$(b).get(0);var d={url:$(b).attr("href"),height:$(b).attr("win-height"),width:$(b).attr("win-width"),"post-data":$(b).attr("post-data"),target:c.get(0)};e._bindOtherPlateformHandle(d)}},i='{{#data}}<ul class="clear-g">{{#list}}<li {{#hideBind}}style="display:none"{{/hideBind}}><div class="login-wrap-w login-wrap-b"><a data-rel="bindBtn" win-width="{{winWidth}}" title="{{name}}" win-height="{{winHeight}}" href="http://changyan.sohu.com/api/2/user/passport/binding?client_id={{client_id}}&platform_id={{platform_id}}"><span class="wrap-icon-w icon30-{{className}}-b"></span><span class="wrap-name-w wrap-name-b">{{shortName}}</span></a></div></li>{{/list}}</ul>{{/data}}';if(contentInnerHTML=d.to_html(i,{data:f}),config={id:"sohu_dialog_bindPlateform",width:400,title:"绑定以下账号",idClass:"fast-issue-wrap-sohu",dialogClass:"reset-g windows-define-dg bind-number-wrapper-dw",modal:!0,position:["center",g],beforeClose:function(){$(this).remove(),c.cookie("CY_VST_CM","-100|"+SOHUCS.model.userinfoModel.get("user_id"),{domain:SOHUCS.useDiv?location.hostname.match(/^w{3}\./i)&&location.hostname.replace(/^w{3}\./i,""):".changyan.sohu.com",expires:365}),e.resetIframeHeight(!0)},contentInner:{innerHTML:contentInnerHTML,klass:"cont-login-dw",handle:h}},$("#"+config.id).get(0)||$("body").append('<div id="'+config.id+'"></div>'),a=$("#comment_sohu").find(".cbox-block-w"),!a.find(".alert-bindbar").get(0))var j=$('<div class="cbox-prompt-w" style="display: none;"><a href="javascript:void(0)" class="prompt-reply-w alert-bindbar"><span class="prompt-close-w"><i class="close-img-w close-img-b alert-bindbar-closeBtn"></i></span><span class="prompt-reply-w prompt-reply-b">您正在使用游客发表评论，为避免您的数据丢失，可点击激活账号。</span></a></div>').appendTo(a);$(".alert-bindbar-closeBtn").on("click",function(a){a.stopPropagation(),a.preventDefault(),j.remove(),c.cookie("CY_VST_CM","-100|"+SOHUCS.model.userinfoModel.get("user_id"),{domain:SOHUCS.useDiv?location.hostname.match(/^w{3}\./i)&&location.hostname.replace(/^w{3}\./i,""):".changyan.sohu.com",expires:365})}),$(".alert-bindbar").on("click",function(a){a.stopPropagation(),a.preventDefault(),j.remove(),$("#"+config.id).dialog(config)})}},_bindOtherPlateformHandle:function(a){function b(){c.cookie("CY_VST_CM","-100|"+SOHUCS.model.userinfoModel.get("user_id"),{domain:SOHUCS.useDiv?location.hostname.match(/^w{3}\./i)&&location.hostname.replace(/^w{3}\./i,""):".changyan.sohu.com",expires:365}),$("#sohu_dialog_bindPlateform").dialog("close"),window.childWin.close()}{var d=a.url,e=a.width,f=a.height;window.screen.width,window.screen.height}d=d+"&url="+location.host+"&connName="+SOHUCS.connName,window.childWin=window.open(d,"","alwaysRaised=yes,width="+e+",height="+f+",scrollbars=no,z-look=yes"),SOHUCS.fromBB=function(){c.cookie("CY_VST_CM","-100|"+SOHUCS.model.userinfoModel.get("user_id"),{domain:SOHUCS.useDiv?location.hostname.match(/^w{3}\./i)&&location.hostname.replace(/^w{3}\./i,""):".changyan.sohu.com",expires:365}),$("#sohu_dialog_bindPlateform").dialog("close"),window.childWin.close()},window.addEventListener&&(window.removeEventListener("message",b),window.addEventListener("message",b))},randomNickname:function(b){if(!this.isLogin()){var c=a.dev.get("isv:uri:api")+"api/2/user/random_nick";$.ajax({url:c,type:"get",data:{client_id:SOHUCS.clientid},dataType:"jsonp",jsonpCallback:"randomNickname",scriptCharset:"utf-8",success:function(a){try{b&&b(a)}catch(c){}},error:function(){throw new Error("error")}})}},setVisitorCookie:function(){var a,b,d,e=0;if(userinfoModel=SOHUCS.model.userinfoModel,userinfoModel.get("nickname_commentsum")){if(c.cookie("CY_VST_CM")){if(a=c.cookie("CY_VST_CM"),b=parseInt(a.split("|")[0]),d=a.split("|")[1],-100===b&&d==userinfoModel.get("user_id"))return void(this.allowOpenDialog=!1);userinfoModel.get("user_id")==c.cookie("CY_VST_CM").split("|")[1]?e=parseInt(c.cookie("CY_VST_CM").split("|")[0]):(c.cookie("CY_VST_CM",0,{domain:SOHUCS.useDiv?location.hostname.match(/^w{3}\./i)&&location.hostname.replace(/^w{3}\./i,""):".changyan.sohu.com",expires:-1}),e=userinfoModel.get("comment_sum"))}else e=userinfoModel.get("comment_sum");e+=1,a=e+"|"+userinfoModel.get("user_id"),c.cookie("CY_VST_CM",a,{domain:SOHUCS.useDiv?location.hostname.match(/^w{3}\./i)&&location.hostname.replace(/^w{3}\./i,""):".changyan.sohu.com",expires:365}),this.allowOpenDialog=e>4?!0:!1}},timeArr:[],monitor:{time:function(a){var b=new Date,c=b.getTime(),d={};d[a]=c,scsUtil.timeArr.push(d)},timeEnd:function(a){var b=new Date,c=b.getTime(),d="";duration="";for(var e=0;e<scsUtil.timeArr.length;e++)d=scsUtil.timeArr[e][a];duration=c-d},pingBack:function(b){for(var c=[{list:a.dev.get("isv:uri:api")+"api/server/ping/list"}],d="",e=0;e<this.backUrlArr.length;e++)d=c[e][b];$.ajax({url:d,data:"",dataType:"jsonp",success:function(a){try{console.log(a)}catch(b){}}})}},clickMonitor:function(b){var c=a.dev.get("isv:uri:api")+"stat/luastat",d="undefined"!=typeof SOHUCS.config.sys._config?!0:!1,e=d&&"undefined"!=typeof SOHUCS.config.sys._config.customSohu?"sohu":"outer";$.ajax({url:c,dataType:"jsonp",data:{type:b,from:e},success:function(){}})},UVMonitorCookie:function(){var b,c,d,e=0,f=this;c=SOHUCS.nodeData.listData.topic_id||0,d=SOHUCS.config.sys._config&&SOHUCS.config.sys._config.categoryId,d=d?d:"_";var b=a.dev.get("isv:cookie:debug_uuid");if(b&&""!=b&&"-"!=b)e=b,f.statisUv(e,c,d);else{e=f.getUUid(),f.statisUv(e,c,d);var g=new Date;g=new Date(g.setDate(g.getDate()+365)).toString();var h="debug_uuid="+e+"; expires="+g+"; path=/; domain=.changyan.sohu.com";$.ajax({url:"http://changyan.sohu.com/debug/cookie?setCookie="+h,dataType:"jsonp",type:"GET"})}},statisUv:function(b,c,d){var e=new Date,f=e.getTime(),g=a.dev.get("isv:uri:api")+"stat/uvstat?uuid="+b+"&client_id="+SOHUCS.clientid+"&category_id="+d+"&topic_id="+c+"&t="+f;window.setTimeout(function(){$.ajax({url:g,dataType:"jsonp",type:"GET",success:function(){}})},2e3),a.dev.set("uuid",b)},getUUid:function(){function a(){this.id=this.createUUID()}a.prototype.valueOf=function(){return this.id},a.prototype.toString=function(){return this.id},a.prototype.createUUID=function(){var b=new Date(1582,10,15,0,0,0,0),c=new Date,d=c.getTime()-b.getTime(),e=a.getIntegerBits(d,0,31),f=a.getIntegerBits(d,32,47),g=a.getIntegerBits(d,48,59)+"1",h=a.getIntegerBits(a.rand(4095),0,7),i=a.getIntegerBits(a.rand(4095),0,7),j=a.getIntegerBits(a.rand(8191),0,7)+a.getIntegerBits(a.rand(8191),8,15)+a.getIntegerBits(a.rand(8191),0,7)+a.getIntegerBits(a.rand(8191),8,15)+a.getIntegerBits(a.rand(8191),0,15);return e+f+g+h+i+j},a.getIntegerBits=function(b,c,d){var e=a.returnBase(b,16),f=new Array,g="",h=0;for(h=0;h<e.length;h++)f.push(e.substring(h,h+1));for(h=Math.floor(c/4);h<=Math.floor(d/4);h++)g+=f[h]&&""!=f[h]?f[h]:"0";return g},a.returnBase=function(a,b){return a.toString(b).toUpperCase()},a.rand=function(a){return Math.floor(Math.random()*(a+1))};var b=a.prototype.createUUID();return b},sendLog:function(b){var c=a.dev.get("isv:uri:api")+"stat/event",d={uuid:a.dev.get("isv:cookie:debug_uuid")||"NULL",topicId:SOHUCS.nodeData&&SOHUCS.nodeData.listData&&SOHUCS.nodeData.listData.topic_id||0,clientid:SOHUCS.clientid||"cyrkKYELy",type:b||"NULL"},e=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/data-center.js"),f=e.get("isv:config:isv_type"),g=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/util.js");try{f=g.upper(f)}catch(h){f="UNDEFINED"}d.type="LOG-V25-"+f+"-"+d.type,$.ajax({url:c,type:"GET",dataType:"jsonp",data:d})},sendUserLog:function(b,c){var d=a.dev.get("isv:uri:api")+"stat/user",e={uid:SOHUCS.model.userinfoModel.get("user_id")||0,uuid:a.dev.get("isv:cookie:debug_uuid")||"NULL",client_id:SOHUCS.clientid,topic_id:SOHUCS.nodeData&&SOHUCS.nodeData.listData&&SOHUCS.nodeData.listData.topic_id,comment_id:c||0,type:b};if(e.uuid&&e.client_id&&e.topic_id&&e.type){var f=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/data-center.js"),g=f.get("isv:config:isv_type"),h=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/util.js");try{g=h.upper(g)}catch(i){g="UNDEFINED"}e.type="LOG-V25-"+g+"-"+e.type,$.ajax({url:d,type:"GET",dataType:"jsonp",data:e})}},reload:function(){if(a.dev.get("isv:useIframe")!==!1){var b=new Messager("changyan",parent,"reloadFrame");b.post("data","reloadParent")}else location.reload()},objectAVoid:function(){$('base[target="_blank"]').length>0&&($('#SOHUCS a[href="javascript:void(0)"]').attr("target","_self"),$('#user_page a[href="javascript:void(0)"]').attr("target","_self"),$('#changyan_floatbar_wrapper a[href="javascript:void(0)"]').attr("target","_self"))}});module.exports=d}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/data-center.js",function(require,exports,module){var a={};module.exports={set:function(b,c){var d,e=b.split(":"),f=a;for(d=0;d<e.length;d++)void 0===f[e[d]]&&(f[e[d]]={}),d===e.length-1?f[e[d]]=c:f=f[e[d]];return c},get:function(b){if("/"===b)return a;var c,d=b.split(":"),e=a;for(c=0;c<d.length&&(e=e[d[c]],void 0!==e);c++);return e}}}),define("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js",function(require,exports,module){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/data-center.js"),b={dev:{get:a.get,set:a.set},sohucs:function(b){return a.set("SOHUCS",window.SOHUCS),b=b.replace(/\./g,":"),a.get(b)}};module.exports=b,window.changyan.global=b}),define("D:/Www/sohu/cyf/v2.5/tmp-build/changyan.v2.5.js",function(require,exports,module){function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}function topHeight(a){for(var b=0;a;)b+=a.offsetTop,a=a.offsetParent;return b}function getArticleInfo(){var a=doc.title,b=encodeURIComponent(window.location.href),c=document.getElementsByTagName("link"),d="",e=document.getElementsByTagName("meta"),f=$$global.dev.get("isv:appid"),g={},h={},i=document.getElementById("SOHUCS").getAttribute("sid");if(a=util.len(a)<100?a:util.left(a,100,".."),a=encodeURIComponent(a),"undefined"==typeof _config||1!=_config.ignore_canonical)for(var j=0;j<c.length;j++)"canonical"==c[j].rel&&(b=encodeURIComponent(c[j].href));for(var j=0;j<e.length;j++)"description"==e[j].name&&(d=encodeURIComponent(e[j].content));return h="undefined"!=typeof _config?_config:{cbox:"",hideList:"",hideSubList:"",jumpUrl:"",varName:"",customSohu:"",customSohuTv:"",pageSize:"",hotSize:"",categoryId:"",commentHide:"",partHide:"",hotTagHide:"",topic_parent_id:"",skin:"",cyanTitle:"",hidePic:"",version:"",sUrl:"",showScore:"",hideHotNews:"",newCommNoScroll:""},page_conf="undefined"!=typeof _config?_config:{},g={appid:SOHUCS.clientid,conf:$$global.dev.get("isv:conf"),confstr:$$global.dev.get("isv:conf"),client_id:f,title:a,topicurl:("string"==typeof h.sUrl?encodeURIComponent(h.sUrl):"")||b,topicsid:i||"",cbox:h.cbox||"",hideList:h.hideList||"",hideSubList:h.hideSubList||"",cyanTitle:encodeURIComponent(h.cyanTitle||""),jumpUrl:h.jumpUrl||"",varName:h.varName||"",customSohu:h.customSohu||!1,customSohuTv:h.customSohuTv||!1,pageSize:h.pageSize>=0?h.pageSize:"",hotSize:h.hotSize>=0?h.hotSize:"",category_id:h.categoryId||"",commentHide:h.commentHide||"",partHide:h.partHide||"",hotTagHide:h.hotTagHide||"",topic_parent_id:h.parentId||"",skin:h.skin||"",hidePic:h.hidePic||"",version:h.version||"",showScore:h.showScore||"",hideHotNews:h.hideHotNews||"",spSize:5,newCommNoScroll:h.newCommNoScroll||!1,order_by:h.order_by||"",pageConf:JSON.stringify(page_conf)},SOHUCS.articleInfo=g,g}function getPublicJosn(){window.evtDispatcher&&changyanjQuery("#SOHUCS").bind("dataEvent.jsonData",function(a,b){evtDispatcher.fireEvent({type:"public.jsonData",json:b})})}function refresh(){window.location.reload()}function topJumpUrl(){window.changyanjQuery&&changyanjQuery("#SOHUCS").bind("actionEvent.doJumpUrl",function(a,b){window.location.href=b})}function doScroll(){var a=SOHUCS.nodeData.configData&&SOHUCS.nodeData.configData.extend&&SOHUCS.nodeData.configData.extend.isvIframe?!0:!1;window.changyanjQuery&&changyanjQuery("#SOHUCS").bind("actionEvent.doScroll",function(b,c){var d=parseInt(c)>0?parseInt(c):0;if(a)try{var e=window.parent.document,f=changyanjQuery(e).find("#changyan_comment").get(0)||changyanjQuery(e).find("iframe[name=comment]").get(0),g=topHeight(f);window.parent.scrollTo(0,g+d)}catch(h){}else{var i=topHeight(targetWrapper);window.scrollTo(0,i+d)}})}function pageInit(a,b){var c=document,SOHUCS=window.SOHUCS||(window.SOHUCS={});SOHUCS.config=SOHUCS.config||{},SOHUCS.config.scroll=!0,SOHUCS.config.pageRequer=!1,SOHUCS.config.sys=a.data,SOHUCS.config.extend=a.extend,SOHUCS.nodeData=b?b:{},function(SOHUCS){function a(a){function b(){var a,b;if(!SOHUCS.config.extend||!SOHUCS.config.extend.frontend)return!1;a=SOHUCS.config.extend.frontend,b=a.file;for(var c=0;c<=b.length;c++)if("defaultcss"==b[c])return!0}function d(){var a=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/main.js");f(),l?changyanjQuery(function(){a.init()}):a.init()}function e(){var a=c.getElementById("list_sohu"),b=(c.getElementById("powerby_sohu"),SOHUCS.config.sys._config&&SOHUCS.config.sys._config.hideList?!0:!1),d=SOHUCS.nodeData.listData.outer_cmt_sum;(b||0==d)&&(SOHUCS.nodeData.listData.comments=[],SOHUCS.nodeData.listHtml=""),a.innerHTML=SOHUCS.nodeData.listHtml?SOHUCS.nodeData.listHtml.replace(/\n+/g,"<br />"):"",util.monitor.timeEnd("firstView"),util.monitor.diffTimeEnd("firstView","noIframe")}function f(){getArticleInfo(),doScroll(0),getPublicJosn(null),topJumpUrl(null)}var g,h='<div id="SOHU_MAIN"><div id="SOHU-comment-main" class="sohu-comment-wrapper"><div id="article_info_sohu"></div><div id="login_sohu"></div><div id="comment_sohu"></div><div id="list_sort_sohu"></div><div id="list_sohu"></div><div id="list_hot"></div><div id="page_sohu"></div><div id="more_list_sohu"></div><div id="powerby_sohu"></div></div></div>';targetWrapper.innerHTML=h;var i=navigator.userAgent.toLowerCase(),j=function(a){return a.test(i)},k=j(/msie/),l=k&&!window.XMLHttpRequest,m=k&&j(/msie 7/),n=k&&j(/msie 8/);seajs.v="v=##CY_JS_VERSION##",seajs.v.indexOf("v=##")>=0&&(seajs.v="v="+ +new Date);var o=[$$global.dev.get("isv:uri:res2")+"asset/scs/css/changyan2.css"],p=2===SOHUCS.nodeData.configData.data.globalSite.skin?!0:!1,q=a._config&&"black"==a._config.skin?!0:!1,r="undefined"!=typeof SOHUCS.nodeData.configData.data.globalSite.customCssType&&-1!=SOHUCS.nodeData.configData.data.globalSite.customCssType?!0:!1,s=r?SOHUCS.nodeData.configData.data.globalSite.customCssType:99,t=r?SOHUCS.nodeData.configData.data.globalSite.customCssUrl||"defaultcss":"defaultcss",u=b();if(p||q?(r=!0,s=21):a._config&&a._config.skin&&(r=!0,s="red"==a._config.skin?12:"orange"==a._config.skin?13:"indigo"==a._config.skin?14:"green"==a._config.skin?15:"redBlack"==a._config.skin?22:"greyBlack"==a._config.skin?23:11),!r||u)p||q?(o.push($$global.dev.get("isv:uri:res2")+"asset/scs/css/scs/black.css"),SOHUCS.isCustomSkin=!0):(o.push($$global.dev.get("isv:uri:res2")+"asset/scs/css/scs/default.css"),SOHUCS.isCustomSkin=!1);else switch(s){case 0:o.push($$global.dev.get("isv:uri:res2")+"asset/scs/css/scs/default.css"),o.push(t);break;case 11:o.push($$global.dev.get("isv:uri:res2")+"asset/scs/css/scs/default.css");break;case 12:o.push("sinkRed"),SOHUCS.skinFloatCbox=$$global.dev.get("isv:uri:res2")+"asset/scs/css/skin/default_red/changyan2-floatCbox.css";break;case 13:o.push("skinOrange"),SOHUCS.skinFloatCbox=$$global.dev.get("isv:uri:res2")+"asset/scs/css/skin/default_orange/changyan2-floatCbox.css";break;case 14:o.push("skinIndigo"),SOHUCS.skinFloatCbox=$$global.dev.get("isv:uri:res2")+"asset/scs/css/skin/default_indigo/changyan2-floatCbox.css";break;case 15:o.push("sinkGreen"),SOHUCS.skinFloatCbox=$$global.dev.get("isv:uri:res2")+"asset/scs/css/skin/default_green/changyan2-floatCbox.css";break;case 21:o.push($$global.dev.get("isv:uri:res2")+"asset/scs/css/scs/black.css"),SOHUCS.skinFloatCbox=$$global.dev.get("isv:uri:res2")+"asset/scs/css/skin/black/changyan2-floatCbox.css";break;case 22:o.push("skinRedBlack"),SOHUCS.skinFloatCbox=$$global.dev.get("isv:uri:res2")+"asset/scs/css/skin/black_red/changyan2-floatCbox.css";break;case 23:o.push("skinGreyBlack"),SOHUCS.skinFloatCbox=$$global.dev.get("isv:uri:res2")+"asset/scs/css/skin/black_grey/changyan2-floatCbox.css";break;default:o.push($$global.dev.get("isv:uri:res2")+"asset/scs/css/scs/default.css")}if(l?o.push($$global.dev.get("isv:uri:res2")+"asset/scs/css/changyan2-ie6.css"):m?o.push($$global.dev.get("isv:uri:res2")+"asset/scs/css/changyan2-ie7.css"):n&&o.push($$global.dev.get("isv:uri:res2")+"asset/scs/css/changyan2-ie8.css"),seajs.use(o,function(){InterfaceStatus.changyanCss=!0,uinfo_cfg_handle(),e(),d()}),l)switch(s){case 0:seajs.use($$global.dev.get("isv:uri:res2")+"asset/scs/css/scs/changyan2-ie6-default.css");break;case 11:seajs.use($$global.dev.get("isv:uri:res2")+"asset/scs/css/scs/changyan2-ie6-default.css");break;case 12:seajs.use("sinkRedIE6");break;case 13:seajs.use("skinOrangeIE6");break;case 14:seajs.use("skinIndigoIE6");break;case 15:seajs.use("sinkGreenIE6");break;case 21:seajs.use($$global.dev.get("isv:uri:res2")+"asset/scs/css/scs/changyan2-ie6-black.css");break;case 22:seajs.use("skinRedBlackIE6");break;case 23:seajs.use("skinGreyBlackIE6");break;default:seajs.use($$global.dev.get("isv:uri:res2")+"asset/scs/css/scs/changyan2-ie6-default.css")}g=a.globalSite.css.width,targetWrapper.style.cssText=parseInt(g)>=400&&parseInt(g)<=1200?"width:"+g+"px;height:auto;":"width:100%;height:auto;"}a(SOHUCS.config.sys)}(SOHUCS)}function uinfo_cfg_handle(){if(InterfaceStatus.userinfo&&InterfaceStatus.changyanCss){InterfaceStatus.userinfo=!1,InterfaceStatus.changyanCss=!1;var a=1==parseInt(SOHUCS.nodeData.configData.data.globalSite.allowUploadImg)?!0:!1,b=a?'<li class="function-uploadimg-w"><a href="javascript:void(0)" class="effect-w"><i class="uploadimg-b"></i></a><div class="uploadimg-file-w"></div><div class="img-btn-cover" style="width:40px;height:40px;margin-top:-40px;z-index:-1;position: relative;"></div></li>':"",c='<div class="reset-g section-cbox-w"><div class="clear-g cbox-block-w"><div class="block-head-w"><div class="head-img-w"><a href="javascript:void(0)" target="_blank"><img src="http://changyan.itc.cn/v2/asset/scs/imgs/pic/head42-default.gif" width="42" height="42" alt=""/></a></div></div><div class="block-post-w block-post-default-e"><div class="post-wrap-w post-wrap-b"><div class="wrap-area-w"><div class="area-textarea-w"><textarea name="" class="textarea-fw textarea-bf"></textarea></div></div><div class="clear-g wrap-action-w wrap-action-b"><div class="action-function-w action-function-b relative-z-w"><ul class="clear-g"><li class="function-face-w"><a href="javascript:void(0)" class="effect-w"><i class="face-b"></i></a></li>'+b,d=document.getElementById("article_info_sohu"),e='<div class="reset-g clear-g section-title-w"><div class="title-join-w"><div class="join-wrap-w join-wrap-b"><strong class="wrap-name-w wrap-name-b"></strong><span class="wrap-join-w wrap-join-b"><em class="join-strong-gw join-strong-bg">&nbsp;</em><i class="gap-b">&nbsp;</i><em class="join-strong-gw join-strong-bg">&nbsp;</em>&nbsp;</span></div></div><div class="title-user-w" style="display:none"><div class="clear-g"><span class="wrap-name-w wrap-name-b">&nbsp;</span><span class="wrap-icon-w wrap-icon-b"></span><div class="wrap-menu-dw wrap-menu-bd"><div class="menu-box-dw menu-box-bd"><a href="javascript:void(0)"><i class="gap-dgw">&nbsp;</i></a><a class="menu-box-dw-quit" href="javascript:void(0)"><i class="gap-dgw gap-bdg">&nbsp;</i></a></div></div></div></div></div>';""==d.innerHTML&&(d.innerHTML=e),("1"===$$global.dev.get("isv:config:simple_cbox")||$$global.dev.get("isv:simpleCbox")===!0)&&(c='<div class="reset-g section-cbox-w"><div class="clear-g cbox-block-w"><div class="block-head-w"><div class="head-img-w"><a target="_self" href="javascript:void(0)"><img width="42" height="42" alt="" src="http://changyan.itc.cn/v2/asset/scs/imgs/pic/head42-default.gif"></a></div></div><div class="block-post-w"><div class="post-default-w post-default-b"><div class="clear-g default-wrap-w"><input type="text" name="" value="" class="wrap-text-f "/><button class="btn-fw btn-bf single-btn-bf">发布</button></div></div></div></div></div>'),""==document.getElementById("comment_sohu").innerHTML&&(document.getElementById("comment_sohu").innerHTML=c)}}function init(){if(util.monitor.time("firstView"),InterfaceStatus.userinfo=!0,uinfo_cfg_handle(),util.importStyle(changYanCss,"changyanCss"),util.setSohucsStyle(),doc.getElementById("SOHUCS")){var a=($$global.dev.get("isv:appid"),getArticleInfo());util.monitor.time("nodeApi");var b=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/underscore.js"),c=b.extend({},a);c.confstr=c.appid="",util.load($$global.dev.get("isv:uri:api")+"node/html?t="+(new Date).getTime(),{type:"jsonp",data:c},function(a){var b="noIframe";if(util.monitor.timeEnd("nodeApi"),util.monitor.diffTimeEnd("nodeApi",b),a.configData.dataErr)return void(targetWrapper.style.cssText="");InterfaceStatus.config=!0;var c=a;a=c.configData,doc.getElementById("SOHUCS").innerHTML="","undefined"!=typeof _config?(a.data._config=_config,SOHUCS.page_config=_config):SOHUCS.page_config={},a.data.iframe=null,SOHUCS.useDiv=!0;var d=a.data.plugins;SOHUCS.userinfo.isSSO="true"===$$global.dev.get("isv:config:sso")?!0:!1,SOHUCS.userinfo.isSSOFromLogo=d&&d.isvLogoUrl&&d.ssoButtonAction&&d.ssoButtonActionType?!0:!1,pageInit(a,c)})}}var $$global=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/global.js"),$$dataCenter=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/util/data-center.js"),$$scsUtil=require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/scsUtil.js");!function(){var a=function(a,b){try{delete a[b]}catch(c){a[b]=void 0}};!function(){var b=window.changyan.api.tmpIsvConfig;b.config=b.serverConfig,a(b,"serverConfig"),a(window.changyan.api,"tmpIsvConfig");var c=b.config;"true"!==c.sso&&(delete c.sso_type,delete c.sso_button_action,delete c.sso_button_action_type,delete c.sso_isv_login,delete c.sso_isv_logout,delete c.sso_isv_userInfo,delete c.sso_login_logo),$$global.dev.set("isv",b)}()}(),require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/adapter/cyqE875ep.js"),require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/adapter/cyrAvpLyq.js");var SOHUCS=window.SOHUCS;SOHUCS.clientid=$$global.dev.get("isv:appid");var seajs=window.changyan&&window.changyan.seajs,cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep,win=window,doc=document,head=doc.head||doc.getElementsByTagName("head")[0]||doc.documentElement,$id=function(a){return"string"==typeof a?doc.getElementById(a):a},service="http://assets.changyan.sohu.com",changYanCss="#SOHUCS{clear:both;min-height:320;_height:320px;overflow:visible;}#SOHUCS iframe{width:100%;min-height:320px;_height:320px;}",config=SOHUCS.config=SOHUCS.config||{},targetWrapper=doc.getElementById("SOHUCS"),JSON=win.JSON?win.JSON:{parse:function(str){if(str){var json=eval("("+str+")");return json}},stringify:function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}};SOHUCS.isipad=/ipad/gi.test(win.navigator.userAgent)?!0:!1,SOHUCS.userinfo={};var InterfaceStatus={userinfo:!1,config:!1},util={};!function(a){var b=navigator.userAgent,c=Number(b.replace(/.*AppleWebKit\/(\d+)\..*/,"$1"))<536,d=b.indexOf("Firefox")>0&&!("onload"in document.createElement("link"));a.trim=function(a){var b=a,c=b.replace(/^\s*|\s*$/g,"");return c},a.len=function(a){var b=a.replace(/[^\x00-\xff]/g,"**");return b.length},a.left=function(a,b,c){if(!("number"!=typeof b||0>b)){var d=b,e=c||"",f=a,g=new Array,h=f.replace(/[^\x00-\xff]/g,function(a){return g.push(a),"*)"});if(h[d-1]&&"*"==h[d-1]&&")"==h[d]&&d++,d>=h.length)return f;h=h.substr(0,d);var i=0;return h=h.replace(/(\*\))/g,function(){var a=g[i];return i++,a}),h+e}},a.extend=function(a,b){if(a&&b&&"object"==typeof b)for(var c in b)a[c]=b[c];return a},a.each=function(a,b){var c,d,e,f=a.length;if("function"==typeof b)for(e=0;f>e&&(d=a[e],c=b.call(a,d,e),c!==!1);e++);return a},a.importStyle=function(a,b){if(b&&doc.getElementById(b))var c=doc.getElementById(b);else{var c=doc.createElement("style");b&&(c.id=b),head.appendChild(c)}c.styleSheet?c.styleSheet.cssText=a:(c.innerHTML="",c.appendChild(doc.createTextNode(a)))},a.setSohucsStyle=function(){var a="width:100%;min-height:320px;_height:320px;overflow:visible;background:url(http://changyan.itc.cn/v2/asset/scs/imgs/loading-page.v130423.gif) no-repeat center center";targetWrapper.style.cssText=a},a.onImgErrorHandle=SOHUCS.isImgErr=function(a){a.isError||(a.setAttribute("isError",!0),a.removeAttribute("onerror"),a.src=$$global.dev.get("isv:uri:res2")+"asset/scs/imgs/pic/head42-default.gif")},a.quit=changyan.api.quit=function(){var b=arguments,c=b.length,d=$$global.dev.get("isv:uri:api")+"api/2/logout",e=function(){};c>1&&"string"==typeof b[0]&&/^http/i.test(b[0])&&(d=b[0]),c>0&&"function"==typeof b[c-1]&&(e=b[c-1]),a.load(d,{type:"jsonp",jsonpCallback:"SOHUCS_quit",data:{client_id:SOHUCS.clientid}},e)},a.load=function(a,b,e){var f=Object.prototype.toString;"[object Function]"===f.call(b)&&(e=b,b={});var g=b.type||"script",h=b.jsonpCallback||"fn",i="jsonp"==g?b.callbackName||"callback":"",j=b.data||"",k=function(a){var b,c=[],d=encodeURIComponent;for(b in a)a.hasOwnProperty(b)&&(""!=a[b]||parseInt(a[b])>=0)&&c.push(b+"="+d(a[b]));return c.join("&")},a=a+(/\?/.test(a)?"&":i||j?"?":"")+(i?i+"="+h:"")+(j?"&"+k(j):""),l=function(a,b){var c=doc.createElement("script");c.type="text/javascript",c.charset="utf-8",c.readyState?c.onreadystatechange=function(){/loaded|complete/i.test(c.readyState)&&(c.onreadystatechange=null,b&&b.call(this))}:c.onload=function(){b&&b.call(this)},c.src=a,head.insertBefore(c,head.firstChild)},m=function(a,b){var c=doc.createElement("link");c.type="text/css",c.rel="stylesheet",c.href=a,head.insertBefore(c,head.firstChild),o(c,b)},n=function(){var a=arguments,b=a[0],c=a[1],d=Object.prototype.toString;b&&/script/i.test(b.tagName)&&b.parentNode.removeChild(b),c&&"[object String]"===d.call(c)&&(window[c]=null)
},o=function(a,b){c||d?setTimeout(function(){p(a,b)},1):a.onload=a.onerror=function(){a.onload=a.onerror=null,a=void 0,b()}},p=function(a){var b;if(c)a.sheet&&(b=!0);else if(a.sheet)try{a.sheet.cssRules&&(b=!0)}catch(d){"NS_ERROR_DOM_SECURITY_ERR"===d.name&&(b=!0)}};switch(g){case"jsonp":{win[h]=e}l(a,function(){n(this,h)});break;case"css":m(a,e);break;case"swf":loadSwf(a,e);break;default:l(a,e)}},a.monitor={timeArr:[],endTimeArr:[],diffTimers:["firstView","nodeApi"],diffTimeArr:[],time:function(a){var b=new Date,c=b.getTime(),d={};d[a]=c,this.timeArr.push(d)},timeEnd:function(a){var b=new Date,c=b.getTime(),d={};d[a]=c,this.endTimeArr.push(d)},diffTimeEnd:function(a,b){for(var c="",d="",e="",f=0;f<this.timeArr.length;f++)for(var g in this.timeArr[f])g==a&&(c=this.timeArr[f][a]);for(var f=0;f<this.endTimeArr.length;f++)for(var g in this.endTimeArr[f])g==a&&(d=this.endTimeArr[f][a]);""!=c&&""!=d&&(e=d-c,e&&e>0&&this.setDiffTimes(a,e,b))},setMTime:function(a,b){for(var c=0;c<this.timeArr.length;c++)for(var d in this.timeArr[c])d==a&&(this.timeArr[c][a]=b)},getMTime:function(a){for(var b="",c=0;c<this.timeArr.length;c++)for(var d in this.timeArr[c])d==a&&(b=this.timeArr[c][a]);return b},setDiffTimes:function(a,b,c){var d={};d[a]=b,this.diffTimeArr.push(d),this.getDiffTimes(c)},getDiffTimes:function(a){var b="";if(this.diffTimers.length==this.diffTimeArr.length){for(var c=0;c<this.diffTimeArr.length;c++)for(var d in this.diffTimeArr[c])b=b+d+"="+this.diffTimeArr[c][d]+"&";this.pingBackDiff(b,a)}},pingBackDiff:function(b,c){var d=new Date,e=d.getTime(),f=$$global.dev.get("isv:uri:api")+"stat/timestat?"+b+"type="+c+"&client_id="+SOHUCS.clientid+"&t="+e;a.load(f,{type:"script"})}}}(util),init(),function(){var a=$$global.dev.get("isv:config");a&&"stable"===a.isv_type&&require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/stable/stable.js")}(),require("D:/Www/sohu/cyf/v2.5/tmp-build/widget/log/global.js"),function(){var a=!1,b={getUUID:function(){return $$global.dev.get("uuid")},getAppid:function(){return SOHUCS.clientid}};window.changyan.api=window.changyan.api||{},window.changyan.api.ready=function(c){if(a)return void(c&&c(b));var d=$$dataCenter.get("readyFn")||[];"function"==typeof c&&(d.push(c),$$dataCenter.set("readyFn",d))};var Backbone=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/backbone.js");Backbone.Events.on("CUSTOM_EVT_READY",function(){var c=require("D:/Www/sohu/cyf/v2.5/tmp-build/lib/underscore.js"),d=$$dataCenter.get("readyFn")||[];c.forEach(d,function(a){a(b)}),a=!0})}()}),run("D:/Www/sohu/cyf/v2.5/tmp-build/changyan.v2.5.js"),require.async=function(a,b){var seajs=window.changyan&&window.changyan.seajs;seajs&&seajs.use(a,b)}}();