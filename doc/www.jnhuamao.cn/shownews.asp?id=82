<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>济南华茂科技有限公司</title>
<link href="css.css" rel="stylesheet" type="text/css">
</head>

<body leftmargin="0" topmargin="0">

<table width="1000" border="0" cellspacing="0" cellpadding="0" align="center">
    <tr> 
      <td height="75" align="left"><a href="index.asp"><img src="images/index_02.gif" border="0"></a></td>
      <td align="left"><a href="index.asp"><img src="images/index_04.gif" border="0"></a></td>
	  <td align="right"><a href="index.asp"><img src="images/index1_05.gif" border="0"></a></td>
	  <td align="right">
	  
	  <table border="0" align="center">
	  	<tr>
			<td><a href="about.asp?ID=82" target="_blank">About&nbsp;&nbsp;&nbsp;&nbsp;Huamao</a></td>
		</tr>
		<tr>
			<td><a href="contact.asp?ID=82" target="_blank">Contact&nbsp;&nbsp;Huamao</a></td>
		</tr>
		<tr>
			<td><a href="index_en.asp?ID=82" target="_blank">Download Center</a></td>
		</tr>
	  </table>
	  
	  </td>
    </tr>
</table>


<table width="765" border="1" align="center" cellpadding="0" cellspacing="0" bordercolordark="#FFFFFF" bordercolorlight="#6699FF">
  <tr> 
    <td valign="top" align="center">
        <table width="90%" border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td valign="middle">　<img src="images/ico.jpg" width="11" height="11"> <font color="#FF0000"><strong><font color="#000066">当前位置：阅读信息</font></strong></font></td>
          </tr>
		  <tr><td valign=top align=center><DIV style='ONT-SIZE: 20px; COLOR: #484848; LINE-HEIGHT: 200%'><b>[资料]如何使用HMSoft的ANCS功能(V524)</b></div></td></tr><tr><td valign=top align=center><img src=admin/proimg/201352911511345392.jpg WIDTH=700><br></td></tr><tr><td style='LINE-HEIGHT: 200%'><br>&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp; HMSoft verion V524 added ANCS support (not include HMSensor version)<br />================================================================================<br />
1. How to open ANCS function<br />&nbsp; 1.1 Please read apple notification ducument first.<br />&nbsp; 1.2 Send AT+TYPE3 command change to AUTH and BOND mode.<br />&nbsp; 1.3 Send AT+ANCS1 command to open ANCS.<br />&nbsp; 1.4 Send AT+PASS[para1] command to set passcode. Default passcode is "000000"<br />&nbsp; 1.5 Send AT+RESET to restart module.<br />&nbsp; Now you can use LightBlue or our software to scan and made a connect with module.<br />&nbsp; iOS will ask you input passcode. please input your passcode value.<br />&nbsp; If all is okay,&nbsp; you should receive AT+ANCS[para1] command from module UART.<br />2. About AT+ANCS[para1] command<br />&nbsp; AT+ANCSN: module open Notification Source SUCCESSED.<br />&nbsp; AT+ANCSC: module open Control Point SUCCESSED.<br />&nbsp; AT+ANCSD: module open Data Source SUCCESSED.<br />3. Get ANCS notification information<br />&nbsp; When iOS notification center has an change (such as call, email, shortmessage)<br />&nbsp; Module will output AT+ANCS8[para2] command through UART.<br />4. About AT+ANCS8[para2] command.<br />&nbsp;&nbsp; Format such as : AT+ANCS801012345<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8: The length of the para1.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0: EventID.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EventIDNotificationAdded = 0,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EventIDNotificationModified = 1,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EventIDNotificationRemoved = 2,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Reserved EventID values = 3C255<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1: CategoryID.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CategoryIDOther = 0,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CategoryIDIncomingCall = 1,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CategoryIDMissedCall = 2,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CategoryIDVoicemail = 3,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CategoryIDSocial = 4,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CategoryIDSchedule = 5,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CategoryIDEmail = 6,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CategoryIDNews = 7,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CategoryIDHealthAndFitness = 8,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CategoryIDBusinessAndFinance = 9,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CategoryIDLocation = 10,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CategoryIDEntertainment = 11,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Reserved CategoryID values = 12C255<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 01: CategoryCount<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The current number of active iOS notifications in the given category. <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; For example, if two unread emails are sitting in a user’s email inbox, <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and a new email is pushed to the user’s iOS device, the value of CategoryCount is 3.<br />&nbsp;&nbsp;&nbsp; 2345: NotificationUID<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A 32-bit numerical value that is the unique identifier (UID) for the iOS notification. <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; This value can be used as a handle in commands sent to the Control Point characteristic <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; to retrieve more information about the iOS notification.<br />5. Get Notification Attributes<br />&nbsp;&nbsp; AT+ANCS[para1][para2][para3]<br />&nbsp;&nbsp; Format such as: AT+ANCS2345100<br />&nbsp;&nbsp; para1: NotificationUID.<br />&nbsp;&nbsp; Para2: NotificationAttributeID<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NotificationAttributeIDAppIdentifier = 0,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NotificationAttributeIDTitle = 1, (Needs to be followed by a 2-bytes max length parameter)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NotificationAttributeIDSubtitle = 2, (Needs to be followed by a 2-bytes max length parameter)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NotificationAttributeIDMessage = 3, (Needs to be followed by a 2-bytes max length parameter)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NotificationAttributeIDMessageSize = 4,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NotificationAttributeIDDate = 5,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Reserved NotificationAttributeID values = 6C255<br />&nbsp;&nbsp; Para3: max length parameter<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If para2 value is 0, 4, 5, para3 must set to "00"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if para2 value is 1, 2, 3, you need setup a number.<br />6. Aoubt Get Notification Attributes Response<br />&nbsp;&nbsp; AT+ANCSW: Send request SUCCESSED.<br />&nbsp;&nbsp; AT+ANCS[para1]: <br />&nbsp;&nbsp; para1 value is 0x00 ~ 0x14.<br />&nbsp;&nbsp; Mean the next package length you need to receive.<br />&nbsp;&nbsp; [........]: The byte array you need to receive.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Show in apple Notification document Figure 2-6. (page 9)<br />&nbsp;&nbsp; After you receive AT+ANCSW, you may receive AT+ANCS[para1] many times. until the Fingure 2-6 package is completed.<br />7. How to remove ANCS.<br />&nbsp;&nbsp; 7.1 Remove bond information from iOS.<br />&nbsp;&nbsp; 7.2 Execute AT+ERASE remove module bond information.<br />&nbsp;&nbsp; 7.3 Execute AT+ANCS0 close module ANCS function.<br />&nbsp;&nbsp; 7.4 Execute AT+RESET to restart module.<br />
<br />&nbsp;&nbsp; ANCS is easy to use, you dont need write any iOS code. iOS will manage the bluetooth link and push the message to module.<br />&nbsp;&nbsp; If you have any good idea, please mail me: <a href="mailto:guocg@jnhuamao.cn">guocg@jnhuamao.cn</a>.<br />&nbsp;&nbsp; My english is not good, I hope you can made this document perfect. <br />&nbsp;&nbsp; Thank you.<br />
&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HMSoft<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="http://www.jnhuamao.cn">www.jnhuamao.cn</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="http://www.huamaosoft.com">www.huamaosoft.com</a><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2014-03-08<br />
&nbsp;<br />
&nbsp;<br /></td></tr><tr><td valign=top align=right>技术支持: webmaster@jnhuamao.cn</td></tr>
        </table>
    </td>
  </tr>
</table>
<br>
<table width="1000" border="0" cellspacing="0" cellpadding="0" align="center">
<tr>
<td height="2" bgcolor="#E3E2E3"></td>
</tr>
<tr>
<td height="10" bgcolor="#808080"></td>
</tr>
    <tr>       
    <td bgcolor="#808080" align="center">
	
	<a href="about.asp" target="_blank"><font color="#FFFFFF">About us</font></a> 　| 　<a href="contact.asp" target="_blank"><font color="#FFFFFF">Contact us</font></a> 
          　| 　<a href="index_en.asp" target="_blank"><font color="#FFFFFF">Download Center</font></a>
	
      <noscript><a href="http://www.51.la/?15659788" target="_blank"><img alt="&#x6211;&#x8981;&#x5566;&#x514D;&#x8D39;&#x7EDF;&#x8BA1;" src="http://img.users.51.la/15659788.asp" style="border:none" /></a></noscript></td>
    </tr>
<tr>
<td height="5" bgcolor="#808080"></td>
</tr>
	<tr>
	<td background="images/index_53.gif" height="10"></td>
	</tr>
    <tr> 
      <td height="60"  bgcolor="#808080" align="center">
		<font color="#FFFFFF">Mail: webmaster@jnhuamao.cn<br>
          Copyright 2007-2013 Jinan Huamao technology Co., LTD. &nbsp;<br>
          <script language="javascript" type="text/javascript" src="http://js.users.51.la/15659788.js"></script></font></td>
    </tr>
  </table>
  
</body>
</html>